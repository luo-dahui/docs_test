<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>EVM Smart Contract · PlatON</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="This guide introduces the development process of smart contracts and issues should be noticed during development process from the perspective of the developer. It guides developers to quickly develop high-quality smart contracts on the PlatON network. Mainly from the following aspects to explain："/><meta name="docsearch:language" content="en"/><meta property="og:title" content="EVM Smart Contract · PlatON"/><meta property="og:type" content="website"/><meta property="og:url" content="https://luo-dahui.github.io//docs/"/><meta property="og:description" content="This guide introduces the development process of smart contracts and issues should be noticed during development process from the perspective of the developer. It guides developers to quickly develop high-quality smart contracts on the PlatON network. Mainly from the following aspects to explain："/><meta property="og:image" content="https://luo-dahui.github.io//docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://luo-dahui.github.io//docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/docs/img/logo.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@8.4.0/dist/mermaid.min.js"></script><script type="text/javascript" src="/docs/js/custom.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="https://www.platon.network/?lang=en"><img class="logo" src="/docs/img/PlatON-logo.svg" alt="PlatON"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/zh-CN/EVM_Smart_Contract">中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Smart Contracts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON Developer Docs<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/">PlatON Developer Docs</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON Basis<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Overall_Solution">PlatON Overall Solution</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Economic_Model">PlatON Economic Model</a></li><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Solution">PlatON Consensus Solution</a></li><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Governance_Solution">PlatON Governance Solution</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Secure_Multi_Party_Computation">Secure Multi Party Computation</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Verifiable_Computation">Verifiable Computation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON Node<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Validation_Introduce">Introduction to the PlatON validation node</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Network_Description">Network Description</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">My Example Subcategory</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/Become_PlatON_Main_Verification">Become the main network verification node</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Become_PlatON_Dev_Verification">Become the development network verification node</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Node Tools<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/OnLine_MTool_Manual">OnLine PlatON MTool Tutorials</a></li><li class="navListItem"><a class="navItem" href="/docs/en/OffLine_MTool_Manual">OffLine PlatON MTool Manual</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Command_Line_Tools">PlatON Command line tools</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Smart Contracts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/EVM_Smart_Contract">EVM Smart Contract</a></li><li class="navListItem"><a class="navItem" href="/docs/en/WASM_Smart_Contract">WASM Smart Contract</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API Reference<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/Python_SDK">Python SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Java_SDK">Java SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/en/JS_SDK">JS SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Json_Rpc">JSON RPC</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Data And Analytics<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_BlockChain_Browser">区块链浏览器介绍</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Wallet<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/ATON-user-manual">ATON Wallet User Manual</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Community Projects<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/community">Community Projects</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">EVM Smart Contract</h1></header><article><div><span><p>This guide introduces the development process of smart contracts and issues should be noticed during development process from the perspective of the developer. It guides developers to quickly develop high-quality smart contracts on the PlatON network. Mainly from the following aspects to explain：</p>
<ul>
<li><a href="#development-manual">Development Manual</a></li>
<li><a href="#migrate-contract">Migrate Contract</a></li>
<li><a href="#crowdfunding-contract">Crowdfunding Contract</a></li>
<li><a href="#development-costs">Development Costs</a></li>
<li><a href="#best-practice">Best Practice</a></li>
<li><a href="#contract-security-development-guide">Contract Security Development Guide</a></li>
<li><a href="#faq">FAQ</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="development-manual"></a><a href="#development-manual" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Development Manual</h2>
<h3><a class="anchor" aria-hidden="true" id="introduction"></a><a href="#introduction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h3>
<p>This tutorial is mainly to guide users to create a simple HelloWorld smart contract using solidity language on PlatON, compile, deploy, and call this contract through platon-truffle. If you want to use a richer API you can refer to <a href="/docs/en/Java_SDK">Java SDK</a> and  <a href="/docs/en/JS_SDK">JS SDK</a></p>
<h3><a class="anchor" aria-hidden="true" id="platon-truffle-introduction"></a><a href="#platon-truffle-introduction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Platon-truffle Introduction</h3>
<p>Platon-truffle is a tool provided by PlatON that can compile, deploy, and invoke smart contracts locally. For specific installation and usage manuals, refer to:</p>
<ul>
<li>Platon-truffle develop tools <a href="https://platon-truffle.readthedocs.io/en/v0.13.1/getting-started/installation.html">specific installation</a></li>
<li>Platon-truffle develop tools <a href="https://platon-truffle.readthedocs.io/en/v0.13.1/">usage manuals</a></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="create-helloworld-contract"></a><a href="#create-helloworld-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create HelloWorld Contract</h3>
<pre><code class="hljs">pragma solidity ^<span class="hljs-number">0.5</span><span class="hljs-number">.13</span>;

contract HelloWorld {
    
    string <span class="hljs-type">name</span>;
    
    <span class="hljs-keyword">function</span> setName(string memory _name) <span class="hljs-built_in">public</span> <span class="hljs-keyword">returns</span>(string memory){
        <span class="hljs-type">name</span> = _name;
        <span class="hljs-keyword">return</span> <span class="hljs-type">name</span>;
    }
    
    <span class="hljs-keyword">function</span> getName() <span class="hljs-built_in">public</span> <span class="hljs-keyword">view</span> <span class="hljs-keyword">returns</span>(string memory){
        <span class="hljs-keyword">return</span> <span class="hljs-type">name</span>;
    }
}
</code></pre>
<p>Contract Files Description:</p>
<ul>
<li>pragma solidity ^0.5.13
<ul>
<li><code>pragma solidity</code>: solidity version description
<code>0.5.13</code>：solidity version
<code>^</code> ：Indicates upward compatibility, that is, it can be compiled with a compiler above 0.5.13</li>
</ul></li>
<li>contract HelloWorld
<ul>
<li><code>contract</code>：contract keyword
<code>HelloWorld</code>：contract name</li>
</ul></li>
<li>string name
<ul>
<li><code>name</code>：contract state variables
<code>string</code>：the type of contract state variables</li>
</ul></li>
<li>function setName(string memory _name) public returns(string memory)
<ul>
<li><code>function</code>：function keyword
<code>setName</code>：function name
<code>memory</code>：declare the storage location of param name（ function input parameters and output parameters  must be declared as memory when the parameters type is string）
<code>_name</code>：the  local variables
<code>public</code>：declare the visibility of the function
<code>name</code> = _name：Assignment the local variable to state variable</li>
</ul></li>
<li>function getName() public view returns(string memory)
<ul>
<li><code>view</code>: this keyword means the function cannot change the blockchain state, which mainly used for query</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="compile-helloworld-contract"></a><a href="#compile-helloworld-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compile HelloWorld Contract</h3>
<p><strong>Step1.</strong>  Creat new directory for HelloWorld project</p>
<pre><code class="hljs"><span class="hljs-built_in">mkdir</span> HelloWorld &amp;&amp; <span class="hljs-built_in">cd</span> HelloWorld
</code></pre>
<p><strong>Step2.</strong>  Init project</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle init</span>
</code></pre>
<p>After the command is executed, project directory structure is as follows:</p>
<ul>
<li><p><code>Contracts/</code>: solidity contract directory</p></li>
<li><p><code>Migrations/</code>:  depoly file directory</p></li>
<li><p><code>Test/</code>: test script directory</p></li>
<li><p><code>Truffle-config.js</code>: platon-truffle config</p></li>
</ul>
<p><strong>Step3.</strong>  Move HelloWorld contract compiled in to HelloWorld/contracts/</p>
<pre><code class="hljs"><span class="hljs-keyword">ls</span> contracts/
</code></pre>
<ul>
<li>HelloWorld.sol</li>
</ul>
<p><strong>Step4.</strong>  Fix compile version same as the version setted  in truffle-config.js</p>
<pre><code class="hljs">vim truffle-<span class="hljs-built_in">config</span>.<span class="hljs-keyword">js
</span></code></pre>
<p>Truffle-config.js content is  as follows:</p>
<pre><code class="hljs"><span class="hljs-symbol">compilers:</span> {
<span class="hljs-symbol">      solc:</span> {
<span class="hljs-symbol">            version:</span> <span class="hljs-string">"^0.5.13"</span>,    <span class="hljs-comment">// same as the version declared in HelloWorld.sol</span>
      }
}
</code></pre>
<p><strong>Step5.</strong>  Compile contract</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle compile</span>
</code></pre>
<p>After the command is executed, project directory structure is as follows:</p>
<ul>
<li><p><code>Build/</code>: solidity contract directory after compiled</p></li>
<li><p><code>Build/contracts/HelloWorld.json</code>:the compiled file corresponding with HelloWorld.sol</p></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="deploly-helloworld-contract"></a><a href="#deploly-helloworld-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deploly HelloWorld Contract</h3>
<p><strong>Step1.</strong> Create deploy script</p>
<pre><code class="hljs">cd migrations/ &amp;&amp; <span class="hljs-section">touch</span> <span class="hljs-number">2</span>_initial_helloworld.js
</code></pre>
<p>Suggest replacing script  name  with contract name, for example the deploy script  of HelloWorld contract :2_initial_helloworld.js,content is as follows：</p>
<pre><code class="hljs"><span class="hljs-keyword">const</span> helloWorld = artifacts.require(<span class="hljs-string">"HelloWorld"</span>); <span class="hljs-comment">//artifacts.require specify deployment contract</span>
    <span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">deployer</span>) </span>{
       deployer.deploy(helloWorld); <span class="hljs-comment">//Failed to deploy contract with parameters, please refer to FAQ</span>
};
</code></pre>
<p><strong>Step2.</strong> Setting config  information for blockchain in truffle-config.js</p>
<pre><code class="hljs">vim truffle-<span class="hljs-built_in">config</span>.<span class="hljs-keyword">js
</span></code></pre>
<p>Set blockchain network  info</p>
<pre><code class="hljs"><span class="hljs-symbol">networks:</span> {
<span class="hljs-symbol">    development:</span> {
<span class="hljs-symbol">       host:</span> <span class="hljs-string">"10.1.1.6"</span>,     <span class="hljs-comment">// blockchain server address</span>
<span class="hljs-symbol">       port:</span> <span class="hljs-number">8806</span>,            <span class="hljs-comment">// server port</span>
<span class="hljs-symbol">       network_id:</span> <span class="hljs-string">"*"</span>,       <span class="hljs-comment">// Any network (default: none)</span>
<span class="hljs-symbol">       from:</span> <span class="hljs-string">"lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl"</span>, <span class="hljs-comment">//the accout address of deploying contract</span>
<span class="hljs-symbol">       gas:</span> <span class="hljs-number">999999</span>,
<span class="hljs-symbol">       gasPrice:</span> <span class="hljs-number">50000000004</span>,
    },
}
</code></pre>
<p><strong>step3.</strong>  Unlock wallet account</p>
<p>Enter the platon-truffle console</p>
<pre><code class="hljs">platon-truffle<span class="hljs-built_in"> console
</span></code></pre>
<p>Import the private key (you can skip this step if you have already imported it)</p>
<pre><code class="hljs"><span class="hljs-selector-tag">web3</span><span class="hljs-selector-class">.platon</span><span class="hljs-selector-class">.personal</span><span class="hljs-selector-class">.importRawKey</span>("<span class="hljs-selector-tag">Your</span> <span class="hljs-selector-tag">wallet</span> <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">key</span>","<span class="hljs-selector-tag">Your</span> <span class="hljs-selector-tag">wallet</span> <span class="hljs-selector-tag">password</span>");
</code></pre>
<p>After importing successfully, you will see the address corresponding to the private key as follows：</p>
<pre><code class="hljs"><span class="hljs-symbol">'lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl</span>'
</code></pre>
<p>Unlock wallet account</p>
<pre><code class="hljs"> web3.platon.personal.unlock<span class="hljs-constructor">Account('Your <span class="hljs-params">wallet</span> <span class="hljs-params">address</span>','Your <span class="hljs-params">wallet</span> <span class="hljs-params">password</span>',999999)</span>;
</code></pre>
<p>After unlocking successfully, you will see the following information：</p>
<pre><code class="hljs"><span class="hljs-attribute">ture</span>
</code></pre>
<p><strong>Step4.</strong>  Deploy contract</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle migrate</span>
</code></pre>
<p>After deploying successfully, you will see log info as follows:</p>
<pre><code class="hljs"><span class="hljs-string">2_initial_helloworld.js</span>
<span class="hljs-string">======================</span>

   <span class="hljs-string">Deploying</span> <span class="hljs-string">'HelloWorld'</span>
   <span class="hljs-string">----------------------</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">transaction hash:</span>    <span class="hljs-number">0x87cd48cc467f9bc943fd096c57c8a7e7b7fa941380538d9e59797800c6c4292c</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">Blocks: 0            Seconds:</span> <span class="hljs-number">0</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">contract address:</span>    <span class="hljs-string">lax1h95ywjy3jwt047ph697cuuqqn4d6jyrah7fw07</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">block number:</span>        <span class="hljs-number">282520</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">block timestamp:</span>     <span class="hljs-number">1585535169200</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">account:</span>             <span class="hljs-string">lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">balance:</span>             <span class="hljs-number">16447231233352977496646259638377769924557918764752765436645.336513079692286014</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">gas used:</span>            <span class="hljs-number">145569</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">gas price:</span>           <span class="hljs-number">1</span> <span class="hljs-string">gvon</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">value sent:</span>          <span class="hljs-number">0</span> <span class="hljs-string">LAT</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">total cost:</span>          <span class="hljs-number">0.000145569</span> <span class="hljs-string">LAT</span>


   <span class="hljs-string">&gt;</span> <span class="hljs-string">Saving</span> <span class="hljs-string">migration</span> <span class="hljs-string">to</span> <span class="hljs-string">chain.</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-string">Saving</span> <span class="hljs-string">artifacts</span>
   <span class="hljs-string">-------------------------------------</span>
   <span class="hljs-string">&gt;</span> <span class="hljs-attr">Total cost:</span>          <span class="hljs-number">0.000145569</span> <span class="hljs-string">LAT</span>

<span class="hljs-string">Summary</span>
<span class="hljs-string">=======</span>
<span class="hljs-string">&gt;</span> <span class="hljs-attr">Total deployments:</span>   <span class="hljs-number">2</span>
<span class="hljs-string">&gt;</span> <span class="hljs-attr">Final cost:</span>          <span class="hljs-number">0.000259892</span> <span class="hljs-string">LAT</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="call-helloworld-contract"></a><a href="#call-helloworld-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Call HelloWorld Contract</h3>
<p><strong>Step1.</strong>  Enter the platon-truffle console</p>
<pre><code class="hljs">platon-truffle<span class="hljs-built_in"> console
</span></code></pre>
<ul>
<li>You can execute command in platon-truffle console</li>
</ul>
<p><strong>Step2.</strong>  Create contract object</p>
<pre><code class="hljs css language-json">var abi = [{"constant":false,"inputs":[{"internalType":"string","name":"_name","type":"string"}],"name":"setName","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getName","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"}]; //you can refet to HelloWorld/build/contracts/HelloWorld.json

var contractAddr = 'lax1h95ywjy3jwt047ph697cuuqqn4d6jyrah7fw07';//contract address
var helloWorld = new web3.platon.Contract(abi,contractAddr);  
</code></pre>
<p>Description：</p>
<ul>
<li><code>abi</code> the interface provided by the contract to external calls, the abi  in the file compiled ：<code>HelloWorld/build/contracts/HelloWorld.json</code></li>
<li><code>contractAddr</code> contract address</li>
<li><code>helloWorld</code>  contract object created</li>
</ul>
<p><strong>Step3.</strong>  Call contract</p>
<pre><code class="hljs css language-javascript">helloWorld.methods.setName(<span class="hljs-string">"hello world"</span>).send({<span class="hljs-attr">from</span>: <span class="hljs-string">'lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl'</span>}).on(<span class="hljs-string">'receipt'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">receipt</span>) </span>{<span class="hljs-built_in">console</span>.log(receipt);}).on(<span class="hljs-string">'error'</span>, <span class="hljs-built_in">console</span>.error);

</code></pre>
<p>Description：</p>
<ul>
<li><code>helloWorld</code> the contract object created</li>
<li><code>methods</code>  specify the call method</li>
<li><code>setName</code> the function of the HelloWorld contract, which has a parameter as <code>hello world</code></li>
<li><code>from</code> the address of caller</li>
<li><code>on</code> listen to the result of the contract method executed. If failed, it will print the error info. If succeeds ,the console will print the receipt as belows:</li>
</ul>
<pre><code class="hljs">{ 
  blockHash:'0x3ae287d1e745e30d0d6c95d<span class="hljs-number">5220</span>cc<span class="hljs-number">7816</span>cda955e7b2f013c6a531ed<span class="hljs-number">9502</span>8a794', <span class="hljs-comment">//the hash of block the transaction located</span>
  blockNumber: <span class="hljs-number">159726</span>, 
  contractAddress: <span class="hljs-literal">null</span>,
  cumulativeGasUsed: <span class="hljs-number">44820</span>,
  from: 'lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl', <span class="hljs-comment">//the address of caller</span>
  gasUsed: <span class="hljs-number">44820</span>, <span class="hljs-comment">//gas cost</span>
  logsBloom:
   '0x<span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000</span>',
  status: true,
  to: 'lax1h95ywjy3jwt047ph697cuuqqn4d6jyrah7fw07', <span class="hljs-comment">//contract address</span>
  transactionHash:'0xb7a41f72d555d4a2d9f<span class="hljs-number">2954</span>fbdc5bbbb4c5ce89c836f<span class="hljs-number">8704276419</span>ed416b<span class="hljs-number">3866</span>', 
  transactionIndex: <span class="hljs-number">0</span>,
  events: {} 
}
</code></pre>
<p><strong>Step4.</strong>  Query contract</p>
<pre><code class="hljs css language-javascript">helloWorld.methods.getName().call(<span class="hljs-literal">null</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error,result</span>)</span>{<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"name is:"</span> + result);})  
</code></pre>
<p>Description：</p>
<ul>
<li><code>helloWorld</code> the contract object created</li>
<li><code>methods</code> specify the call method</li>
<li><code>getName</code> the function of the HelloWorld contract, which has no  parameter</li>
<li><code>call</code> specify query method</li>
<li><code>function</code> callback result,we can use console.log to print info.</li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="migrate-contract"></a><a href="#migrate-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migrate Contract</h2>
<h3><a class="anchor" aria-hidden="true" id="introduction-1"></a><a href="#introduction-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h3>
<p>The highest solidity version number supported by PlatON is 0.5.13. If you migrate contracts with versions above 0.5.13, you need to lower the version number and remove the syntax related to the higher version.</p>
<p>If you want to migrate Ethereum's smart contract to PlatON, you can do this with the <code>platon-truffle</code> development tool. First, to make sure have <code>platon-truffle</code> installed correctly, just follow these steps.</p>
<p>The migration of Ethereum's ERC200513Token contract to PlatON is demonstrated below，<code>ERC200513Token.sol</code> contract are as follows:</p>
<pre><code class="hljs">pragma solidity <span class="hljs-number">0.5</span><span class="hljs-number">.13</span>;

contract ERC200513Token {
    string <span class="hljs-keyword">public</span> name; 
    string <span class="hljs-keyword">public</span> symbol; 
    uint8 <span class="hljs-keyword">public</span> decimals = <span class="hljs-number">18</span>;  <span class="hljs-comment">//18 decimals is the strongly suggested default, avoid changing it</span>
    uint256 <span class="hljs-keyword">public</span> totalSupply = <span class="hljs-number">10000000000000000000</span> ether; 

    <span class="hljs-comment">// This creates an array with all balances</span>
    mapping(address =&gt; uint256) <span class="hljs-keyword">public</span> balanceOf;
    mapping(address =&gt; mapping(address =&gt; uint256)) <span class="hljs-keyword">public</span> allowance;

    <span class="hljs-comment">//This generates a public event on the blockchain that will notify clients</span>
    event Transfer(address indexed from, address indexed to, uint256 value);

    <span class="hljs-comment">// This notifies clients about the amount burnt</span>
    event Burn(address indexed from, uint256 value);

    <span class="hljs-comment">/**
     * Constructor function
     */</span>
    constructor(uint256 initialSupply, string memory tokenName, string memory tokenSymbol) <span class="hljs-keyword">public</span> {
        totalSupply = initialSupply * <span class="hljs-number">10</span> ** uint256(decimals); <span class="hljs-comment">// Update total supply with the decimal amount</span>
        balanceOf[msg.sender] = totalSupply; <span class="hljs-comment">// Give the creator all initial tokens</span>
        name = tokenName; <span class="hljs-comment">// Set the name for display purposes    </span>
        symbol = tokenSymbol; 
    }
    <span class="hljs-comment">/**
     * get the name for display purposes
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span><span class="hljs-params">()</span> <span class="hljs-title">view</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(string memory)</span></span>{
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-comment">/**
     * get token symbol
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSymbol</span><span class="hljs-params">()</span> <span class="hljs-title">view</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(string memory)</span></span>{
        <span class="hljs-keyword">return</span> symbol;
    }
 
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDecimals</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> <span class="hljs-params">(uint8)</span></span>{
        <span class="hljs-keyword">return</span> decimals;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTotalSupply</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> <span class="hljs-params">(uint256 theTotalSupply)</span> </span>{
        theTotalSupply = totalSupply;
        <span class="hljs-keyword">return</span> theTotalSupply;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBalanceOf</span><span class="hljs-params">(address _owner)</span> <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> <span class="hljs-params">(uint256 balance)</span> </span>{
        <span class="hljs-comment">//get _owner's balance</span>
        <span class="hljs-keyword">return</span> balanceOf[_owner];
    }
    <span class="hljs-comment">/**
     * Transfer tokens from other address
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_transfer</span><span class="hljs-params">(address _from, address _to, uint _value)</span> <span class="hljs-title">internal</span> <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span></span>{
        <span class="hljs-comment">// Make sure the destination address is not 0x0, Because address 0x0 represents destruction</span>
        <span class="hljs-keyword">require</span>(_to != address(<span class="hljs-number">0x0</span>));
        <span class="hljs-comment">// Check the sender balance</span>
        <span class="hljs-keyword">require</span>(balanceOf[_from] &gt;= _value);
        <span class="hljs-comment">// Make sure _value&gt;0</span>
        <span class="hljs-keyword">require</span>(balanceOf[_to] + _value &gt; balanceOf[_to]);

        <span class="hljs-keyword">uint</span> previousBalances = balanceOf[_from] + balanceOf[_to];
        <span class="hljs-comment">// Subtract from the sender</span>
        balanceOf[_from] -= _value;
        <span class="hljs-comment">// Add the same to the recipient</span>
        balanceOf[_to] += _value;
        emit Transfer(_from, _to, _value);

        <span class="hljs-keyword">return</span> (balanceOf[_from] + balanceOf[_to] == previousBalances);
    }

    <span class="hljs-comment">/**
     *  Transfer tokens from other address
     *
     *  Send `_value` tokens to `_to` on behalf of `_from`
     *
     * <span class="hljs-doctag">@param</span> _to The address of the recipient
     * <span class="hljs-doctag">@param</span> _value the amount to send
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transfer</span><span class="hljs-params">(address _to, uint256 _value)</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span></span>{
        <span class="hljs-keyword">return</span> _transfer(msg.sender, _to, _value);
    }

    <span class="hljs-comment">/**
     * Transfer tokens from other address
     *
     * <span class="hljs-doctag">@param</span> _from The address of the sender
     * <span class="hljs-doctag">@param</span> _to The address of the recipient
     * <span class="hljs-doctag">@param</span> _value the amount to send
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transferFrom</span><span class="hljs-params">(address _from, address _to, uint256 _value)</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span> </span>{
        <span class="hljs-keyword">require</span>(_value &lt;= allowance[_from][msg.sender]);
        <span class="hljs-comment">// Check allowance</span>
        allowance[_from][msg.sender] -= _value;
        _transfer(_from, _to, _value);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }

    <span class="hljs-comment">/**
     * Set allowance for other address
     *
     * Allows `_spender` to spend no more than `_value` tokens on your behalf
     * 
     * <span class="hljs-doctag">@param</span> _spender The address authorized to spend
     * <span class="hljs-doctag">@param</span> _value the max amount they can spend
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">approve</span><span class="hljs-params">(address _spender, uint256 _value)</span> <span class="hljs-title">public</span>
    <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span> </span>{
        allowance[msg.sender][_spender] = _value;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }


    <span class="hljs-comment">/**
     *
     * Gets the remaining number of tokens that _spender can issue from account _owner
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAllowance</span><span class="hljs-params">(address _owner, address _spender)</span> <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> <span class="hljs-params">(uint remaining)</span></span>{
        <span class="hljs-keyword">return</span> allowance[_owner][_spender];
    }

    <span class="hljs-comment">/**
     * Destroy tokens
     *
     * Remove `_value` tokens from the system irreversibly
     *
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">burn</span><span class="hljs-params">(uint256 _value)</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span> </span>{
        <span class="hljs-keyword">require</span>(balanceOf[msg.sender] &gt;= _value);
        <span class="hljs-comment">// Check if the sender has enough</span>
        balanceOf[msg.sender] -= _value;
        <span class="hljs-comment">// Subtract from the sender</span>
        totalSupply -= _value;
        <span class="hljs-comment">// Updates totalSupply</span>
        emit Burn(msg.sender, _value);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }

    <span class="hljs-comment">/**
     * Destroy tokens from other account
     *
     * Remove `_value` tokens from the system irreversibly on behalf of `_from`.
     *
     * <span class="hljs-doctag">@param</span> _from the address of the sender
     * <span class="hljs-doctag">@param</span> _value the amount of money to burn
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">burnFrom</span><span class="hljs-params">(address _from, uint256 _value)</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span> </span>{
        <span class="hljs-keyword">require</span>(balanceOf[_from] &gt;= _value);
        <span class="hljs-comment">// Check if the targeted balance is enough</span>
        <span class="hljs-keyword">require</span>(_value &lt;= allowance[_from][msg.sender]);
        <span class="hljs-comment">// Check allowance</span>
        balanceOf[_from] -= _value;
        <span class="hljs-comment">// Subtract from the targeted balance</span>
        allowance[_from][msg.sender] -= _value;
        <span class="hljs-comment">// Subtract from the sender's allowance</span>
        totalSupply -= _value;
        <span class="hljs-comment">// Update totalSupply</span>
        emit Burn(_from, _value);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="operation-procedure"></a><a href="#operation-procedure" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Operation Procedure</h3>
<p><strong>Step1.</strong> Create new directory for example project</p>
<pre><code class="hljs"><span class="hljs-built_in">mkdir</span> <span class="hljs-built_in">example</span> &amp;&amp; cd <span class="hljs-built_in">example</span>
</code></pre>
<blockquote>
<p>After the command is executed,project directory structure is as follows:</p>
</blockquote>
<p><strong>Step2.</strong>  Init project</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle init</span>
</code></pre>
<p>After the command is executed,project directory structure is as follows:</p>
<ul>
<li><p><code>contracts/</code>: solidity contract directory</p></li>
<li><p><code>migrations/</code>: depoly file directory</p></li>
<li><p><code>test/</code>: test script directory</p></li>
<li><p><code>truffle-config.js</code>: platon-truffle config</p></li>
</ul>
<p><strong>Step3.</strong> Move ERC200513Token contract compiled in to example/contracts</p>
<pre><code class="hljs"><span class="hljs-keyword">ls</span> contracts/
</code></pre>
<ul>
<li>ERC200513Token.sol</li>
<li>PlatON's smart contract unit is LAT,VON. To migrate the Ethereum smart contract to PlatON,please change the Ethereum denomination to PlatON denomination.also note the ether /LAT market rate（for this contract, we assume the market exchange rate1:1,uint256 public totalSupply = 10000000000000000000 ether; change to uint256 public totalSupply = 10000000000000000000 LAT; ）</li>
<li>PlatON's smart contract block.timestamp is current block timestamp as milliseconds since unix epoch, and Ethereum smart contract is seconds.</li>
</ul>
<p><strong>Step4.</strong> Modify the compilation version number and chain-dependent configuration in truffle-config.js</p>
<pre><code class="hljs">module.exports = {
<span class="hljs-symbol">  networks:</span> {
<span class="hljs-symbol">     development:</span> {
<span class="hljs-symbol">      host:</span> <span class="hljs-string">"10.1.1.6"</span>,     <span class="hljs-comment">// chain address</span>
<span class="hljs-symbol">      port:</span> <span class="hljs-number">8806</span>,            <span class="hljs-comment">// chain rpc port</span>
<span class="hljs-symbol">      network_id:</span> <span class="hljs-string">"*"</span>,       <span class="hljs-comment">// Any network (default: none)</span>
<span class="hljs-symbol">      from:</span> <span class="hljs-string">"lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl"</span>, <span class="hljs-comment">// the wallet address of deployment contract </span>
<span class="hljs-symbol">      gas:</span> <span class="hljs-number">999999</span>,
<span class="hljs-symbol">      gasPrice:</span> <span class="hljs-number">50000000004</span>,         
     },
  },
<span class="hljs-symbol">
  compilers:</span> {
<span class="hljs-symbol">    solc:</span> {
<span class="hljs-symbol">       version:</span> <span class="hljs-string">"0.5.13"</span>,    <span class="hljs-comment">// the version number used in compiling the contract is the same as the contract definition</span>
<span class="hljs-symbol">       docker:</span> false,        <span class="hljs-comment">// Use "0.5.1" you've installed locally with docker</span>
    }
  }
}
</code></pre>
<p><strong>Step5.</strong> Compile contract</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle compile</span>
</code></pre>
<p>The following is the output of the successful compilation：</p>
<pre><code class="hljs">Compiling your contracts...
Compiling ./contracts/<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ERC200513Token</span>.</span></span>sol
Compiling ./contracts/<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Migrations</span>.</span></span>sol
  compilation warnings encountered:

Warning: This is a pre-release compiler version, please <span class="hljs-keyword">do</span> not use it <span class="hljs-keyword">in</span> production.
Artifacts written <span class="hljs-keyword">to</span> /home/guest/example/build/contracts
Compiled successfully using: 
  solc: <span class="hljs-number">0.5</span>.<span class="hljs-number">13</span>-develop.<span class="hljs-number">2020.1</span>.<span class="hljs-number">2</span>+commit.<span class="hljs-number">9</span>ff23752.<span class="hljs-keyword">mod</span>.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Emscripten</span>.</span></span>clang
</code></pre>
<p><strong>Step6.</strong> Create deploy script</p>
<pre><code class="hljs">cd migrations &amp;&amp; <span class="hljs-section">touch</span> <span class="hljs-number">2</span>_initial_ERC200513Token.js
</code></pre>
<p>Deploy script 2_initial_ERC200513Token.js content is as follows：</p>
<pre><code class="hljs"><span class="hljs-keyword">const</span> ERC200513Token = artifacts.require(<span class="hljs-string">"ERC200513Token"</span>); <span class="hljs-comment">//contract class name</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">deployer</span>) </span>{
  deployer.deploy(ERC200513Token,<span class="hljs-number">100</span>,<span class="hljs-string">'PLA'</span>,<span class="hljs-string">'PLAT'</span>); <span class="hljs-comment">//ERC200513Token abstract and constructor params</span>
};  
</code></pre>
<p><strong>Step7.</strong> Deploy contract</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle migrate</span>
</code></pre>
<p>After deploying successfully, you will see log info as follows:</p>
<pre><code class="hljs"><span class="hljs-string">Compiling</span> <span class="hljs-string">your</span> <span class="hljs-string">contracts...</span>
<span class="hljs-string">Everything</span> <span class="hljs-string">is</span> <span class="hljs-string">up</span> <span class="hljs-string">to</span> <span class="hljs-string">date,</span> <span class="hljs-string">there</span> <span class="hljs-string">is</span> <span class="hljs-string">nothing</span> <span class="hljs-string">to</span> <span class="hljs-string">compile.</span>
<span class="hljs-string">2_initial_ERC200513Token.js</span>
   <span class="hljs-string">Deploying</span> <span class="hljs-string">'ERC200513Token'</span>
     <span class="hljs-attr">transaction hash:</span>    <span class="hljs-number">0xa1770aecf4cffb0e75a172e06e75a9e9cb2d36bf89291b57d504e8c054985e99</span>
     <span class="hljs-attr">Blocks: 0            Seconds:</span> <span class="hljs-number">0</span>
     <span class="hljs-attr">contract address:</span>    <span class="hljs-string">lax1uetshtp4tp6l067tl02e4x435py9ajrfdhsrd4//new</span> <span class="hljs-string">contract</span> <span class="hljs-string">address</span>
     <span class="hljs-attr">block number:</span>        <span class="hljs-number">265657</span>
     <span class="hljs-attr">block timestamp:</span>     <span class="hljs-number">1581742216965</span>
     <span class="hljs-attr">account:</span>             <span class="hljs-string">lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl</span>
     <span class="hljs-attr">balance:</span>             <span class="hljs-number">90000000.826385379994114416</span>
     <span class="hljs-attr">gas used:</span>            <span class="hljs-number">638876</span>
     <span class="hljs-attr">gas price:</span>           <span class="hljs-number">50.000000004</span> <span class="hljs-string">gVON</span>
     <span class="hljs-attr">value sent:</span>          <span class="hljs-number">0</span> <span class="hljs-string">LAT</span>
     <span class="hljs-attr">total cost:</span>          <span class="hljs-number">0.031943800002555504</span> <span class="hljs-string">LAT</span>
     <span class="hljs-string">Saving</span> <span class="hljs-string">migration</span> <span class="hljs-string">to</span> <span class="hljs-string">chain.</span>
     <span class="hljs-string">Saving</span> <span class="hljs-string">artifacts</span>
     <span class="hljs-attr">Total cost:</span>     <span class="hljs-number">0.031943800002555504</span> <span class="hljs-string">LAT</span>
<span class="hljs-string">Summary</span>
 <span class="hljs-attr">Total deployments:</span>   <span class="hljs-number">2</span>
 <span class="hljs-attr">Final cost:</span>          <span class="hljs-number">0.037844150003027532</span> <span class="hljs-string">LAT</span>
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="crowdfunding-contract"></a><a href="#crowdfunding-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Crowdfunding Contract</h2>
<h3><a class="anchor" aria-hidden="true" id="introduction-2"></a><a href="#introduction-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h3>
<p>In the following example, we will use smart contract for a crowdfunding campaign. The creator of the contract started crowdfunding, and initialized the number of tokens and the duration of the crowdfunding. If the crowdfunding is completed within a specified time, the crowdfunding will be successful. If the crowdfunding switch is turned off, a certain number of tokens based on a fixed exchange rate will be cast and credited to the name of the investor. Otherwise, the crowdfunding fails and the amount of the crowdfunding is returned to the investors.</p>
<p>There are two roles in the contract</p>
<ul>
<li>Crowdfunder</li>
<li>Investor</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="crowdfunding-process"></a><a href="#crowdfunding-process" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Crowdfunding Process</h3>
<ul>
<li>1.Creating a crowdfunding contract refers to the beneficiary.</li>
<li>2.Deployment crowdfunding contract initializes the number and duration of crowdfunding tokens.</li>
<li>3.Investors invest.</li>
<li>4.Determine if crowdfunding is over.
<ul>
<li>If the crowdfunding time is not up and the number of crowdfunding tokens has been completed, turn off the crowdfunding switch, investors will be allocated tokens in proportion. Crowdfunding success.</li>
<li>If the crowdfunding time is up and the amount of crowdfunding tokens has been completed, investors will be allocated tokens in proportion. Crowdfunding success.</li>
<li>If the crowdfunding time is up and the number of crowdfunding tokens is not completed, the investor tokens will be returned. Crowdfunding failure.</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="crowdfunding-contract-1"></a><a href="#crowdfunding-contract-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Crowdfunding Contract</h3>
<pre><code class="hljs">pragma solidity ^<span class="hljs-number">0.5</span><span class="hljs-number">.13</span>;

contract CrowdFunding {
    address payable <span class="hljs-keyword">public</span> beneficiaryAddress = address(<span class="hljs-number">0x0</span>); <span class="hljs-comment">//Beneficiary address, set as contract creator</span>
    uint256 <span class="hljs-keyword">public</span> fundingGoal = <span class="hljs-number">100</span> LAT;  <span class="hljs-comment">//Crowdfunding target, unit is LAT</span>
    uint256 <span class="hljs-keyword">public</span> amountRaised = <span class="hljs-number">0</span>; <span class="hljs-comment">//The amount of money raised,the unit is VON</span>
    uint256 <span class="hljs-keyword">public</span> deadline; 
    uint256 <span class="hljs-keyword">public</span> price;  <span class="hljs-comment">//token price</span>
    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">public</span> fundingGoalReached = <span class="hljs-keyword">false</span>;  <span class="hljs-comment">//Achieving crowdfunding goals flag</span>
    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">public</span> crowdsaleClosed = <span class="hljs-keyword">false</span>; <span class="hljs-comment">//Crowdfunding closed</span>

    mapping(address =&gt; uint256) <span class="hljs-keyword">public</span> balance; <span class="hljs-comment">//Save the amount raised by the investor</span>
    
    mapping(address =&gt; uint256) <span class="hljs-keyword">public</span> tokenMap; <span class="hljs-comment">//Save the number of tokens owned by the investor</span>

    <span class="hljs-comment">//Record received LAT notifications</span>
    event GoalReached(address _beneficiaryAddress, <span class="hljs-keyword">uint</span> _amountRaised);

    <span class="hljs-comment">//Transfer notice</span>
    event FundTransfer(address _backer, <span class="hljs-keyword">uint</span> _amount, <span class="hljs-keyword">bool</span> _isContribution);
    
    <span class="hljs-comment">//Check if the address is empty</span>
    modifier validAddress(address _address) {
        <span class="hljs-keyword">require</span>(_address != address(<span class="hljs-number">0x0</span>));
        _;
    }

    <span class="hljs-comment">/**
     * Initialization constructor
     *
     * <span class="hljs-doctag">@param</span> _fundingGoalInlats: Total crowdfunding LAT coin
     * <span class="hljs-doctag">@param</span> _durationInMinutes: Crowdfunding deadline, unit is minute
     */</span>
    constructor (
        <span class="hljs-keyword">uint</span> _fundingGoalInlats,
        <span class="hljs-keyword">uint</span> _durationInMinutes
    )<span class="hljs-keyword">public</span> {
        beneficiaryAddress = msg.sender;
        fundingGoal = _fundingGoalInlats * <span class="hljs-number">1</span> LAT;
        deadline = now + _durationInMinutes * <span class="hljs-number">1</span> minutes;
        price = <span class="hljs-number">500</span> finney; <span class="hljs-comment">//1个LAT币可以买 2 个代币</span>
    }


    <span class="hljs-comment">/**
     * fallback functioin
     *
     * you can send money directly to the contract
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> <span class="hljs-title">payable</span> <span class="hljs-title">external</span> </span>{

        <span class="hljs-comment">//check whether to close crowdfunding</span>
        <span class="hljs-keyword">require</span>(!crowdsaleClosed);
        <span class="hljs-keyword">uint</span> amount = msg.value;

        <span class="hljs-comment">//investor amount accumulated</span>
        balance[msg.sender] += amount;

        <span class="hljs-comment">//Total invest accumulated</span>
        amountRaised += amount;

        <span class="hljs-comment">//Transfer operation, how many tokens are transferred to the investor</span>
        tokenMap[msg.sender]  += amount / price;
        
        emit FundTransfer(msg.sender, amount, <span class="hljs-keyword">true</span>);
    }

    <span class="hljs-comment">/**
     * Determine if the crowdfunding deadline has passed
     */</span>
    modifier afterDeadline() { <span class="hljs-keyword">if</span> (now &gt;= deadline) _; }

    <span class="hljs-comment">/**
     * Check if the crowdfunding goal has been reached
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkGoalReached</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> <span class="hljs-title">afterDeadline</span> <span class="hljs-title">payable</span></span>{
        <span class="hljs-keyword">if</span> (amountRaised &gt;= fundingGoal){
            <span class="hljs-comment">//crowdfunding goal has been reached</span>
            fundingGoalReached = <span class="hljs-keyword">true</span>;
            emit GoalReached(beneficiaryAddress, amountRaised);
        }

        <span class="hljs-comment">//Closing crowdfunding</span>
        crowdsaleClosed = <span class="hljs-keyword">true</span>;
    }


    <span class="hljs-comment">/**
     * Recover funds
     *
     * Check if the target or time limit has been reached, and if so, send the full amount to the beneficiary.
     * If the goal is not reached, each investor can return the amount they invested
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">safeWithdrawal</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> <span class="hljs-title">afterDeadline</span> </span>{

        <span class="hljs-comment">//If the crowdfunding goal is not reached</span>
        <span class="hljs-keyword">if</span> (!fundingGoalReached) {
            <span class="hljs-comment">//Get the contracted caller's donated balance</span>
            <span class="hljs-keyword">uint</span> amount = balance[msg.sender];

            <span class="hljs-keyword">if</span> (amount &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-comment">//Returns all balances of the contract initiator</span>
                msg.sender.transfer(amount);
                emit FundTransfer(msg.sender, amount, <span class="hljs-keyword">false</span>);
                balance[msg.sender] = <span class="hljs-number">0</span>;
            }
        }

        <span class="hljs-comment">//f the crowdfunding goal is achieved and the contract caller is the beneficiary</span>
        <span class="hljs-keyword">if</span> (fundingGoalReached &amp;&amp; beneficiaryAddress == msg.sender) {

            <span class="hljs-comment">//Give all donations from the contract to the beneficiary</span>
            beneficiaryAddress.transfer(amountRaised);
            
            emit FundTransfer(beneficiaryAddress, amountRaised, <span class="hljs-keyword">false</span>);
        }
    }
}
</code></pre>
<p><strong>Compile Crowdfunding Contract</strong></p>
<p><strong>Step1.</strong> Create new directory for Crowdfunding project</p>
<pre><code class="hljs"><span class="hljs-built_in">mkdir</span> myCrowdFunding &amp;&amp; <span class="hljs-built_in">cd</span> myCrowdFunding
</code></pre>
<blockquote>
<p>The following commands are performed in the myCrowdFunding directory without special instructions.</p>
</blockquote>
<p><strong>Step2.</strong> Init project</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle init</span>
</code></pre>
<p>After the command is executed, project directory structure is as follows:</p>
<ul>
<li><code>contracts/</code>: solidity contract directory</li>
<li><code>migrations/</code>: depoly file directory</li>
<li><code>test/</code>: test script directory</li>
<li><code>truffle-config.js</code>: platon-truffle config</li>
</ul>
<p><strong>Step3.</strong> Move crowdfunding contract compiled in to <code>myCrowdFunding/contracts/</code></p>
<pre><code class="hljs">ls myCrowdFunding<span class="hljs-regexp">/contracts/</span>
</code></pre>
<blockquote>
<p>Files in the directory: <code>crowdFunding.sol</code>.</p>
</blockquote>
<p><strong>Step4.</strong> Fix compile version same as the version setted  in truffle-config.js</p>
<pre><code class="hljs">vim truffle-<span class="hljs-built_in">config</span>.<span class="hljs-keyword">js
</span></code></pre>
<p>Truffle-config.js content is  as follows:</p>
<pre><code class="hljs"><span class="hljs-symbol">compilers:</span> {
<span class="hljs-symbol">     solc:</span> {
<span class="hljs-symbol">        version:</span> <span class="hljs-string">"0.5.13"</span>,    <span class="hljs-comment">//same as the version declared in CrowdFunding.sol</span>
    }
}
</code></pre>
<p><strong>Step5.</strong> Compile contract</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle compile</span>
</code></pre>
<p>After the command is executed, project directory structure is as follows:</p>
<ul>
<li><code>build/</code>: solidity contract directory after compiled</li>
<li><code>build/contracts/CrowdFunding.json</code>: the compiled file corresponding with CrowdFunding.sol</li>
</ul>
<p><strong>Deploly crowdfunding Contract</strong></p>
<p><strong>Step1.</strong> Create deploy script</p>
<pre><code class="hljs">cd migrations/ &amp;&amp; <span class="hljs-section">touch</span> <span class="hljs-number">2</span>_initial_CrowdFunding.js
</code></pre>
<p>Deploy script 2_initial_crowdFunding.js,content is as follows：</p>
<pre><code class="hljs"><span class="hljs-keyword">const</span> CrowdFunding = artifacts.require(<span class="hljs-string">"CrowdFunding"</span>); <span class="hljs-comment">//deployment contract class name</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">deployer</span>) </span>{
      deployer.deploy(CrowdFunding);
};
</code></pre>
<p><strong>Step2.</strong> Setting config  information for blockchain in truffle-config.js</p>
<pre><code class="hljs">vim truffle-<span class="hljs-built_in">config</span>.<span class="hljs-keyword">js
</span></code></pre>
<p>Set blockchain network  info</p>
<pre><code class="hljs"><span class="hljs-symbol">networks:</span> {
<span class="hljs-symbol">    development:</span> {
<span class="hljs-symbol">       host:</span> <span class="hljs-string">"10.1.1.6"</span>,     <span class="hljs-comment">// blockchain server address</span>
<span class="hljs-symbol">       port:</span> <span class="hljs-number">8806</span>,            <span class="hljs-comment">// server port</span>
<span class="hljs-symbol">       network_id:</span> <span class="hljs-string">"*"</span>,       <span class="hljs-comment">// Any network (default: none)</span>
<span class="hljs-symbol">       from:</span> <span class="hljs-string">"lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl"</span>, <span class="hljs-comment">//the accout address of deploying contract</span>
<span class="hljs-symbol">       gas:</span> <span class="hljs-number">999999</span>,
<span class="hljs-symbol">       gasPrice:</span> <span class="hljs-number">50000000004</span>,
    },
}
</code></pre>
<p><strong>Step3.</strong> Deploy contract</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle migrate</span>
</code></pre>
<p>After deploying successfully, you will see log info as follows:</p>
<pre><code class="hljs"><span class="hljs-string">Compiling</span> <span class="hljs-string">your</span> <span class="hljs-string">contracts...</span>
 <span class="hljs-string">Everything</span> <span class="hljs-string">is</span> <span class="hljs-string">up</span> <span class="hljs-string">to</span> <span class="hljs-string">date,</span> <span class="hljs-string">there</span> <span class="hljs-string">is</span> <span class="hljs-string">nothing</span> <span class="hljs-string">to</span> <span class="hljs-string">compile.</span>
 <span class="hljs-string">3_initial_CrowdFunding.js</span>
 
    <span class="hljs-string">Deploying</span> <span class="hljs-string">'CrowdFunding'</span>
     <span class="hljs-attr">transaction hash:</span>    <span class="hljs-number">0x3a6419cd4169d7cfb430a1fc5632239ac4a01845827f20df9b3229a334c5488b</span>
     <span class="hljs-attr">Blocks: 0            Seconds:</span> <span class="hljs-number">0</span>
     <span class="hljs-attr">contract address:</span>    <span class="hljs-string">lax1qtgycm7jkrq8csa2rgef6enlru0u02g8u82kpt</span> <span class="hljs-string">//contract</span> <span class="hljs-string">address</span>
     <span class="hljs-attr">block number:</span>        <span class="hljs-number">280532</span>
     <span class="hljs-attr">block timestamp:</span>     <span class="hljs-number">1581751224032</span>
     <span class="hljs-attr">account:</span>             <span class="hljs-string">lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl</span>
     <span class="hljs-attr">balance:</span>             <span class="hljs-number">90000000.806077629992489796</span>
     <span class="hljs-attr">gas used:</span>            <span class="hljs-number">379154</span>
     <span class="hljs-attr">gas price:</span>           <span class="hljs-number">50.000000004</span> <span class="hljs-string">gVON</span>
     <span class="hljs-attr">value sent:</span>          <span class="hljs-number">0</span> <span class="hljs-string">LAT</span>
     <span class="hljs-attr">total cost:</span>          <span class="hljs-number">0.018957700001516616</span> <span class="hljs-string">LAT</span>
 
     <span class="hljs-string">Saving</span> <span class="hljs-string">migration</span> <span class="hljs-string">to</span> <span class="hljs-string">chain.</span>
     <span class="hljs-string">Saving</span> <span class="hljs-string">artifacts</span>
     <span class="hljs-attr">Total cost:</span>     <span class="hljs-number">0.018957700001516616</span> <span class="hljs-string">LAT</span>
</code></pre>
<p><strong>Crowdfounding Query：</strong></p>
<p><strong>Step1.</strong>  Enter the platon-truffle console</p>
<pre><code class="hljs">platon-truffle<span class="hljs-built_in"> console
</span></code></pre>
<blockquote>
<p>You can execute command in platon-truffle console</p>
</blockquote>
<p><strong>Step2.</strong>  Create contract object</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> abi = [...]; <span class="hljs-comment">//ABI of CrowdFunding contract,can get from build/contracts/CrowdFunding.json</span>
<span class="hljs-keyword">var</span> contractAddr = <span class="hljs-string">'lax1qtgycm7jkrq8csa2rgef6enlru0u02g8u82kpt'</span>; <span class="hljs-comment">//CrowdFundsing contract address</span>
<span class="hljs-keyword">var</span> crowdFunding = <span class="hljs-keyword">new</span> <span class="hljs-type">web3</span>.platon.Contract(abi,contractAddr);
</code></pre>
<p><strong>Step3.</strong>  Query the amount raised</p>
<pre><code class="hljs">crowdFunding.methods.amountRaised().call(<span class="hljs-literal">null</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error,result</span>)</span>{<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"result:"</span> + result);}); <span class="hljs-comment">//query the amount raised</span>
</code></pre>
<p><strong>Step4.</strong>  Crowdfunder judge the success of crowdfunding</p>
<pre><code class="hljs">crowdFunding.methods.safeWithdrawal().send({<span class="hljs-keyword">from</span>:'lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl'}).<span class="hljs-keyword">on</span><span class="hljs-params">('data', function<span class="hljs-params">(event)</span>{ console.log<span class="hljs-params">(event)</span>;})</span>.<span class="hljs-keyword">on</span><span class="hljs-params">('error', console.error)</span>; 
</code></pre>
<p>Call contract command description:</p>
<ul>
<li><code>crowdFunding</code> is the contract object we built earlier</li>
<li><code>methods</code> fixed syntax specifying that methods in the contract will be obtained</li>
<li><code>safeWithdrawal</code> is a method in our crowdfunding contract to recover funds</li>
<li><code>from</code> caller's wallet address</li>
<li><code>on</code> listen for contract processing result events, and output error logs for failures</li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="development-costs"></a><a href="#development-costs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Development Costs</h2>
<h3><a class="anchor" aria-hidden="true" id="introduction-3"></a><a href="#introduction-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h3>
<p>In a blockchain system, developing smart contracts based on any public chain system involves the development cost of resource expenditure. For example, deploying/calling smart contracts on the network, performing energy conversion, pledge/delegation and other operations all require a certain cost. Different blockchain network development costs are different. The cost of developing smart contracts on the PlatON network is similar to that of developing on Ethereum. This manual will analyze and compare in an intuitive format, allowing users to have a clearer understanding of development costs.</p>
<h3><a class="anchor" aria-hidden="true" id="summary"></a><a href="#summary" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Summary</h3>
<p>This article will use a table to compare different development costs of small, medium and large contracts, and compare PlatON with Ethereum. In terms of contracts, a simple <code>SET/GET</code> function contract is used as a small test contract. The medium-sized contract example will use an open source(<a href="https://github.com/yep/eth-tweet">eth-tweet</a>) contract The large contract is a smart contract that complies with the ERC20 standard.</p>
<h4><a class="anchor" aria-hidden="true" id="data-overview"></a><a href="#data-overview" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data Overview</h4>
<p><strong>Simple Storage Contract</strong></p>
<table>
<thead>
<tr><th style="text-align:left">Platform</th><th style="text-align:left">Contract Level</th><th style="text-align:left">Size</th><th style="text-align:left">GasUsed</th><th style="text-align:left">GasPrice</th><th style="text-align:left">Amount</th><th style="text-align:left">Remark</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">PlatON</td><td style="text-align:left">Small-sized</td><td style="text-align:left">0.3 kb</td><td style="text-align:left">76953</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">384765 <code>gVON</code></td><td style="text-align:left">0.000384765 <code>LAT</code></td></tr>
<tr><td style="text-align:left">Ethereum</td><td style="text-align:left">Small-sized</td><td style="text-align:left">0.3 kb</td><td style="text-align:left">127173</td><td style="text-align:left">5,000,000,000 <code>wei</code></td><td style="text-align:left">635865 <code>Gwei</code></td><td style="text-align:left">0.000635865 <code>ETH</code></td></tr>
</tbody>
</table>
<p><strong>eth-tweet Contract</strong></p>
<table>
<thead>
<tr><th style="text-align:left">Platform</th><th style="text-align:left">Contract Level</th><th style="text-align:left">Size</th><th style="text-align:left">GasUsed</th><th style="text-align:left">GasPrice</th><th style="text-align:left">Amount</th><th style="text-align:left">Remark</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">PlatON</td><td style="text-align:left">Medium-sized</td><td style="text-align:left">2.08 kb</td><td style="text-align:left">257065</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">1285325 <code>gVON</code></td><td style="text-align:left">0.001285325 <code>LAT</code></td></tr>
<tr><td style="text-align:left">Ethereum</td><td style="text-align:left">Medium-sized</td><td style="text-align:left">2.08 kb</td><td style="text-align:left">621385</td><td style="text-align:left">5,000,000,000 <code>wei</code></td><td style="text-align:left">3106925 <code>Gwei</code></td><td style="text-align:left">0.003106925 <code>ETH</code></td></tr>
</tbody>
</table>
<p><strong>ERC20 Token Contract</strong></p>
<table>
<thead>
<tr><th style="text-align:left">Platform</th><th style="text-align:left">Contract Level</th><th style="text-align:left">Size</th><th style="text-align:left">GasUsed</th><th style="text-align:left">GasPrice</th><th style="text-align:left">Amount</th><th style="text-align:left">Remark</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">PlatON</td><td style="text-align:left">Large-sized</td><td style="text-align:left">4.45 kb</td><td style="text-align:left">552823</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">2764115  <code>gVON</code></td><td style="text-align:left">0.002764115 <code>LAT</code></td></tr>
<tr><td style="text-align:left">Ethereum</td><td style="text-align:left">Large-sized</td><td style="text-align:left">4.45 kb</td><td style="text-align:left">1282171</td><td style="text-align:left">5,000,000,000 <code>wei</code></td><td style="text-align:left">6410855  <code>Gwei</code></td><td style="text-align:left">0.006410855 <code>ETH</code></td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="small-sized-contract"></a><a href="#small-sized-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Small-sized Contract</h3>
<h4><a class="anchor" aria-hidden="true" id="simple-storage-contract"></a><a href="#simple-storage-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Simple Storage Contract</h4>
<p><strong>Sample Code</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">pragma</span> solidity ^<span class="hljs-number">0.4</span><span class="hljs-number">.12</span>;

contract SimpleTest {
    
    <span class="hljs-built_in">uint</span> <span class="hljs-keyword">public</span> age;
 
    <span class="hljs-built_in">function</span> setAge(<span class="hljs-built_in">uint</span> _input) <span class="hljs-keyword">public</span> {
        age = _input;
    }
 
    <span class="hljs-built_in">function</span> getAge() <span class="hljs-keyword">public</span> constant returns (<span class="hljs-built_in">uint</span>) {
        <span class="hljs-keyword">return</span> age;
    }
}
</code></pre>
<p>ByteCode</p>
<pre><code class="hljs"><span class="hljs-number">608060405234801561001057600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">50610117806100206000396000</span>f<span class="hljs-number">3006080604052600436106053576000357</span><span class="hljs-keyword">c</span><span class="hljs-number">0100000000000000000000000000000000000000000000000000000000900463</span>ffffffff<span class="hljs-number">168063262</span>a<span class="hljs-number">9</span>dff<span class="hljs-number">146058578063967e6</span>e<span class="hljs-number">65146080578063</span>d<span class="hljs-number">5</span>dcf<span class="hljs-number">1271460</span>a<span class="hljs-number">8575</span>b<span class="hljs-number">600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">348015606357600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">50606</span>a<span class="hljs-number">60</span>d<span class="hljs-number">2565</span>b<span class="hljs-number">6040518082815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">348015608</span>b<span class="hljs-number">57600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">50609260</span>d<span class="hljs-number">8565</span>b<span class="hljs-number">6040518082815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">34801560</span>b<span class="hljs-number">357600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">5060</span>d<span class="hljs-number">06004803603810190808035906020019092919050505060e1565</span>b<span class="hljs-number">005</span>b<span class="hljs-number">60005481565</span>b<span class="hljs-number">60008054905090565</span>b<span class="hljs-number">80600081905550505600</span>a<span class="hljs-number">165627</span>a<span class="hljs-number">7</span>a<span class="hljs-number">7230582079e51340567895</span>e<span class="hljs-number">1097e1</span><span class="hljs-keyword">c</span><span class="hljs-number">9115e778</span><span class="hljs-keyword">c</span><span class="hljs-number">3</span>d<span class="hljs-number">982</span>b<span class="hljs-number">8e71</span>b<span class="hljs-number">6997</span><span class="hljs-keyword">c</span><span class="hljs-number">57</span>f<span class="hljs-number">1</span>ba<span class="hljs-number">497</span><span class="hljs-keyword">c</span><span class="hljs-number">56</span><span class="hljs-keyword">c</span><span class="hljs-number">8</span>b<span class="hljs-number">3</span>b<span class="hljs-number">0029</span>
</code></pre>
<p>ByteSize：<code>311 byte =&gt; 0.3 kb</code></p>
<h6><a class="anchor" aria-hidden="true" id="cost"></a><a href="#cost" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cost</h6>
<p>PlatON</p>
<ul>
<li>GasUsed: 76953</li>
<li>GasPrice: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>Costs:  384765 <code>gVON</code>（0.000384765 <code>LAT</code>）</li>
</ul>
<p>Ethereum</p>
<ul>
<li>GasUsed: 127173</li>
<li>GasPrice: 5,000,000,000 (5 <code>Gwei</code>)</li>
<li>Costs:  635865 <code>Gwei</code>（0.000635865 <code>ETH</code>）</li>
</ul>
<hr>
<h3><a class="anchor" aria-hidden="true" id="medium-sized-contract"></a><a href="#medium-sized-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Medium-sized Contract</h3>
<h4><a class="anchor" aria-hidden="true" id="eth-tweet"></a><a href="#eth-tweet" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Eth-Tweet</h4>
<p><strong>Sample Code</strong></p>
<p><a href="https://github.com/PlatONnetwork/docs/blob/master/docs/SmartDevelopment.assets/account.sol">Click to view code</a></p>
<p>ByteCode</p>
<pre><code class="hljs"><span class="hljs-number">6060604052341561000</span>f<span class="hljs-number">57600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">5</span>b<span class="hljs-number">600060018190555033600260006101000</span>a<span class="hljs-number">81548173</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">021916908373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1602179055505</span>b<span class="hljs-number">5</span>b<span class="hljs-number">6107e88061006</span>a<span class="hljs-number">6000396000</span>f<span class="hljs-number">3006060604052361561008</span><span class="hljs-keyword">c</span><span class="hljs-number">576000357</span><span class="hljs-keyword">c</span><span class="hljs-number">0100000000000000000000000000000000000000000000000000000000900463</span>ffffffff<span class="hljs-number">1680630</span><span class="hljs-keyword">c</span><span class="hljs-number">4</span>f<span class="hljs-number">65</span>bd<span class="hljs-number">146100915780633e450</span>fff<span class="hljs-number">146100e65780635</span><span class="hljs-keyword">c</span><span class="hljs-number">3e426</span><span class="hljs-keyword">c</span><span class="hljs-number">146100</span>fb<span class="hljs-number">578063</span>ae<span class="hljs-number">978</span>f<span class="hljs-number">0814610134578063</span>b<span class="hljs-number">6</span>db<span class="hljs-number">75</span>a<span class="hljs-number">0146101</span>d<span class="hljs-number">1578063</span><span class="hljs-keyword">c</span><span class="hljs-number">3</span>ad<span class="hljs-number">5</span>ecb<span class="hljs-number">146101</span>fe<span class="hljs-number">578063</span>ca<span class="hljs-number">7</span>dc<span class="hljs-number">5</span>b<span class="hljs-number">1146102</span>a<span class="hljs-number">2578063</span>fb<span class="hljs-number">46</span>d<span class="hljs-number">4</span><span class="hljs-keyword">c</span><span class="hljs-number">5146102</span>cb<span class="hljs-number">575</span>b<span class="hljs-number">600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">341561009</span><span class="hljs-keyword">c</span><span class="hljs-number">57600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">6100</span>a<span class="hljs-number">461033</span><span class="hljs-keyword">c</span><span class="hljs-number">565</span>b<span class="hljs-number">604051808273</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">34156100</span>f<span class="hljs-number">157600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">6100</span>f<span class="hljs-number">9610367565</span>b<span class="hljs-number">005</span>b<span class="hljs-number">341561010657600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">610132600480803573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">169060200190919050506103</span>b<span class="hljs-number">2565</span>b<span class="hljs-number">005</span>b<span class="hljs-number">341561013</span>f<span class="hljs-number">57600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">610147610411565</span>b<span class="hljs-number">6040518080602001848152602001838152602001828103825285818151815260200191508051906020019080838360005</span>b<span class="hljs-number">838110156101945780820151818401525</span>b<span class="hljs-number">602081019050610178565</span>b<span class="hljs-number">50505050905090810190601</span>f<span class="hljs-number">1680156101</span><span class="hljs-keyword">c</span><span class="hljs-number">15780820380516001836020036101000</span>a<span class="hljs-number">031916815260200191505</span>b<span class="hljs-number">5094505050505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">34156101</span>dc<span class="hljs-number">57600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">6101e46104</span>f<span class="hljs-number">7565</span>b<span class="hljs-number">604051808215151515815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">341561020957600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">61021</span>f<span class="hljs-number">6004808035906020019091905050610550565</span>b<span class="hljs-number">6040518080602001838152602001828103825284818151815260200191508051906020019080838360005</span>b<span class="hljs-number">838110156102665780820151818401525</span>b<span class="hljs-number">60208101905061024</span>a<span class="hljs-number">565</span>b<span class="hljs-number">50505050905090810190601</span>f<span class="hljs-number">1680156102935780820380516001836020036101000</span>a<span class="hljs-number">031916815260200191505</span>b<span class="hljs-number">50935050505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">34156102</span>ad<span class="hljs-number">57600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">6102</span>b<span class="hljs-number">5610628565</span>b<span class="hljs-number">6040518082815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">34156102</span>d<span class="hljs-number">657600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">610326600480803590602001908201803590602001908080601</span>f<span class="hljs-number">01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050610633565</span>b<span class="hljs-number">6040518082815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">6000600260009054906101000</span>a<span class="hljs-number">900473</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1690505</span>b<span class="hljs-number">90565</span>b<span class="hljs-number">61036</span>f<span class="hljs-number">6104</span>f<span class="hljs-number">7565</span>b<span class="hljs-number">156103</span>af<span class="hljs-number">57600260009054906101000</span>a<span class="hljs-number">900473</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16</span>ff<span class="hljs-number">5</span>b<span class="hljs-number">5</span>b<span class="hljs-number">565</span>b<span class="hljs-number">6103</span>ba<span class="hljs-number">6104</span>f<span class="hljs-number">7565</span>b<span class="hljs-number">1561040</span>d<span class="hljs-number">578073</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">166108</span>fc<span class="hljs-number">3073</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16319081150290604051600060405180830381858888</span>f<span class="hljs-number">19350505050505</span>b<span class="hljs-number">5</span>b<span class="hljs-number">50565</span>b<span class="hljs-number">610419610703565</span>b<span class="hljs-number">600080600080600180540381526020019081526020016000206001018054600181600116156101000203166002900480601</span>f<span class="hljs-number">0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104</span><span class="hljs-keyword">c</span><span class="hljs-number">95780601</span>f<span class="hljs-number">1061049e576101008083540402835291602001916104</span><span class="hljs-keyword">c</span><span class="hljs-number">9565</span>b<span class="hljs-number">820191906000526020600020905</span>b<span class="hljs-number">8154815290600101906020018083116104</span>ac<span class="hljs-number">57829003601</span>f<span class="hljs-number">168201915</span>b<span class="hljs-number">505050505092506000806001805403815260200190815260200160002060000154915060015490505</span>b<span class="hljs-number">909192565</span>b<span class="hljs-number">6000600260009054906101000</span>a<span class="hljs-number">900473</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">163373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">161490505</span>b<span class="hljs-number">90565</span>b<span class="hljs-number">610558610703565</span>b<span class="hljs-number">60008060008481526020019081526020016000206001018054600181600116156101000203166002900480601</span>f<span class="hljs-number">0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156106035780601</span>f<span class="hljs-number">106105</span>d<span class="hljs-number">857610100808354040283529160200191610603565</span>b<span class="hljs-number">820191906000526020600020905</span>b<span class="hljs-number">8154815290600101906020018083116105e657829003601</span>f<span class="hljs-number">168201915</span>b<span class="hljs-number">505050505091506000808481526020019081526020016000206000015490505</span>b<span class="hljs-number">915091565</span>b<span class="hljs-number">600060015490505</span>b<span class="hljs-number">90565</span>b<span class="hljs-number">600061063</span>d<span class="hljs-number">6104</span>f<span class="hljs-number">7565</span>b<span class="hljs-number">151561066</span>b<span class="hljs-number">577</span>fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">90506106</span>fd<span class="hljs-number">565</span>b<span class="hljs-number">60</span>a<span class="hljs-number">08251111561069</span>d<span class="hljs-number">577</span>ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe<span class="hljs-number">90506106</span>fc<span class="hljs-number">565</span>b<span class="hljs-number">4260008060015481526020019081526020016000206000018190555081600080600154815260200190815260200160002060010190805190602001906106e4929190610717565</span>b<span class="hljs-number">50600160008154809291906001019190505550600090505</span>b<span class="hljs-number">5</span>b<span class="hljs-number">5</span>b<span class="hljs-number">919050565</span>b<span class="hljs-number">602060405190810160405280600081525090565</span>b<span class="hljs-number">828054600181600116156101000203166002900490600052602060002090601</span>f<span class="hljs-number">016020900481019282601</span>f<span class="hljs-number">1061075857805160</span>ff<span class="hljs-number">1916838001178555610786565</span>b<span class="hljs-number">82800160010185558215610786579182015</span>b<span class="hljs-number">8281111561078557825182559160200191906001019061076</span>a<span class="hljs-number">565</span>b<span class="hljs-number">5</span>b<span class="hljs-number">5090506107939190610797565</span>b<span class="hljs-number">5090565</span>b<span class="hljs-number">6107</span>b<span class="hljs-number">991905</span>b<span class="hljs-number">808211156107</span>b<span class="hljs-number">557600081600090555060010161079</span>d<span class="hljs-number">565</span>b<span class="hljs-number">5090565</span>b<span class="hljs-number">905600</span>a<span class="hljs-number">165627</span>a<span class="hljs-number">7</span>a<span class="hljs-number">7230582004</span>bd<span class="hljs-number">291e77</span>dd<span class="hljs-number">5</span>f<span class="hljs-number">2</span>bfd<span class="hljs-number">4822</span>ec<span class="hljs-number">9590</span>d<span class="hljs-number">7</span>da<span class="hljs-number">613</span>bf<span class="hljs-number">3</span>ef<span class="hljs-number">8</span>cb<span class="hljs-number">6270</span>dc<span class="hljs-number">7</span>d<span class="hljs-number">553</span>fa<span class="hljs-number">687</span>ab<span class="hljs-number">1780029</span>
</code></pre>
<p>ByteSize： <code>2130.5 byte =&gt; 2.08 kb</code></p>
<h6><a class="anchor" aria-hidden="true" id="cost-1"></a><a href="#cost-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cost</h6>
<p>PlatON</p>
<ul>
<li>GasUsed: 257065</li>
<li>GasPrice: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>Costs:  1285325 <code>gVON</code>（0.001285325 <code>LAT</code>）</li>
</ul>
<p>Ethereum</p>
<ul>
<li>GasUsed: 621385</li>
<li>GasPrice: 5,000,000,000 (5 <code>Gwei</code>)</li>
<li>Costs:  3106925 <code>Gwei</code>（0.003106925 <code>ETH</code>）</li>
</ul>
<hr>
<h3><a class="anchor" aria-hidden="true" id="large-sized-contract"></a><a href="#large-sized-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Large-sized Contract</h3>
<h4><a class="anchor" aria-hidden="true" id="erc20-token-contract"></a><a href="#erc20-token-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ERC20 Token Contract</h4>
<p><strong>Sample Code</strong></p>
<p><a href="https://github.com/PlatONnetwork/docs/blob/master/docs/SmartDevelopment.assets/token.sol">Click to view code</a></p>
<p>ByteCode</p>
<pre><code class="hljs"><span class="hljs-number">6060604052604060405190810160405280600481526020017</span>f<span class="hljs-number">56302e3100000000000000000000000000000000000000000000000000000000815250600690805190602001906200005292919062000139565</span>b<span class="hljs-number">5034156200005</span><span class="hljs-keyword">c</span><span class="hljs-number">57</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">604051620011</span>cd<span class="hljs-number">380380620011</span>cd<span class="hljs-number">833981016040528080519060200190919080518201919060200180519060200190919080518201919050505</span>b<span class="hljs-number">83600160003373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16815260200190815260200160002081905550836000819055508260039080519060200190620000</span>f<span class="hljs-number">992919062000139565</span>b<span class="hljs-number">5081600460006101000</span>a<span class="hljs-number">81548160</span>ff<span class="hljs-number">021916908360</span>ff<span class="hljs-number">16021790555080600590805190602001906200012</span>d<span class="hljs-number">92919062000139565</span>b<span class="hljs-number">505</span>b<span class="hljs-number">50505050620001e8565</span>b<span class="hljs-number">828054600181600116156101000203166002900490600052602060002090601</span>f<span class="hljs-number">016020900481019282601</span>f<span class="hljs-number">106200017</span><span class="hljs-keyword">c</span><span class="hljs-number">57805160</span>ff<span class="hljs-number">1916838001178555620001</span>ad<span class="hljs-number">565</span>b<span class="hljs-number">82800160010185558215620001</span>ad<span class="hljs-number">579182015</span>b<span class="hljs-number">82811115620001</span>ac<span class="hljs-number">5782518255916020019190600101906200018</span>f<span class="hljs-number">565</span>b<span class="hljs-number">5</span>b<span class="hljs-number">509050620001</span>bc<span class="hljs-number">9190620001</span><span class="hljs-keyword">c</span><span class="hljs-number">0565</span>b<span class="hljs-number">5090565</span>b<span class="hljs-number">620001e591905</span>b<span class="hljs-number">80821115620001e1576000816000905550600101620001</span><span class="hljs-keyword">c</span><span class="hljs-number">7565</span>b<span class="hljs-number">5090565</span>b<span class="hljs-number">90565</span>b<span class="hljs-number">610</span>fd<span class="hljs-number">580620001</span>f<span class="hljs-number">86000396000</span>f<span class="hljs-number">300606060405236156100</span>ad<span class="hljs-number">576000357</span><span class="hljs-keyword">c</span><span class="hljs-number">0100000000000000000000000000000000000000000000000000000000900463</span>ffffffff<span class="hljs-number">16806306</span>fdde<span class="hljs-number">03146100</span><span class="hljs-keyword">c</span><span class="hljs-number">3578063095</span>ea<span class="hljs-number">7</span>b<span class="hljs-number">31461015</span><span class="hljs-keyword">c</span><span class="hljs-number">57806318160</span>ddd<span class="hljs-number">146101</span>b<span class="hljs-number">357806323</span>b<span class="hljs-number">872</span>dd<span class="hljs-number">146101</span>d<span class="hljs-number">9578063313</span>ce<span class="hljs-number">5671461024</span>f<span class="hljs-number">57806354</span>fd<span class="hljs-number">4</span>d<span class="hljs-number">501461027</span>b<span class="hljs-number">57806370</span>a<span class="hljs-number">082311461031457806395</span>d<span class="hljs-number">89</span>b<span class="hljs-number">411461035e578063</span>a<span class="hljs-number">9059</span>cbb<span class="hljs-number">146103</span>f<span class="hljs-number">7578063</span>cae<span class="hljs-number">9</span>ca<span class="hljs-number">511461044e578063</span>dd<span class="hljs-number">62</span>ed<span class="hljs-number">3e146104</span>e<span class="hljs-number">8575</span>b<span class="hljs-number">34156100</span>b<span class="hljs-number">557</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">6100</span><span class="hljs-keyword">c</span><span class="hljs-number">15</span>b<span class="hljs-number">60006000</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">565</span>b<span class="hljs-number">005</span>b<span class="hljs-number">34156100</span>cb<span class="hljs-number">57</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">6100</span>d<span class="hljs-number">3610551565</span>b<span class="hljs-number">6040518080602001828103825283818151815260200191508051906020019080838360008314610122575</span>b<span class="hljs-number">805182526020831115610122576020820191506020810190506020830392506100</span>fe<span class="hljs-number">565</span>b<span class="hljs-number">505050905090810190601</span>f<span class="hljs-number">16801561014e5780820380516001836020036101000</span>a<span class="hljs-number">031916815260200191505</span>b<span class="hljs-number">509250505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">341561016457</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">610199600480803573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">169060200190919080359060200190919050506105</span>ef<span class="hljs-number">565</span>b<span class="hljs-number">604051808215151515815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">34156101</span>bb<span class="hljs-number">57</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">6101</span><span class="hljs-keyword">c</span><span class="hljs-number">36106e2565</span>b<span class="hljs-number">6040518082815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">34156101e157</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">610235600480803573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1690602001909190803573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">169060200190919080359060200190919050506106e8565</span>b<span class="hljs-number">604051808215151515815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">341561025757</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">61025</span>f<span class="hljs-number">610969565</span>b<span class="hljs-number">604051808260</span>ff<span class="hljs-number">1660</span>ff<span class="hljs-number">16815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">341561028357</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">61028</span>b<span class="hljs-number">61097</span><span class="hljs-keyword">c</span><span class="hljs-number">565</span>b<span class="hljs-number">60405180806020018281038252838181518152602001915080519060200190808383600083146102</span>da<span class="hljs-number">575</span>b<span class="hljs-number">8051825260208311156102</span>da<span class="hljs-number">576020820191506020810190506020830392506102</span>b<span class="hljs-number">6565</span>b<span class="hljs-number">505050905090810190601</span>f<span class="hljs-number">1680156103065780820380516001836020036101000</span>a<span class="hljs-number">031916815260200191505</span>b<span class="hljs-number">509250505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">341561031</span><span class="hljs-keyword">c</span><span class="hljs-number">57</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">610348600480803573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16906020019091905050610</span>a<span class="hljs-number">1</span>a<span class="hljs-number">565</span>b<span class="hljs-number">6040518082815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">341561036657</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">61036e610</span>a<span class="hljs-number">64565</span>b<span class="hljs-number">60405180806020018281038252838181518152602001915080519060200190808383600083146103</span>bd<span class="hljs-number">575</span>b<span class="hljs-number">8051825260208311156103</span>bd<span class="hljs-number">57602082019150602081019050602083039250610399565</span>b<span class="hljs-number">505050905090810190601</span>f<span class="hljs-number">1680156103e95780820380516001836020036101000</span>a<span class="hljs-number">031916815260200191505</span>b<span class="hljs-number">509250505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">34156103</span>ff<span class="hljs-number">57</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">610434600480803573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16906020019091908035906020019091905050610</span>b<span class="hljs-number">02565</span>b<span class="hljs-number">604051808215151515815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">341561045657</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">6104</span>ce<span class="hljs-number">600480803573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1690602001909190803590602001909190803590602001908201803590602001908080601</span>f<span class="hljs-number">01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050610</span><span class="hljs-keyword">c</span><span class="hljs-number">70565</span>b<span class="hljs-number">604051808215151515815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">34156104</span>f<span class="hljs-number">057</span>fe<span class="hljs-number">5</span>b<span class="hljs-number">61053</span>b<span class="hljs-number">600480803573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1690602001909190803573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16906020019091905050610</span>f<span class="hljs-number">21565</span>b<span class="hljs-number">6040518082815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">60038054600181600116156101000203166002900480601</span>f<span class="hljs-number">0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105e75780601</span>f<span class="hljs-number">106105</span>bc<span class="hljs-number">576101008083540402835291602001916105e7565</span>b<span class="hljs-number">820191906000526020600020905</span>b<span class="hljs-number">8154815290600101906020018083116105</span>ca<span class="hljs-number">57829003601</span>f<span class="hljs-number">168201915</span>b<span class="hljs-number">505050505081565</span>b<span class="hljs-number">600081600260003373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16815260200190815260200160002060008573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">168152602001908152602001600020819055508273</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">163373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">167</span>f<span class="hljs-number">8</span><span class="hljs-keyword">c</span><span class="hljs-number">5</span>be<span class="hljs-number">1e5</span>ebec<span class="hljs-number">7</span>d<span class="hljs-number">5</span>bd<span class="hljs-number">14</span>f<span class="hljs-number">71427</span>d<span class="hljs-number">1e84</span>f<span class="hljs-number">3</span>dd<span class="hljs-number">0314</span><span class="hljs-keyword">c</span><span class="hljs-number">0</span>f<span class="hljs-number">7</span>b<span class="hljs-number">2291e5</span>b<span class="hljs-number">200</span>ac<span class="hljs-number">8</span><span class="hljs-keyword">c</span><span class="hljs-number">7</span><span class="hljs-keyword">c</span><span class="hljs-number">3</span>b<span class="hljs-number">925846040518082815260200191505060405180910390</span>a<span class="hljs-number">3600190505</span>b<span class="hljs-number">92915050565</span>b<span class="hljs-number">60005481565</span>b<span class="hljs-number">600081600160008673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16815260200190815260200160002054101580156107</span>b<span class="hljs-number">5575081600260008673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16815260200190815260200160002060003373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1681526020019081526020016000205410155</span>b<span class="hljs-number">80156107</span><span class="hljs-keyword">c</span><span class="hljs-number">15750600082115</span>b<span class="hljs-number">156109585781600160008573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1681526020019081526020016000206000828254019250508190555081600160008673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1681526020019081526020016000206000828254039250508190555081600260008673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16815260200190815260200160002060003373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">168152602001908152602001600020600082825403925050819055508273</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">168473</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">167</span>fddf<span class="hljs-number">252</span>ad<span class="hljs-number">1</span>be<span class="hljs-number">2</span><span class="hljs-keyword">c</span><span class="hljs-number">89</span>b<span class="hljs-number">69</span><span class="hljs-keyword">c</span><span class="hljs-number">2</span>b<span class="hljs-number">068</span>fc<span class="hljs-number">378</span>daa<span class="hljs-number">952</span>ba<span class="hljs-number">7</span>f<span class="hljs-number">163</span><span class="hljs-keyword">c</span><span class="hljs-number">4</span>a<span class="hljs-number">11628</span>f<span class="hljs-number">55</span>a<span class="hljs-number">4</span>df<span class="hljs-number">523</span>b<span class="hljs-number">3</span>ef<span class="hljs-number">846040518082815260200191505060405180910390</span>a<span class="hljs-number">360019050610962565</span>b<span class="hljs-number">60009050610962565</span>b<span class="hljs-number">5</span>b<span class="hljs-number">9392505050565</span>b<span class="hljs-number">600460009054906101000</span>a<span class="hljs-number">900460</span>ff<span class="hljs-number">1681565</span>b<span class="hljs-number">60068054600181600116156101000203166002900480601</span>f<span class="hljs-number">016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610</span>a<span class="hljs-number">125780601</span>f<span class="hljs-number">106109e757610100808354040283529160200191610</span>a<span class="hljs-number">12565</span>b<span class="hljs-number">820191906000526020600020905</span>b<span class="hljs-number">8154815290600101906020018083116109</span>f<span class="hljs-number">557829003601</span>f<span class="hljs-number">168201915</span>b<span class="hljs-number">505050505081565</span>b<span class="hljs-number">6000600160008373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1681526020019081526020016000205490505</span>b<span class="hljs-number">919050565</span>b<span class="hljs-number">60058054600181600116156101000203166002900480601</span>f<span class="hljs-number">016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610</span>afa<span class="hljs-number">5780601</span>f<span class="hljs-number">10610</span>acf<span class="hljs-number">57610100808354040283529160200191610</span>afa<span class="hljs-number">565</span>b<span class="hljs-number">820191906000526020600020905</span>b<span class="hljs-number">815481529060010190602001808311610</span><span class="hljs-keyword">add</span><span class="hljs-number">57829003601</span>f<span class="hljs-number">168201915</span>b<span class="hljs-number">505050505081565</span>b<span class="hljs-number">600081600160003373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1681526020019081526020016000205410158015610</span>b<span class="hljs-number">535750600082115</span>b<span class="hljs-number">15610</span><span class="hljs-keyword">c</span><span class="hljs-number">605781600160003373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1681526020019081526020016000206000828254039250508190555081600160008573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">168152602001908152602001600020600082825401925050819055508273</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">163373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">167</span>fddf<span class="hljs-number">252</span>ad<span class="hljs-number">1</span>be<span class="hljs-number">2</span><span class="hljs-keyword">c</span><span class="hljs-number">89</span>b<span class="hljs-number">69</span><span class="hljs-keyword">c</span><span class="hljs-number">2</span>b<span class="hljs-number">068</span>fc<span class="hljs-number">378</span>daa<span class="hljs-number">952</span>ba<span class="hljs-number">7</span>f<span class="hljs-number">163</span><span class="hljs-keyword">c</span><span class="hljs-number">4</span>a<span class="hljs-number">11628</span>f<span class="hljs-number">55</span>a<span class="hljs-number">4</span>df<span class="hljs-number">523</span>b<span class="hljs-number">3</span>ef<span class="hljs-number">846040518082815260200191505060405180910390</span>a<span class="hljs-number">360019050610</span><span class="hljs-keyword">c</span><span class="hljs-number">6</span>a<span class="hljs-number">565</span>b<span class="hljs-number">60009050610</span><span class="hljs-keyword">c</span><span class="hljs-number">6</span>a<span class="hljs-number">565</span>b<span class="hljs-number">5</span>b<span class="hljs-number">92915050565</span>b<span class="hljs-number">600082600260003373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16815260200190815260200160002060008673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">168152602001908152602001600020819055508373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">163373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">167</span>f<span class="hljs-number">8</span><span class="hljs-keyword">c</span><span class="hljs-number">5</span>be<span class="hljs-number">1e5</span>ebec<span class="hljs-number">7</span>d<span class="hljs-number">5</span>bd<span class="hljs-number">14</span>f<span class="hljs-number">71427</span>d<span class="hljs-number">1e84</span>f<span class="hljs-number">3</span>dd<span class="hljs-number">0314</span><span class="hljs-keyword">c</span><span class="hljs-number">0</span>f<span class="hljs-number">7</span>b<span class="hljs-number">2291e5</span>b<span class="hljs-number">200</span>ac<span class="hljs-number">8</span><span class="hljs-keyword">c</span><span class="hljs-number">7</span><span class="hljs-keyword">c</span><span class="hljs-number">3</span>b<span class="hljs-number">925856040518082815260200191505060405180910390</span>a<span class="hljs-number">38373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1660405180807</span>f<span class="hljs-number">72656365697665417070726</span>f<span class="hljs-number">76616</span><span class="hljs-keyword">c</span><span class="hljs-number">28616464726573732</span><span class="hljs-keyword">c</span><span class="hljs-number">75696e743235362</span><span class="hljs-keyword">c</span><span class="hljs-number">81526020017</span>f<span class="hljs-number">616464726573732</span><span class="hljs-keyword">c</span><span class="hljs-number">627974657329000000000000000000000000000000000000815250602e01905060405180910390207</span><span class="hljs-keyword">c</span><span class="hljs-number">01000000000000000000000000000000000000000000000000000000009004338530866040518563</span>ffffffff<span class="hljs-number">167</span><span class="hljs-keyword">c</span><span class="hljs-number">0100000000000000000000000000000000000000000000000000000000028152600401808573</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1681526020018481526020018373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">168152602001828051906020019080838360008314610</span>ec<span class="hljs-number">0575</span>b<span class="hljs-number">805182526020831115610</span>ec<span class="hljs-number">057602082019150602081019050602083039250610e9</span><span class="hljs-keyword">c</span><span class="hljs-number">565</span>b<span class="hljs-number">505050905090810190601</span>f<span class="hljs-number">168015610</span>eec<span class="hljs-number">5780820380516001836020036101000</span>a<span class="hljs-number">031916815260200191505</span>b<span class="hljs-number">5094505050505060006040518083038160008761646e5</span>a<span class="hljs-number">03</span>f<span class="hljs-number">1925050501515610</span>f<span class="hljs-number">155760006000</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">600190505</span>b<span class="hljs-number">9392505050565</span>b<span class="hljs-number">6000600260008473</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">16815260200190815260200160002060008373</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1673</span>ffffffffffffffffffffffffffffffffffffffff<span class="hljs-number">1681526020019081526020016000205490505</span>b<span class="hljs-number">929150505600</span>a<span class="hljs-number">165627</span>a<span class="hljs-number">7</span>a<span class="hljs-number">723058200</span>cefa<span class="hljs-number">2</span>ee<span class="hljs-number">536584300e6123</span>cee<span class="hljs-number">2</span>abeafcf<span class="hljs-number">9</span>ab<span class="hljs-number">9388</span>caf<span class="hljs-number">67</span>ee<span class="hljs-number">95580</span>f<span class="hljs-number">02e5587008</span>d<span class="hljs-number">0029</span>
</code></pre>
<p>ByteSize： <code>4557.5 byte =&gt; 4.45 kb</code></p>
<h6><a class="anchor" aria-hidden="true" id="cost-2"></a><a href="#cost-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cost</h6>
<p>PlatON</p>
<ul>
<li>GasUsed: 552823</li>
<li>GasPrice: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>Costs:  2764115 <code>gVON</code>（0.002764115 <code>LAT</code>）</li>
</ul>
<p>Ethereum</p>
<ul>
<li>GasUsed: 1282171</li>
<li>GasPrice: 5,000,000,000 (5 <code>Gwei</code>)</li>
<li>Costs:  6410855 <code>Gwei</code>（0.006410855 <code>ETH</code>）</li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="best-practice"></a><a href="#best-practice" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Best Practice</h2>
<h3><a class="anchor" aria-hidden="true" id="introduction-4"></a><a href="#introduction-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h3>
<p>This guide introduces users with some key points that need to be paid attention in the development of smart contracts, mainly in the practice of actual development. Users can use this guide to quickly understand how to set a reasonable fee for a transaction, how to avoid losing the fee due to transaction failure, and how to encode a more standardized smart contract.</p>
<h3><a class="anchor" aria-hidden="true" id="reasonable-cost-setting"></a><a href="#reasonable-cost-setting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reasonable Cost Setting</h3>
<p>When you need to deploy a contract on the main network of PlatON, you need to set a reasonable fee limit. The fee limit refers to the upper limit of the energy consumption cost of smart contract deployment/execution in PlatON. This restriction is mainly accomplished through Gas. Gas is the fuel value of the PlatON network world, which determines the normal operation of the PlatON network ecosystem. Gas is usually used to measure how much &quot;work&quot; is required to perform certain actions, and these workloads are the amount of fees that need to be paid to the PlatON network in order to perform the action. In a simple understanding, Gas is the commission for network miners, and is paid by LAT. Any transaction, contract execution, and data storage on the network need to use Gas.</p>
<p>PlatON is similar to Ethereum's blockchain system. It uses <code>LAT</code> for payment and maintenance networks. One LAT is divided into:<code>mLAT/uLAT/gVON/mVON/kVON/VON</code>, and <code>VON</code> is the smallest unit.</p>
<p>Gas consists of two parts: GasLimit and GasPrice. <code>GasLimit</code> is the maximum<code>Gas</code> consumption (minimum 21,000) that a user is willing to pay to perform an operation or confirm a transaction. GasPrice is the unit price of each Gas.</p>
<p>When a user sends a transaction, GasLimit and GasPrice are set. <code>GasLimit * GasPrice</code> is the user's transaction cost, and the cost is rewarded to the miner as a commission.</p>
<p>The higher the GasPrice of the transaction, the higher the execution priority of the transaction and the greater the transaction cost. After each transaction is completed, the remaining unused Gas will be returned to the sender's address account. It is important to note that if the execution of the transaction fails due to the GasLimit is too low, the Gas will not be returned to the user's address at this time, and the user still needs to pay the energy cost for the failed transaction. Therefore, regardless of whether the transaction is executed successfully, the transaction sender needs to pay a certain calculation fee to the miner.</p>
<p>In the <code>PlatON</code> network, the maximum gas limit is<code>4,700,000</code> and the minimum is <code>22,000</code>. Too low or too high will cause transaction failure. When deploying large contracts or calling complex functions in contracts, you can increase the gas limit, for example: <code>1,000,000</code>. If it is a normal transfer, set it to the lowest value. The specific value needs to be estimated according to the size and complexity of the contract. Before the contract is released, the interface <code>platon_estimateGas</code> can be called for approximate estimation to avoid failure due to insufficient Gas. <a href="/docs/en/Json_Rpc">Click to view JSON-RPC reference documentation</a>.</p>
<p><strong>LAT Unit Conversion</strong></p>
<table>
<thead>
<tr><th style="text-align:left">Unit</th><th style="text-align:left">VON Value</th><th style="text-align:left">VON</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">VON</td><td style="text-align:left">1</td><td style="text-align:left">1 VON</td></tr>
<tr><td style="text-align:left">kVON</td><td style="text-align:left">1e3 VON</td><td style="text-align:left">1,000</td></tr>
<tr><td style="text-align:left">mVON</td><td style="text-align:left">1e6 VON</td><td style="text-align:left">1,000,000</td></tr>
<tr><td style="text-align:left">gVON</td><td style="text-align:left">1e9 VON</td><td style="text-align:left">1,000,000,000</td></tr>
<tr><td style="text-align:left">LAT</td><td style="text-align:left">1e18 VON</td><td style="text-align:left">1,000,000,000,000,000,000</td></tr>
<tr><td style="text-align:left">mLAT</td><td style="text-align:left">1e24 VON</td><td style="text-align:left">1,000,000,000,000,000,000,000,000</td></tr>
<tr><td style="text-align:left">gLAT</td><td style="text-align:left">1e27 VON</td><td style="text-align:left">1,000,000,000,000,000,000,000,000,000</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="avoid-timeouts"></a><a href="#avoid-timeouts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Avoid Timeouts</h3>
<p>Sending transactions on the PlatON network does not have the concept of timeout, but it will eventually stop according to the set gas limit value. If the limit value is lower than the consumption required for contract deployment, the transaction execution fails and the corresponding processing fee will be deducted. The fee setting cannot be infinite, because in the network, the block itself has a maximum <code>GasLimit</code> value. When the GasLimit of the transaction exceeds this value, the transaction will not be accepted.</p>
<p>If the call function of a published contract is called (a call is a stateless operation in the contract logic), there is a 5s timeout limit. If the contract logic is not executed within 5s, a timeout will occur and the virtual machine will forcely exit , causing the query to fail.</p>
<p>To avoid contract-related transaction failures, try breaking large contracts into smaller pieces and referencing each other as needed. To avoid infinite loops, be aware of common pitfalls and recursive calls.</p>
<h3><a class="anchor" aria-hidden="true" id="punishment-for-illegal-operations"></a><a href="#punishment-for-illegal-operations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Punishment For Illegal Operations</h3>
<p>If the smart contract is not compiled by a standard valid compiler, or the instruction code is changed at will, the opcode will be invalid. This type of contract not only fails to be deployed and executed successfully, but also generates a full amount (<code>GasLimit * GasPrice</code>) penalty. The transaction fee for the current transaction will be deducted. This is a very strong penalty. If the operator does not pay attention to this point and keep retrying, then the cost will be higher and the cost will be heavier.</p>
<p>In general, invalid opcodes have the following conditions:</p>
<ol>
<li>Manually changed the instruction code for the normally compiled contract;</li>
<li>The contract compiler version is not consistent with the contract version supported by the network lock;</li>
</ol>
<p>When operating a contract in the PlatON network. First, you must confirm the smart contract version supported by the current network, and then select the compiler of the corresponding version pair.</p>
<p>The normal operation is to use the latest <code>Truffle</code>/<code>PlatON-CDT</code> officially provided by PlatON to compile/deploy/execute the contract. At the same time, before switching to the main network, it must be validated on the test network.</p>
<h3><a class="anchor" aria-hidden="true" id="coding-standards"></a><a href="#coding-standards" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Coding Standards</h3>
<h4><a class="anchor" aria-hidden="true" id="naming-rules"></a><a href="#naming-rules" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Naming Rules</h4>
<p>Basic Rules:</p>
<ul>
<li>Use complete descriptive information that accurately describes variables, fields, classes, interfaces, etc.</li>
<li>Use mixed case (except special characters) to improve the readability of the name.</li>
<li>Use terminology within the blockchain industry.</li>
<li>Use as few abbreviations as possible. If you must use them, it is recommended to use public abbreviations and custom abbreviations.</li>
<li>Avoid using names that are similar or just distinguish between upper and lower case.</li>
<li>The directory uses lowercase uniformly, without special symbols.</li>
<li>For smart contracts, the file name is consistent with the contract name.</li>
<li>The naming suggestion is to use the hump name uniformly.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="document-format-for-smart-contracts"></a><a href="#document-format-for-smart-contracts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Document Format For Smart Contracts</h4>
<p>File Layout Rules:</p>
<ul>
<li>Generally more than 1000 lines of program code is difficult to read, try to avoid the situation that the number of lines of code in a file is too long. Each contract document should contain only a single contract class or contract interface.</li>
</ul>
<p>Order Of Files:</p>
<ul>
<li>Notes on files: All contract source files have a note at the beginning, which lists the copyright statement, file name, function description, and creation and modification records of the file.</li>
<li>File/Package reference: In the contract source file, the first non-comment line is the compiler version, followed by the reference statement.</li>
<li>Remarks for class or interface: Comments should be made before class and interface definitions, including descriptions of classes and interfaces, latest modifiers, version numbers, reference links, etc.</li>
<li>The order of member variables: first the public level, then the protection level, and finally the private level.</li>
<li>Functions: Functions within a contract should be grouped by module, not by scope or access permissions.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="suggestions"></a><a href="#suggestions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Suggestions</h4>
<ul>
<li>In the smart contract, to get the value of the state variable modified by the public, there is no need to write a function of <code>get</code>.</li>
<li>In a smart contract, if an anonymous function modified by payable is added to the contract, the contract address can accept LAT transfers.</li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="contract-security-development-guide"></a><a href="#contract-security-development-guide" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contract Security Development Guide</h2>
<p>In Solidity, you can use smart contracts to handle tokens or, possibly, even more valuable things. Furthermore, every execution of a smart contract happens in public and, in addition to that, the source code is often available. In the blockchain world, contracts have always been the main point of attack for hackers, and they have also caused very large losses. Therefore, the security development of the contract is very important. You can consider the following aspects to improve the security of the contract.</p>
<h3><a class="anchor" aria-hidden="true" id="compiler-bug"></a><a href="#compiler-bug" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compiler Bug</h3>
<p>First, you must understand the bugs of the Solidity compiler itself, and try to avoid the version of the compiler in question or the use of the problem. Solidity compiler bug list: <a href="https://solidity.readthedocs.io/en/latest/bugs.html">https://solidity.readthedocs.io/en/latest/bugs.html</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="standard-contract-development-process"></a><a href="#standard-contract-development-process" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Standard Contract Development Process</h3>
<p>If you want to solve the security problem of smart contracts, you must develop contracts according to standard processes.</p>
<ol>
<li>The detailed design must be completed first, taking into account various scenarios and abnormal situations. Avoid unclear and incompletely introduced bugs.</li>
<li>During development, to be modular and concise, complexity will increase the risk of errors.</li>
<li>Before the contract is deployed to the mainnet, the contract must be adequately reviewed and tested.</li>
<li>Keep an eye on the operation status of the contract. In an emergency, you can destroy the contract or provide a similar emergency freeze function.</li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="common-pitfalls"></a><a href="#common-pitfalls" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Common Pitfalls</h3>
<h4><a class="anchor" aria-hidden="true" id="private-information-and-randomness"></a><a href="#private-information-and-randomness" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Private Information and Randomness</h4>
<p>Everything you use in a smart contract is publicly visible, even local variables and state variables marked <code>private</code>.</p>
<p>Using random numbers in smart contracts is quite tricky if you do not want miners to be able to cheat(The use of random numbers in smart contracts is difficult to ensure that nodes do not cheat. This is because random numbers in smart contracts generally rely on the local time of the computing node, and local time can be forged by malicious nodes. Therefore, this method is not safe. A common practice is to use off-chain third-party services such as Oraclize to obtain random numbers).</p>
<h4><a class="anchor" aria-hidden="true" id="re-entrancy"></a><a href="#re-entrancy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Re-Entrancy</h4>
<p>Any interaction from a contract (A) with another contract (B) and any transfer of Ether hands over control to that contract (B). This makes it possible for B to call back into A before this interaction is completed. To give an example, the following code contains a bug (it is just a snippet and not a complete contract):</p>
<pre><code class="hljs">pragma solidity &gt;=<span class="hljs-number">0.4</span><span class="hljs-number">.0</span> &lt;<span class="hljs-number">0.7</span><span class="hljs-number">.0</span>;

<span class="hljs-comment">// THIS CONTRACT CONTAINS A BUG - DO NOT USE</span>
contract Fund {
    <span class="hljs-comment">/// Mapping of ether shares of the contract.</span>
    mapping(address =&gt; <span class="hljs-keyword">uint</span>) shares;
    <span class="hljs-comment">/// Withdraw your share.</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withdraw</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> </span>{
        <span class="hljs-keyword">if</span> (msg.sender.send(shares[msg.sender]))
            shares[msg.sender] = <span class="hljs-number">0</span>;
    }
}
</code></pre>
<p>The problem is not too serious here because of the limited gas as part of <code>send</code>, but it still exposes a weakness: Ether transfer can always include code execution, so the recipient could be a contract that calls back into <code>withdraw</code>. This would let it get multiple refunds and basically retrieve all the Ether in the contract. In particular, the following contract will allow an attacker to refund multiple times as it uses <code>call</code> which forwards all remaining gas by default:</p>
<pre><code class="hljs">pragma solidity &gt;=<span class="hljs-number">0.4</span><span class="hljs-number">.0</span> &lt;<span class="hljs-number">0.7</span><span class="hljs-number">.0</span>;

<span class="hljs-comment">// THIS CONTRACT CONTAINS A BUG - DO NOT USE</span>
contract Fund {
    <span class="hljs-comment">/// Mapping of ether shares of the contract.</span>
    mapping(address =&gt; <span class="hljs-keyword">uint</span>) shares;
    <span class="hljs-comment">/// Withdraw your share.</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withdraw</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> </span>{
        (<span class="hljs-keyword">bool</span> success,) = msg.sender.call.value(shares[msg.sender])(<span class="hljs-string">""</span>);
        <span class="hljs-keyword">if</span> (success)
            shares[msg.sender] = <span class="hljs-number">0</span>;
    }
}
</code></pre>
<p>To avoid re-entrancy, you can use the Checks-Effects-Interactions pattern as outlined further below:</p>
<pre><code class="hljs">pragma solidity &gt;=<span class="hljs-number">0.4</span><span class="hljs-number">.11</span> &lt;<span class="hljs-number">0.7</span><span class="hljs-number">.0</span>;

contract Fund {
    <span class="hljs-comment">/// Mapping of ether shares of the contract.</span>
    mapping(address =&gt; <span class="hljs-keyword">uint</span>) shares;
    <span class="hljs-comment">/// Withdraw your share.</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withdraw</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> </span>{
        <span class="hljs-keyword">uint</span> share = shares[msg.sender];
        shares[msg.sender] = <span class="hljs-number">0</span>;
        msg.sender.transfer(share);
    }
}
</code></pre>
<p>Note that re-entrancy is not only an effect of Ether transfer but of any function call on another contract. Furthermore, you also have to take multi-contract situations into account. A called contract could modify the state of another contract you depend on.</p>
<h4><a class="anchor" aria-hidden="true" id="gas-limit-and-loops"></a><a href="#gas-limit-and-loops" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gas Limit and Loops</h4>
<p>Loops that do not have a fixed number of iterations, for example, loops that depend on storage values, have to be used carefully: Due to the block gas limit, transactions can only consume a certain amount of gas. Either explicitly or just due to normal operation, the number of iterations in a loop can grow beyond the block gas limit which can cause the complete contract to be stalled at a certain point. This may not apply to <code>view</code> functions that are only executed to read data from the blockchain. Still, such functions may be called by other contracts as part of on-chain operations and stall those. Please be explicit about such cases in the documentation of your contracts.</p>
<h4><a class="anchor" aria-hidden="true" id="sending-and-receiving-ether"></a><a href="#sending-and-receiving-ether" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sending and Receiving Ether</h4>
<ul>
<li>Neither contracts nor “external accounts” are currently able to prevent that someone sends them Ether. Contracts can react on and reject a regular transfer, but there are ways to move Ether without creating a message call. One way is to simply “mine to” the contract address and the second way is using <code>selfdestruct(x)</code>.</li>
<li>If a contract receives Ether (without a function being called), either the receive Ether or the fallback function is executed. If it does not have a receive nor a fallback function, the Ether will be rejected (by throwing an exception). During the execution of one of these functions, the contract can only rely on the “gas stipend” it is passed (2300 gas) being available to it at that time. This stipend is not enough to modify storage (do not take this for granted though, the stipend might change with future hard forks). To be sure that your contract can receive Ether in that way, check the gas requirements of the receive and fallback functions.</li>
<li>There is a way to forward more gas to the receiving contract using <code>addr.call{value: x}(&quot;&quot;)</code>. This is essentially the same as <code>addr.transfer(x)</code>, only that it forwards all remaining gas and opens up the ability for the recipient to perform more expensive actions (and it returns a failure code instead of automatically propagating the error). This might include calling back into the sending contract or other state changes you might not have thought of. So it allows for great flexibility for honest users but also for malicious actors.</li>
<li>Use the most precise units to represent the wei amount as possible, as you lose any that is rounded due to a lack of precision.</li>
<li>If you want to send Ether using <code>address.transfer</code>, there are certain details to be aware of:
<ol>
<li>If the recipient is a contract, it causes its receive or fallback function to be executed which can, in turn, call back the sending contract.</li>
<li>Sending Ether can fail due to the call depth going above 1024. Since the caller is in total control of the call depth, they can force the transfer to fail; take this possibility into account or use <code>send</code> and make sure to always check its return value. Better yet, write your contract using a pattern where the recipient can withdraw Ether instead.</li>
<li>Sending Ether can also fail because the execution of the recipient contract requires more than the allotted amount of gas (explicitly by using <code>require</code>, <code>assert</code>, <code>revert</code> or because the operation is too expensive) - it “runs out of gas” (OOG). If you use <code>transfer</code> or <code>send</code> with a return value check, this might provide a means for the recipient to block progress in the sending contract. Again, the best practice here is to use a <a href="https://solidity.readthedocs.io/en/latest/common-patterns.html#withdrawal-pattern">“withdraw” pattern instead of a “send” pattern</a>。</li>
</ol></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="callstack-depth"></a><a href="#callstack-depth" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Callstack Depth</h4>
<p>External function calls can fail any time because they exceed the maximum call stack of 1024. In such situations, Solidity throws an exception. Malicious actors might be able to force the call stack to a high value before they interact with your contract.</p>
<p>Note that <code>.send()</code> does <strong>not</strong> throw an exception if the call stack is depleted but rather returns <code>false</code> in that case. The low-level functions <code>.call()</code>, <code>.delegatecall()</code> and <code>.staticcall()</code> behave in the same way.</p>
<h4><a class="anchor" aria-hidden="true" id="txorigin"></a><a href="#txorigin" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>tx.origin</h4>
<p>Never use tx.origin for authorization. Let’s say you have a wallet contract like this:</p>
<pre><code class="hljs">pragma solidity &gt;=<span class="hljs-number">0.5.</span><span class="hljs-number">0</span> &lt;<span class="hljs-number">0.7.</span><span class="hljs-number">0</span>;

// THIS CONTRACT <span class="hljs-keyword">CONTAINS</span> A BUG - <span class="hljs-keyword">DO</span> NOT <span class="hljs-keyword">USE</span>
contract TxUserWallet {
    address owner;

    constructor() <span class="hljs-keyword">public</span> {
        owner = msg.sender;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span></span> transferTo(address payable dest, uint amount) <span class="hljs-keyword">public</span> {
        require(tx.origin == owner);
        dest.<span class="hljs-built_in">transfer</span>(amount);
    }
}
</code></pre>
<p>Now someone tricks you into sending Ether to the address of this attack wallet:</p>
<pre><code class="hljs">pragma solidity &gt;=0.5.0 &lt;0.7.0;
<span class="hljs-built_in">
interface </span>TxUserWallet {
    function transferTo(address payable dest, uint amount) external;
}

contract TxAttackWallet {
   <span class="hljs-built_in"> address </span>payable owner;

    constructor() public {
        owner = msg.sender;
    }

    function() external {
        TxUserWallet(msg.sender).transferTo(owner, msg.sender.balance);
    }
}
</code></pre>
<p>If your wallet had checked <code>msg.sender</code> for authorization, it would get the address of the attack wallet, instead of the owner address. But by checking <code>tx.origin</code>, it gets the original address that kicked off the transaction, which is still the owner address. The attack wallet instantly drains all your funds.</p>
<h4><a class="anchor" aria-hidden="true" id="twos-complement--underflows--overflows"></a><a href="#twos-complement--underflows--overflows" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Two’s Complement / Underflows / Overflows</h4>
<p>As in many programming languages, Solidity’s integer types are not actually integers. They resemble integers when the values are small, but behave differently if the numbers are larger. For example, the following is true: <code>uint8(255) + uint8(1) == 0</code>. This situation is called an <em>overflow</em>. It occurs when an operation is performed that requires a fixed size variable to store a number (or piece of data) that is outside the range of the variable’s data type. An <em>underflow</em> is the converse situation: <code>uint8(0) - uint8(1) == 255</code>.</p>
<p>In general, read about the limits of two’s complement representation, which even has some more special edge cases for signed numbers.</p>
<p>Try to use <code>require</code> to limit the size of inputs to a reasonable range and use the <a href="https://solidity.readthedocs.io/en/latest/layout-of-source-files.html#smt-checker">SMT checker</a> to find potential overflows, or use a library like <a href="https://github.com/OpenZeppelin/openzeppelin-solidity/blob/master/contracts/math/SafeMath.sol">SafeMath</a> if you want all overflows to cause a revert.</p>
<p>Code such as <code>require((balanceOf[_to] + _value) &gt;= balanceOf[_to])</code> can also help you check if values are what you expect.</p>
<h4><a class="anchor" aria-hidden="true" id="clearing-mappings"></a><a href="#clearing-mappings" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Clearing Mappings</h4>
<p>The Solidity type <code>mapping</code> (see <a href="https://solidity.readthedocs.io/en/latest/types.html#mapping-types">Mapping Types</a>) is a storage-only key-value data structure that does not keep track of the keys that were assigned a non-zero value. Because of that, cleaning a mapping without extra information about the written keys is not possible. If a <code>mapping</code> is used as the base type of a dynamic storage array, deleting or popping the array will have no effect over the <code>mapping</code> elements. The same happens, for example, if a <code>mapping</code> is used as the type of a member field of a <code>struct</code> that is the base type of a dynamic storage array. The <code>mapping</code> is also ignored in assignments of structs or arrays that containing a <code>mapping</code>.</p>
<pre><code class="hljs">pragma solidity &gt;=<span class="hljs-number">0.5</span><span class="hljs-number">.0</span> &lt;<span class="hljs-number">0.7</span><span class="hljs-number">.0</span>;

contract Map {
    mapping (<span class="hljs-keyword">uint</span> =&gt; <span class="hljs-keyword">uint</span>)[] <span class="hljs-keyword">array</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">allocate</span><span class="hljs-params">(uint _newMaps)</span> <span class="hljs-title">public</span> </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">uint</span> i = <span class="hljs-number">0</span>; i &lt; _newMaps; i++)
            <span class="hljs-keyword">array</span>.push();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">writeMap</span><span class="hljs-params">(uint _map, uint _key, uint _value)</span> <span class="hljs-title">public</span> </span>{
        <span class="hljs-keyword">array</span>[_map][_key] = _value;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">readMap</span><span class="hljs-params">(uint _map, uint _key)</span> <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> <span class="hljs-params">(uint)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">array</span>[_map][_key];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eraseMaps</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> </span>{
        delete <span class="hljs-keyword">array</span>;
    }
}
</code></pre>
<p>Consider the example above and the following sequence of calls: <code>allocate(10)</code>, <code>writeMap(4, 128, 256)</code>. At this point, calling <code>readMap(4, 128)</code> returns 256. If we call <code>eraseMaps</code>, the length of state variable <code>array</code> is zeroed, but since its <code>mapping</code> elements cannot be zeroed, their information stays alive in the contract’s storage. After deleting <code>array</code>, calling <code>allocate(5)</code> allows us to access <code>array[4]</code> again, and calling <code>readMap(4, 128)</code> returns 256 even without another call to <code>writeMap</code>.</p>
<p>If your <code>mapping</code> information must be deleted, consider using a library similar to <a href="https://github.com/ethereum/dapp-bin/blob/master/library/iterable_mapping.sol">iterable mapping</a>, which allows you to traverse the keys and delete their values in the appropriate <code>mapping</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="permission-control-error"></a><a href="#permission-control-error" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Permission Control Error</h4>
<p>In smart contracts, contract developers usually set some permission for the contract owner, but if the developer negligently writes wrong function permissions, it may lead to serious consequences such as transfer of the owner.</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initContract</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> </span>{
    owner = msg.reader;
}
</code></pre>
<p>The above code function needs to be set onlyOwner.</p>
<p>Reasonable permissions should be set for different functions in the contract.</p>
<h4><a class="anchor" aria-hidden="true" id="address-initialization-problem"></a><a href="#address-initialization-problem" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Address Initialization Problem</h4>
<p>In EVM, all address-related initializations are given an initial value of 0.</p>
<p>If an address variable is equal to 0, the variable may not be initialized or an unknown error may occur.</p>
<p>If the developer initializes an address variable in the code but does not assign an initial value, or the user does not assign the address variable by mistake when initiating an operation, but this variable needs to be handled in the following code, it is possible Cause unnecessary security risks.</p>
<p>For functions that involve addresses, it is recommended to add require (_to! = Address (0)) verification to effectively avoid unnecessary losses caused by user misoperations or unknown errors.</p>
<h4><a class="anchor" aria-hidden="true" id="transaction-order-dependent"></a><a href="#transaction-order-dependent" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Transaction Order Dependent</h4>
<p>Since transactions are first stored in mempool in a short period of time, it is possible to know what action will take place before miners package them into blocks. This is troublesome for a decentralized market, because the transaction information of the token can be viewed, and the transaction order can be changed before it is packaged into a block. Avoiding this is difficult because it comes down to the specific contract itself.</p>
<p>For example, in the market, it is best to implement batch auctions (this also prevents high frequency trading issues). Another method is using a pre-commit scheme.</p>
<h4><a class="anchor" aria-hidden="true" id="minor-details"></a><a href="#minor-details" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Minor Details</h4>
<p>Types that do not occupy the full 32 bytes might contain “dirty higher order bits”. This is especially important if you access <code>msg.data</code> - it poses a malleability risk: You can craft transactions that call a function <code>f(uint8 x)</code> with a raw byte argument of <code>0xff000001</code> and with <code>0x00000001</code>. Both are fed to the contract and both will look like the number <code>1</code> as far as <code>x</code> is concerned, but <code>msg.data</code> will be different, so if you use <code>keccak256(msg.data)</code> for anything, you will get different results.</p>
<h3><a class="anchor" aria-hidden="true" id="security-recommendations"></a><a href="#security-recommendations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Security Recommendations</h3>
<h4><a class="anchor" aria-hidden="true" id="take-warnings-seriously"></a><a href="#take-warnings-seriously" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Take Warnings Seriously</h4>
<p>If the compiler warns you about something, you should better change it. Even if you do not think that this particular warning has security implications, there might be another issue buried beneath it. Any compiler warning we issue can be silenced by slight changes to the code.</p>
<p>Always use the latest version of the compiler to be notified about all recently introduced warnings.</p>
<h4><a class="anchor" aria-hidden="true" id="restrict-the-amount-of-ether"></a><a href="#restrict-the-amount-of-ether" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Restrict the Amount of Ether</h4>
<p>Restrict the amount of Ether (or other tokens) that can be stored in a smart contract. If your source code, the compiler or the platform has a bug, these funds may be lost. If you want to limit your loss, limit the amount of Ether.</p>
<h4><a class="anchor" aria-hidden="true" id="simple-and-modular"></a><a href="#simple-and-modular" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Simple and Modular</h4>
<p>Keep your contracts small and easily understandable. Single out unrelated functionality in other contracts or into libraries. General recommendations about source code quality of course apply: Limit the amount of local variables, the length of functions and so on. Document your functions so that others can see what your intention was and whether it is different than what the code does.</p>
<h4><a class="anchor" aria-hidden="true" id="use-the-checks-effects-interactions-pattern"></a><a href="#use-the-checks-effects-interactions-pattern" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use the Checks-Effects-Interactions Pattern</h4>
<p>Most functions will first perform some checks (who called the function, are the arguments in range, did they send enough Ether, does the person have tokens, etc.). These checks should be done first.</p>
<p>As the second step, if all checks passed, effects to the state variables of the current contract should be made. Interaction with other contracts should be the very last step in any function.</p>
<p>Early contracts delayed some effects and waited for external function calls to return in a non-error state. This is often a serious mistake because of the re-entrancy problem explained above.</p>
<p>Note that, also, calls to known contracts might in turn cause calls to unknown contracts, so it is probably better to just always apply this pattern.</p>
<h4><a class="anchor" aria-hidden="true" id="include-a-fail-safe-mode"></a><a href="#include-a-fail-safe-mode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Include a Fail-Safe Mode</h4>
<p>While making your system fully decentralised will remove any intermediary, it might be a good idea, especially for new code, to include some kind of fail-safe mechanism:</p>
<p>You can add a function in your smart contract that performs some self-checks like “Has any Ether leaked?”, “Is the sum of the tokens equal to the balance of the contract?” or similar things. Keep in mind that you cannot use too much gas for that, so help through off-chain computations might be needed there.</p>
<p>If the self-check fails, the contract automatically switches into some kind of “failsafe” mode, which, for example, disables most of the features, hands over control to a fixed and trusted third party or just converts the contract into a simple “give me back my money” contract.</p>
<h4><a class="anchor" aria-hidden="true" id="check-function-permissions-carefully"></a><a href="#check-function-permissions-carefully" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Check Function Permissions Carefully</h4>
<p>Reasonable permissions should be set for different functions in the contract.</p>
<p>Check whether the functions in the contract use public and private keywords for visibility modification. Check whether the contract is correctly defined and uses modifiers to restrict access to key functions to avoid problems caused by unauthorized use.</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initContract</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> <span class="hljs-title">OnlyOwner</span> </span>{
    owner = msg.reader;
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ask-for-peer-review"></a><a href="#ask-for-peer-review" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ask for Peer Review</h4>
<p>The more people examine a piece of code, the more issues are found. Asking people to review your code also helps as a cross-check to find out whether your code is easy to understand - a very important criterion for good smart contracts.</p>
<h4><a class="anchor" aria-hidden="true" id="other"></a><a href="#other" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other</h4>
<ol>
<li><a href="https://github.com/guylando/KnowledgeLists/blob/master/EthereumSmartContracts.md">More Security Recommendations </a></li>
<li><a href="https://consensys.github.io/smart-contract-best-practices/">Contract Best Practices</a></li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="security-tools"></a><a href="#security-tools" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Security Tools</h3>
<ol>
<li>Ethereum formal verification tool <a href="https://solidity.readthedocs.io/en/latest/layout-of-source-files.html#smt-checker">SMT checker</a> .</li>
<li>Formal verification tools: <a href="https://marketplace.visualstudio.com/items?itemName=Beosin.beosin-vaas-eth">offline VS Code plugin</a>，and <a href="https://beosin.com/vaas/index.html#/audit/ptsj">Online version</a> .</li>
<li>Remix integrated security scan plugin: <a href="https://docs.mythx.io/en/latest/">MythX</a>。</li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="third-party-audit"></a><a href="#third-party-audit" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Third Party Audit</h3>
<p>You can find a professional third-party audit company for security audits, such as：<a href="https://www.slowmist.com/en/service-smart-contract-security-audit.html">slow mist</a>。</p>
<hr>
<h2><a class="anchor" aria-hidden="true" id="faq"></a><a href="#faq" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>FAQ</h2>
<h3><a class="anchor" aria-hidden="true" id="about-compile"></a><a href="#about-compile" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>About Compile</h3>
<ol>
<li><p>How many commands in platon-truffle？</p>
<p>Refer to  platon-truffle develop guide <a href="https://platon-truffle.readthedocs.io/en/v0.11.1/">Reference here</a>.</p></li>
<li><p>Why contract syntax cannot be verified?</p>
<p>Solidity 0.4.x has a great different with 0.5.x, detail info refer to <a href="https://solidity.readthedocs.io/en/develop/">Reference here</a>.</p></li>
<li><p>Why truffle doesn't compile?</p>
<p>Confirm the contract version same as the version specified in the truffle-config.js.
Contract syntax be writed in a wrong way.</p></li>
<li><p>Why the contract can not be deployed by truffle migrate?</p>
<p>Confrim the blockchain network info be configured correctly.
Confirm the account address be configured correctly.</p></li>
<li><p>Deploying a contract with a parameter constructor using the command <code>truffle migrate</code> failed.</p>
<p>For example, A.sol</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">Constructor</span><span class="hljs-params">(uint256 a, <span class="hljs-keyword">string</span> memory b, <span class="hljs-keyword">string</span> memory c)</span> <span class="hljs-title">public</span> <span class="hljs-comment">{}</span>
</span></code></pre>
<p>2_initial_A.js configured as follow：</p>
<pre><code class="hljs"><span class="hljs-keyword">const</span> A = artifacts.require(<span class="hljs-string">"A"</span>);  
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">deployer</span>) </span>{
        deployer.deploy(A,<span class="hljs-number">100</span>,<span class="hljs-string">'PLA'</span>,<span class="hljs-string">'PLAT'</span>);<span class="hljs-comment">//pass the corresponding construction parameters</span>
};
</code></pre></li>
</ol>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/Command_Line_Tools"><span class="arrow-prev">← </span><span class="function-name-prevnext">PlatON Command line tools</span></a><a class="docs-next button" href="/docs/en/WASM_Smart_Contract"><span>WASM Smart Contract</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#development-manual">Development Manual</a><ul class="toc-headings"><li><a href="#introduction">Introduction</a></li><li><a href="#platon-truffle-introduction">Platon-truffle Introduction</a></li><li><a href="#create-helloworld-contract">Create HelloWorld Contract</a></li><li><a href="#compile-helloworld-contract">Compile HelloWorld Contract</a></li><li><a href="#deploly-helloworld-contract">Deploly HelloWorld Contract</a></li><li><a href="#call-helloworld-contract">Call HelloWorld Contract</a></li></ul></li><li><a href="#migrate-contract">Migrate Contract</a><ul class="toc-headings"><li><a href="#introduction-1">Introduction</a></li><li><a href="#operation-procedure">Operation Procedure</a></li></ul></li><li><a href="#crowdfunding-contract">Crowdfunding Contract</a><ul class="toc-headings"><li><a href="#introduction-2">Introduction</a></li><li><a href="#crowdfunding-process">Crowdfunding Process</a></li><li><a href="#crowdfunding-contract-1">Crowdfunding Contract</a></li></ul></li><li><a href="#development-costs">Development Costs</a><ul class="toc-headings"><li><a href="#introduction-3">Introduction</a></li><li><a href="#summary">Summary</a></li><li><a href="#small-sized-contract">Small-sized Contract</a></li><li><a href="#medium-sized-contract">Medium-sized Contract</a></li><li><a href="#large-sized-contract">Large-sized Contract</a></li></ul></li><li><a href="#best-practice">Best Practice</a><ul class="toc-headings"><li><a href="#introduction-4">Introduction</a></li><li><a href="#reasonable-cost-setting">Reasonable Cost Setting</a></li><li><a href="#avoid-timeouts">Avoid Timeouts</a></li><li><a href="#punishment-for-illegal-operations">Punishment For Illegal Operations</a></li><li><a href="#coding-standards">Coding Standards</a></li></ul></li><li><a href="#contract-security-development-guide">Contract Security Development Guide</a><ul class="toc-headings"><li><a href="#compiler-bug">Compiler Bug</a></li><li><a href="#standard-contract-development-process">Standard Contract Development Process</a></li><li><a href="#common-pitfalls">Common Pitfalls</a></li><li><a href="#security-recommendations">Security Recommendations</a></li><li><a href="#security-tools">Security Tools</a></li><li><a href="#third-party-audit">Third Party Audit</a></li></ul></li><li><a href="#faq">FAQ</a><ul class="toc-headings"><li><a href="#about-compile">About Compile</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.platon.network/en" class="nav-home"><img src="/docs/img/PlatON-logo2.svg" alt="PlatON" width="66" height="58"/></a><div><a href="https://www.platon.network/en">PlatON network</a><a href="https://latticex.foundation/home">Lattice.Foundation</a><a href="https://forum.latticex.foundation/">Forum</a></div><div class="gitstar"><a class="github-button" href="https://github.com/PlatONnetwork/PlatON-Go" data-color-scheme="no-preference: light; light: light; dark: light;" data-icon="octicon-star" data-size="small" data-show-count="true" aria-label="Star PlatONnetwork/PlatON-Go on GitHub">Star</a></div></section><section class="copyright">COPYRIGHT  © 2021 PLATON NETWORK.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c2ce4863993980eb049b661be250c773',
                indexName: 'platon',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":10}
              });
            </script></body></html>