<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>WASM Smart Contract · PlatON</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="WebAssembly (wasm for short) is a binary instruction set designed for stacked virtual machines. Wasm was designed to be a compile target for platforms such as C / C ++ / Rust, and was originally designed to solve JavaScript performance issues. Wasm is a web standard being led by the W3C and supported by browser vendors such as Google, Microsoft, and Mozilla."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="WASM Smart Contract · PlatON"/><meta property="og:type" content="website"/><meta property="og:url" content="https://luo-dahui.github.io//docs/"/><meta property="og:description" content="WebAssembly (wasm for short) is a binary instruction set designed for stacked virtual machines. Wasm was designed to be a compile target for platforms such as C / C ++ / Rust, and was originally designed to solve JavaScript performance issues. Wasm is a web standard being led by the W3C and supported by browser vendors such as Google, Microsoft, and Mozilla."/><meta property="og:image" content="https://luo-dahui.github.io//docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://luo-dahui.github.io//docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/docs/img/logo.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@8.4.0/dist/mermaid.min.js"></script><script type="text/javascript" src="/docs/js/custom.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="https://www.platon.network/?lang=en"><img class="logo" src="/docs/img/PlatON-logo.svg" alt="PlatON"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/zh-CN/WASM_Smart_Contract">中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Smart Contracts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON Developer Docs<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/">PlatON Developer Docs</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON Basis<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Overall_Solution">PlatON Overall Solution</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Economic_Model">PlatON Economic Model</a></li><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Solution">PlatON Consensus Solution</a></li><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Governance_Solution">PlatON Governance Solution</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Secure_Multi_Party_Computation">Secure Multi Party Computation</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Verifiable_Computation">Verifiable Computation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON Node<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Validation_Introduce">Introduction to the PlatON validation node</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Network_Description">Network Description</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">My Example Subcategory</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/Become_PlatON_Main_Verification">Become the main network verification node</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Become_PlatON_Dev_Verification">Become the development network verification node</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Node Tools<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/OnLine_MTool_Manual">OnLine PlatON MTool Tutorials</a></li><li class="navListItem"><a class="navItem" href="/docs/en/OffLine_MTool_Manual">OffLine PlatON MTool Manual</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Command_Line_Tools">PlatON Command line tools</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Smart Contracts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/EVM_Smart_Contract">EVM Smart Contract</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/WASM_Smart_Contract">WASM Smart Contract</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API Reference<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/Python_SDK">Python SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Java_SDK">Java SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/en/JS_SDK">JS SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Json_Rpc">JSON RPC</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Data And Analytics<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_BlockChain_Browser">区块链浏览器介绍</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Wallet<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/ATON-user-manual">ATON Wallet User Manual</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Community Projects<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/community">Community Projects</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">WASM Smart Contract</h1></header><article><div><span><p>WebAssembly (wasm for short) is a binary instruction set designed for stacked virtual machines. Wasm was designed to be a compile target for platforms such as C / C ++ / Rust, and was originally designed to solve JavaScript performance issues. Wasm is a web standard being led by the W3C and supported by browser vendors such as Google, Microsoft, and Mozilla.</p>
<p>This tutorial is mainly to guide users to create a WASM smart contract using wasm language on PlatON.</p>
<p>It is mainly explained from the following aspects：</p>
<ul>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#development-costs">Development Costs</a></li>
<li><a href="#best-practice">Best Practice</a></li>
<li><a href="#api">API</a></li>
<li><a href="#faq">FAQ</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="getting-started"></a><a href="#getting-started" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting Started</h2>
<h3><a class="anchor" aria-hidden="true" id="introduction"></a><a href="#introduction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h3>
<p>This tutorial is mainly to guide users to create a simple HelloWorld smart contract using wasm language on PlatON, compile, deploy, and call this contract through platon-truffle.If you want to use a richer API.</p>
<h3><a class="anchor" aria-hidden="true" id="platon-truffle-introduction"></a><a href="#platon-truffle-introduction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Platon-truffle Introduction</h3>
<p>Platon-truffle is a tool provided by PlatON that can compile, deploy, and invoke smart contracts locally. For specific installation and usage manuals, refer to:</p>
<ul>
<li>Platon-truffle develop tools<a href="https://platon-truffle.readthedocs.io/en/v0.13.1/getting-started/installation.html">specific installation</a></li>
<li>Platon-truffle develop tools<a href="https://platon-truffle.readthedocs.io/en/v0.13.1/">usage manuals</a></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="create-helloworld-contract"></a><a href="#create-helloworld-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create HelloWorld Contract</h3>
<pre><code class="hljs css language-c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;platon/platon.hpp&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> platon;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">message</span> {</span>
   <span class="hljs-keyword">public</span>:
      <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> head;
      PLATON_SERIALIZE(message, (head))
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">my_message</span> :</span> <span class="hljs-keyword">public</span> message {
   <span class="hljs-keyword">public</span>:
      <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> body;
      <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-built_in">end</span>;
      PLATON_SERIALIZE_DERIVED(my_message, message, (body)(<span class="hljs-built_in">end</span>))
};

CONTRACT HelloWorld : <span class="hljs-keyword">public</span> platon::Contract{
   <span class="hljs-keyword">public</span>:
      <span class="hljs-function">ACTION <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">const</span> my_message &amp;one_message)</span></span>{
        info.self().push_back(one_message);
      }

      <span class="hljs-function">ACTION <span class="hljs-keyword">void</span> <span class="hljs-title">add_message</span><span class="hljs-params">(<span class="hljs-keyword">const</span> my_message &amp;one_message)</span></span>{
          info.self().push_back(one_message);
      }

      <span class="hljs-function">CONST <span class="hljs-keyword">uint8_t</span> <span class="hljs-title">get_message_size</span><span class="hljs-params">()</span></span>{
          <span class="hljs-keyword">return</span> info.self().<span class="hljs-built_in">size</span>();
      }

      <span class="hljs-function">CONST <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">get_message_body</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> index)</span></span>{
          <span class="hljs-keyword">return</span> info.self()[index].body;
      }

   <span class="hljs-keyword">private</span>:
      platon::StorageType&lt;<span class="hljs-string">"myvector"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;my_message&gt;&gt; info;
};

PLATON_DISPATCH(HelloWorld, (init)(add_message)(get_message_size)(get_message_body))

</code></pre>
<p>Contract Files Description:</p>
<ul>
<li><p>Each contract file has only one contract class. The contract class is decorated with Contract. It must be publicly inherited from platon :: Contract and must have an init function.</p></li>
<li><p>ACTION and CONST qualified member functions represent callable functions, and such member functions cannot be overloaded. The ACTION function will modify the data on the chain. The CONST function just queries the attributes and does not modify the data on the chain.</p></li>
<li><p>The type in the callable function parameter list is a custom type. In this type definition, you need to add the PLATON_SERIALIZE macro to declare the serialization function. This type inherits from other types. You need to add the PLATON_SERIALIZE_DERIVED macro to declare the serialization function.</p></li>
<li><p>Callable functions can only be called externally if the unified entry function is defined in the PLATON_DISPATCH macro.</p></li>
<li><p>At present, platon will persistently store member variables of the contract class. The member variables must be of type platon :: StorageType. The first parameter string of the platon :: StorageType template is followed by _n, and the string must be .12345abcdefghijklmnopqrstuvwxyz. 32 characters Characters. The second parameter is the concrete type of the actual storage. Member function modification member variables need to obtain an instance of a specific type through the self () function, and then execute the corresponding instance function.</p></li>
<li><p>The second parameter type of the platon :: StorageType template is a custom type. A PLATON_SERIALIZE macro must be added to this type definition to declare a serialization function. This type inherits from other types. A PLATON_SERIALIZE_DERIVED macro must be added to declare a serialization function.</p></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="compile-helloworld-contract"></a><a href="#compile-helloworld-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compile HelloWorld Contract</h3>
<p><strong>Step1.</strong> Creat new directory for HelloWorld project</p>
<pre><code class="hljs"><span class="hljs-built_in">mkdir</span> HelloWorld &amp;&amp; <span class="hljs-built_in">cd</span> HelloWorld
</code></pre>
<ul>
<li>The following commands are performed in the HelloWorld directory without special instructions</li>
</ul>
<p><strong>Step2.</strong>  Init project</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle init</span>
</code></pre>
<p>After the command is executed, project directory structure is as follows:</p>
<ul>
<li><p><code>contracts/</code> wasm contract directory</p></li>
<li><p><code>migrations/</code> depoly file directory</p></li>
<li><p><code>test/</code> test script directory</p></li>
<li><p><code>truffle-config.js</code> platon-truffle config</p></li>
</ul>
<p><strong>Step3.</strong> Move HelloWorld contract compiled in to HelloWorld/contracts/</p>
<pre><code class="hljs"><span class="hljs-keyword">ls</span> contracts/
</code></pre>
<ul>
<li>HelloWorld.cpp</li>
</ul>
<p><strong>Step4.</strong> Modify the platon-truffle configuration file truffle-config.js and add the compiled wasm contract version number</p>
<pre><code class="hljs">vim truffle-<span class="hljs-built_in">config</span>.<span class="hljs-keyword">js
</span></code></pre>
<p>Truffle-config.js content is  as follows:</p>
<pre><code class="hljs"><span class="hljs-selector-tag">compilers</span>: {
     <span class="hljs-attribute">wasm</span>: {
           version: <span class="hljs-string">"1.0.0"</span>
     }
}
</code></pre>
<p><strong>Step5.</strong>  Compile contract</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle compile</span>
</code></pre>
<p>After the command is executed, project directory structure is as follows:</p>
<ul>
<li><code>build/</code> wasm contract directory after compiled</li>
<li><code>build/contracts/HelloWorld.abi.json</code>  HelloWorld contract compiled abi interface file</li>
<li><code>build/contracts/HelloWorld.wasm</code>  HelloWorld contract compiled binary</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="deploly-helloworld-contract"></a><a href="#deploly-helloworld-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deploly HelloWorld Contract</h3>
<p><strong>Step1.</strong> Setting config  information for blockchain in truffle-config.js</p>
<pre><code class="hljs">vim truffle-<span class="hljs-built_in">config</span>.<span class="hljs-keyword">js
</span></code></pre>
<p>Set blockchain network  info</p>
<pre><code class="hljs"><span class="hljs-symbol">networks:</span> {
<span class="hljs-symbol">    development:</span> {
<span class="hljs-symbol">       host:</span> <span class="hljs-string">"10.1.1.6"</span>,     <span class="hljs-comment">// blockchain server address</span>
<span class="hljs-symbol">       port:</span> <span class="hljs-number">8806</span>,            <span class="hljs-comment">// server port</span>
<span class="hljs-symbol">       network_id:</span> <span class="hljs-string">"*"</span>,       <span class="hljs-comment">// Any network (default: none)</span>
<span class="hljs-symbol">       from:</span> <span class="hljs-string">"lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl"</span>,
<span class="hljs-symbol">       gas:</span> <span class="hljs-number">999999</span>,
<span class="hljs-symbol">       gasPrice:</span> <span class="hljs-number">1000000000</span>,
    },
}
</code></pre>
<p><strong>step2.</strong>  Unlock wallet account</p>
<p>Enter the platon-truffle console</p>
<pre><code class="hljs">platon-truffle<span class="hljs-built_in"> console
</span></code></pre>
<p>Import the private key (you can skip this step if you have already imported it)</p>
<pre><code class="hljs"><span class="hljs-selector-tag">web3</span><span class="hljs-selector-class">.platon</span><span class="hljs-selector-class">.personal</span><span class="hljs-selector-class">.importRawKey</span>("<span class="hljs-selector-tag">Your</span> <span class="hljs-selector-tag">wallet</span> <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">key</span>","<span class="hljs-selector-tag">Your</span> <span class="hljs-selector-tag">wallet</span> <span class="hljs-selector-tag">password</span>");
</code></pre>
<p>Successful import will see the address corresponding to the private key as follows：</p>
<pre><code class="hljs"><span class="hljs-symbol">'lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl</span>'
</code></pre>
<p>Unlock wallet account</p>
<pre><code class="hljs"> web3.platon.personal.unlock<span class="hljs-constructor">Account('Your <span class="hljs-params">wallet</span> <span class="hljs-params">address</span>','Your <span class="hljs-params">wallet</span> <span class="hljs-params">password</span>',999999)</span>;
</code></pre>
<p>After unlocking successfully, you will see the following information：</p>
<pre><code class="hljs"><span class="hljs-attribute">ture</span>
</code></pre>
<p><strong>Step3.</strong> Deploy contract</p>
<pre><code class="hljs">platon-truffle <span class="hljs-keyword">deploy</span> <span class="hljs-params">--wasm</span> <span class="hljs-params">--contract-name</span> HelloWorld <span class="hljs-params">--params</span> '[[[<span class="hljs-string">"1"</span>], <span class="hljs-string">"2"</span>, <span class="hljs-string">"3"</span>]]'
</code></pre>
<ul>
<li><code>HelloWorld</code> deployed contract</li>
<li><code>params</code> parameters of contract init function</li>
</ul>
<p>If deploying successfully，you will see log info as follows:</p>
<pre><code class="hljs">receipt:  { blockHash:
   '0x<span class="hljs-number">266733</span>b693ba<span class="hljs-number">650315</span>a59c34e<span class="hljs-number">7280</span>4c06ca3e27fab<span class="hljs-number">14562579</span>7bd<span class="hljs-number">4225</span>9b572c5',
  blockNumber: <span class="hljs-number">70441</span>,
  contractAddress: 'lax1p<span class="hljs-number">0698</span>y95s6ysfphxavl36hywppq0mz6ks673np',
  cumulativeGasUsed: <span class="hljs-number">291314</span>,
  from: 'lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl',
  gasUsed: <span class="hljs-number">291314</span>,
  logs: [],
  logsBloom:
   '0x<span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000</span>',
  status: true,
  to: <span class="hljs-literal">null</span>,
  transactionHash:
   '0x<span class="hljs-number">6094</span>6ebf0ccddc76a<span class="hljs-number">0234353435</span>de73e<span class="hljs-number">7901888227</span>fb2f<span class="hljs-number">0392</span>2fb0ce265a4e9d',
  transactionIndex: <span class="hljs-number">0</span> }
  contract HelloWorld deployed successfully
======================

   &gt; transactionHash:     <span class="hljs-number">0</span>x60946ebf0ccddc76a0234353435de73e7901888227fb2f03922fb0ce265a4e9d
   &gt; contract address:    lax1p0698y95s6ysfphxavl36hywppq0mz6ks673np
   &gt; block number:        <span class="hljs-number">70441</span>
   &gt; block timestamp:     <span class="hljs-number">1583247148341</span>
   &gt; account:             lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl
   &gt; balance:             <span class="hljs-number">3533694129556768659166595001485837031654967793751237866225582808584074296</span>
   &gt; gas limit:           <span class="hljs-number">100000000</span>
   &gt; gas used:            <span class="hljs-number">291314</span>
   &gt; gas price:           <span class="hljs-number">0.000000050000000004</span> LAT
   &gt; total cost:          <span class="hljs-number">0.014565700001165256</span> LAT
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="call-helloworld-contract"></a><a href="#call-helloworld-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Call HelloWorld Contract</h3>
<p><strong>Step1.</strong>  Enter the platon-truffle console</p>
<pre><code class="hljs">platon-truffle<span class="hljs-built_in"> console
</span></code></pre>
<ul>
<li>You can execute command in platon-truffle console</li>
</ul>
<p><strong>Step2.</strong>  Create contract object</p>
<pre><code class="hljs css language-json">var abi = [{"baseclass":[],"fields":[{"name":"head","type":"string"}],"name":"message","type":"struct"},{"baseclass":["message"],"fields":[{"name":"body","type":"string"},{"name":"end","type":"string"}],"name":"my_message","type":"struct"},{"constant":false,"input":[{"name":"one_message","type":"my_message"}],"name":"init","output":"void","type":"Action"},{"constant":false,"input":[{"name":"one_message","type":"my_message"}],"name":"add_message","output":"void","type":"Action"},{"constant":true,"input":[],"name":"get_message_size","output":"uint8","type":"Action"},{"constant":true,"input":[{"name":"index","type":"uint8"}],"name":"get_message_body","output":"string","type":"Action"}];
var contractAddr = 'lax1p0698y95s6ysfphxavl36hywppq0mz6ks673np';

var helloworld = new web3.platon.Contract(abi,contractAddr,{vmType: 1 }); 
</code></pre>
<p>Description：</p>
<ul>
<li><code>abi</code>  the interface provided by the contract to external calls，the abi  in the file compiled ：<code>HelloWorld/build/contracts/HelloWorld.json</code></li>
<li><code>contractAddr</code> contract address</li>
<li><code>helloWorld</code> contract object created</li>
</ul>
<p><strong>Step3.</strong>  Call contract</p>
<pre><code class="hljs css language-javascript">helloworld.methods.add_message(<span class="hljs-string">'[[["5"], "6", "7"]]'</span>).send({
    <span class="hljs-attr">from</span>: <span class="hljs-string">'lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl'</span>,<span class="hljs-attr">gas</span>: <span class="hljs-number">999999</span>
}).on(<span class="hljs-string">'receipt'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">receipt</span>) </span>{
    <span class="hljs-built_in">console</span>.log(receipt);
}).on(<span class="hljs-string">'error'</span>, <span class="hljs-built_in">console</span>.error);
</code></pre>
<p>Description：</p>
<ul>
<li><code>helloWorld</code> the contract object created</li>
<li><code>methods</code> specify the call method</li>
<li><code>add_message</code>  method in the HelloWorld contract with a custom my_message input</li>
<li><code>from</code> caller's wallet address</li>
<li><code>on</code> listen to the result of the contract method executed. If failed, it will print the error info. If succeeded, the console will print the receipt as belows:</li>
</ul>
<pre><code class="hljs">{ blockHash:
   '0x669c7b8cb938cc<span class="hljs-number">3084</span>5e08dc4ceda08f2e<span class="hljs-number">1720</span>7c267ade97dc<span class="hljs-number">5458</span>b<span class="hljs-number">44540573</span>6',
  blockNumber: <span class="hljs-number">74665</span>,
  contractAddress: <span class="hljs-literal">null</span>,
  cumulativeGasUsed: <span class="hljs-number">108549</span>,
  from: 'lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl',
  gasUsed: <span class="hljs-number">108549</span>,
  logsBloom:
   '0x<span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000</span>',
  status: true,
  to: 'lax1p<span class="hljs-number">0698</span>y95s6ysfphxavl36hywppq0mz6ks673np',
  transactionHash:
   '0x2b5e590df7e70ad428b1ccb06bda5dcce47f84c4d981c2fb475aca9ec9d<span class="hljs-number">0000</span>a',
  transactionIndex: <span class="hljs-number">0</span>,
  events: {} }
{ blockHash:
   '0x669c7b8cb938cc<span class="hljs-number">3084</span>5e08dc4ceda08f2e<span class="hljs-number">1720</span>7c267ade97dc<span class="hljs-number">5458</span>b<span class="hljs-number">44540573</span>6',
  blockNumber: <span class="hljs-number">74665</span>,
  contractAddress: <span class="hljs-literal">null</span>,
  cumulativeGasUsed: <span class="hljs-number">108549</span>,
  from: 'lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl',
  gasUsed: <span class="hljs-number">108549</span>,
  logsBloom:
   '0x<span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000000000</span><span class="hljs-number">00000000</span>',
  status: true,
  to: 'lax1p<span class="hljs-number">0698</span>y95s6ysfphxavl36hywppq0mz6ks673np',
  transactionHash:
   '0x2b5e590df7e70ad428b1ccb06bda5dcce47f84c4d981c2fb475aca9ec9d<span class="hljs-number">0000</span>a',
  transactionIndex: <span class="hljs-number">0</span>,
  events: {} }
</code></pre>
<p><strong>Step4.</strong>  Query contract</p>
<pre><code class="hljs css language-javascript">helloworld.methods.get_message_body(<span class="hljs-number">0</span>).call()
</code></pre>
<p>Description：</p>
<ul>
<li><code>helloWorld</code> the contract object created</li>
<li><code>methods</code> specify the call method</li>
<li><code>get_message_body</code> method in the HelloWorld contract, which has an input parameter of type int</li>
<li><code>call</code> specify the query method</li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="development-costs"></a><a href="#development-costs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Development Costs</h2>
<h3><a class="anchor" aria-hidden="true" id="summary"></a><a href="#summary" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Summary</h3>
<p>In a blockchain system, developing smart contracts based on any public chain system involves the development cost of resource expenditure. For example, deploying/calling smart contracts on the network, energy transfer, pledge/delegation and other operations all require a certain cost. Different blockchain network development costs are different. There are two types of virtual machines running in the PlatON network. <code>EVM</code> and <code>WASM</code>, the cost of developing smart contracts on different virtual machines is also different. This article will compare the different development costs of small contracts, medium contracts and large contracts in the form of a table. At the same time, we will compare the <code>EVM</code>/<code>WASM</code> virtual machine of <code>PlatON</code> with the Ethereum virtual machine. In terms of contracts, a simple <code>SET/GET</code> function contract is used as a small test contract. The medium-sized contract example will use an open source <a href="https://github.com/yep/eth-tweet">Tweet</a> contract The large contract is a smart contract that implements the <code>ERC20</code> standard.</p>
<h4><a class="anchor" aria-hidden="true" id="data-overview"></a><a href="#data-overview" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data Overview</h4>
<p><strong>Simple Storage Contract</strong></p>
<table>
<thead>
<tr><th style="text-align:left">Platform</th><th style="text-align:left">Contract Level</th><th style="text-align:left">Size</th><th style="text-align:left">GasUsed</th><th style="text-align:left">GasPrice</th><th style="text-align:left">Amount</th><th style="text-align:left">Remark</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">PlatON-EVM</td><td style="text-align:left">Small-sized</td><td style="text-align:left">0.3 kb</td><td style="text-align:left">76953</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">384765 <code>gVON</code></td><td style="text-align:left">0.000384765 <code>LAT</code></td></tr>
<tr><td style="text-align:left">Ethereum</td><td style="text-align:left">Small-sized</td><td style="text-align:left">0.3 kb</td><td style="text-align:left">127173</td><td style="text-align:left">5,000,000,000 <code>wei</code></td><td style="text-align:left">635865 <code>Gwei</code></td><td style="text-align:left">0.000635865 <code>ETH</code></td></tr>
<tr><td style="text-align:left">PlatON-WASM</td><td style="text-align:left">Small-sized</td><td style="text-align:left">13.55 kb</td><td style="text-align:left">184043</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">920215 <code>gVON</code></td><td style="text-align:left">0.000920215 <code>LAT</code></td></tr>
</tbody>
</table>
<p><strong>eth-tweet Contract</strong></p>
<table>
<thead>
<tr><th style="text-align:left">Platform</th><th style="text-align:left">Contract Level</th><th style="text-align:left">Size</th><th style="text-align:left">GasUsed</th><th style="text-align:left">GasPrice</th><th style="text-align:left">Amount</th><th style="text-align:left">Remark</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">PlatON-EVM</td><td style="text-align:left">Medium-sized</td><td style="text-align:left">2.08 kb</td><td style="text-align:left">257065</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">1285325 <code>gVON</code></td><td style="text-align:left">0.001285325 <code>LAT</code></td></tr>
<tr><td style="text-align:left">Ethereum</td><td style="text-align:left">Medium-sized</td><td style="text-align:left">2.08 kb</td><td style="text-align:left">621385</td><td style="text-align:left">5,000,000,000 <code>wei</code></td><td style="text-align:left">3106925 <code>Gwei</code></td><td style="text-align:left">0.003106925 <code>ETH</code></td></tr>
<tr><td style="text-align:left">PlatON-WASM</td><td style="text-align:left">Medium-sized</td><td style="text-align:left">30.07 kb</td><td style="text-align:left">349713</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">1748565 <code>gVON</code></td><td style="text-align:left">0.001748565 <code>LAT</code></td></tr>
</tbody>
</table>
<p><strong>ERC20 Token Contract</strong></p>
<table>
<thead>
<tr><th style="text-align:left">Platform</th><th style="text-align:left">Contract Level</th><th style="text-align:left">Size</th><th style="text-align:left">GasUsed</th><th style="text-align:left">GasPrice</th><th style="text-align:left">Amount</th><th style="text-align:left">Remark</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">PlatON-EVM</td><td style="text-align:left">Large-sized</td><td style="text-align:left">4.45 kb</td><td style="text-align:left">552823</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">2764115  <code>gVON</code></td><td style="text-align:left">0.002764115 <code>LAT</code></td></tr>
<tr><td style="text-align:left">Ethereum</td><td style="text-align:left">Large-sized</td><td style="text-align:left">4.45 kb</td><td style="text-align:left">1282171</td><td style="text-align:left">5,000,000,000 <code>wei</code></td><td style="text-align:left">6410855  <code>Gwei</code></td><td style="text-align:left">0.006410855 <code>ETH</code></td></tr>
<tr><td style="text-align:left">PlatON-WASM</td><td style="text-align:left">Large-sized</td><td style="text-align:left">35.9 kb</td><td style="text-align:left">486274</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">2431370  <code>gVON</code></td><td style="text-align:left">0.00243137 <code>LAT</code></td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="small-sized-contract"></a><a href="#small-sized-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Small-sized Contract</h3>
<h4><a class="anchor" aria-hidden="true" id="simple-storage-contract"></a><a href="#simple-storage-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Simple Storage Contract</h4>
<p><strong>EVM Sample Code</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">pragma</span> solidity ^<span class="hljs-number">0.4</span><span class="hljs-number">.12</span>;

contract SimpleTest {
    
    <span class="hljs-built_in">uint</span> <span class="hljs-keyword">public</span> age;
 
    <span class="hljs-built_in">function</span> setAge(<span class="hljs-built_in">uint</span> _input) <span class="hljs-keyword">public</span> {
        age = _input;
    }
 
    <span class="hljs-built_in">function</span> getAge() <span class="hljs-keyword">public</span> constant returns (<span class="hljs-built_in">uint</span>) {
        <span class="hljs-keyword">return</span> age;
    }
}
</code></pre>
<p>ByteCode</p>
<pre><code class="hljs"><span class="hljs-number">608060405234801561001057600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">50610117806100206000396000</span>f<span class="hljs-number">3006080604052600436106053576000357</span><span class="hljs-keyword">c</span><span class="hljs-number">0100000000000000000000000000000000000000000000000000000000900463</span>ffffffff<span class="hljs-number">168063262</span>a<span class="hljs-number">9</span>dff<span class="hljs-number">146058578063967e6</span>e<span class="hljs-number">65146080578063</span>d<span class="hljs-number">5</span>dcf<span class="hljs-number">1271460</span>a<span class="hljs-number">8575</span>b<span class="hljs-number">600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">348015606357600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">50606</span>a<span class="hljs-number">60</span>d<span class="hljs-number">2565</span>b<span class="hljs-number">6040518082815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">348015608</span>b<span class="hljs-number">57600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">50609260</span>d<span class="hljs-number">8565</span>b<span class="hljs-number">6040518082815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">34801560</span>b<span class="hljs-number">357600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">5060</span>d<span class="hljs-number">06004803603810190808035906020019092919050505060e1565</span>b<span class="hljs-number">005</span>b<span class="hljs-number">60005481565</span>b<span class="hljs-number">60008054905090565</span>b<span class="hljs-number">80600081905550505600</span>a<span class="hljs-number">165627</span>a<span class="hljs-number">7</span>a<span class="hljs-number">7230582079e51340567895</span>e<span class="hljs-number">1097e1</span><span class="hljs-keyword">c</span><span class="hljs-number">9115e778</span><span class="hljs-keyword">c</span><span class="hljs-number">3</span>d<span class="hljs-number">982</span>b<span class="hljs-number">8e71</span>b<span class="hljs-number">6997</span><span class="hljs-keyword">c</span><span class="hljs-number">57</span>f<span class="hljs-number">1</span>ba<span class="hljs-number">497</span><span class="hljs-keyword">c</span><span class="hljs-number">56</span><span class="hljs-keyword">c</span><span class="hljs-number">8</span>b<span class="hljs-number">3</span>b<span class="hljs-number">0029</span>
</code></pre>
<p>ByteSize：<code>311 byte =&gt; 0.3 kb</code></p>
<hr>
<p><strong>WASM Sample Code</strong></p>
<pre><code class="hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;platon/platon.hpp&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> platon;

CONTRACT SimpleStorage: <span class="hljs-keyword">public</span> platon::Contract
{
    <span class="hljs-keyword">public</span>:
        <span class="hljs-function">ACTION <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span>{}
    
        <span class="hljs-function">ACTION <span class="hljs-keyword">void</span> <span class="hljs-title">set</span><span class="hljs-params">(<span class="hljs-keyword">uint64_t</span> input)</span>
        </span>{
            storedData.self() = input;      
        }
        
        <span class="hljs-function">CONST <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">get</span><span class="hljs-params">()</span>
        </span>{
            <span class="hljs-keyword">return</span> storedData.self();
        }

    <span class="hljs-keyword">private</span>:
        platon::StorageType&lt;<span class="hljs-string">"sstored"</span>_n, <span class="hljs-keyword">uint64_t</span>&gt; storedData;
};

PLATON_DISPATCH(SimpleStorage,(init)(<span class="hljs-built_in">set</span>)(<span class="hljs-built_in">get</span>))
</code></pre>
<p>ByteCode</p>
<p><a href="https://github.com/PlatONnetwork/Docs/blob/master/zh-cn/Development/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/SimpleStorage_wasm.bin">Click to view bincode</a></p>
<p>ByteSize: <code>13882 byte =&gt; 13.55 kb</code></p>
<hr>
<h6><a class="anchor" aria-hidden="true" id="cost"></a><a href="#cost" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cost</h6>
<p>PlatON-EVM</p>
<ul>
<li>GasUsed: 76953</li>
<li>GasPrice: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>Costs:  384765 <code>gVON</code>（0.000384765 <code>LAT</code>）</li>
</ul>
<p>Ethereum</p>
<ul>
<li>GasUsed: 127173</li>
<li>GasPrice: 5,000,000,000 (5 <code>Gwei</code>)</li>
<li>Costs:  635865 <code>Gwei</code>（0.000635865 <code>ETH</code>）</li>
</ul>
<p>PlatON-WASM</p>
<ul>
<li>GasUsed: 184043</li>
<li>GasPrice: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>Costs:  920215 <code>gVON</code>（0.000920215 <code>LAT</code>）</li>
</ul>
<hr>
<h3><a class="anchor" aria-hidden="true" id="medium-sized-contract"></a><a href="#medium-sized-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Medium-sized Contract</h3>
<h4><a class="anchor" aria-hidden="true" id="eth-tweet"></a><a href="#eth-tweet" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Eth-Tweet</h4>
<p><strong>EVM Sample Code</strong></p>
<p><a href="https://github.com/PlatONnetwork/Docs/blob/master/zh-cn/Development/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/account.sol">Click to view code</a></p>
<p>ByteCode</p>
<p><a href="https://github.com/PlatONnetwork/Docs/blob/master/zh-cn/Development/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/Tweet_evm.bin">Click to view bincode</a></p>
<p>ByteSize: <code>2130.5 byte =&gt; 2.08 kb</code></p>
<hr>
<p><strong>WASM Sample Code</strong></p>
<pre><code class="hljs">#<span class="hljs-keyword">include</span> &lt;platon/platon.hpp&gt;
#<span class="hljs-keyword">include</span> &lt;<span class="hljs-built_in">string</span>&gt;
using namespace platon;

<span class="hljs-comment">// data structure of a single tweet.</span>
<span class="hljs-keyword">struct</span> Tweet{

    public:
        uint64_t timestamp;
        std::<span class="hljs-built_in">string</span> tweetString;

    public:
        <span class="hljs-constructor">Tweet()</span>{}
        <span class="hljs-constructor">Tweet(<span class="hljs-params">uint64_t</span> &amp;<span class="hljs-params">timestamp</span>, <span class="hljs-params">const</span> <span class="hljs-params">std</span>::<span class="hljs-params">string</span> &amp;<span class="hljs-params">tweet</span>)</span>:timestamp(timestamp), tweet<span class="hljs-constructor">String(<span class="hljs-params">tweet</span>)</span> {
        }

    public:
        <span class="hljs-constructor">PLATON_SERIALIZE(Tweet, (<span class="hljs-params">timestamp</span>)</span>(tweetString))
};

CONTRACT TweetAccount: public platon::Contract
{
    <span class="hljs-keyword">private</span>:
        <span class="hljs-comment">// "array" of all tweets of this account: maps the tweet id to the actual tweet.</span>
        platon::StorageType&lt;<span class="hljs-string">"smapping"</span>_n, std::map&lt;std::uint64_t, Tweet&gt;&gt; _tweets;
        <span class="hljs-comment">// total number of tweets in the above _tweets mapping.</span>
        platon::StorageType&lt;<span class="hljs-string">"suint"</span>_n, uint64_t&gt; _numberOfTweets;
        <span class="hljs-comment">// "owner" of this account: only admin is allowed to tweet.</span>
        platon::StorageType&lt;<span class="hljs-string">"saddress"</span>_n, Address&gt; _adminAddress;
    
    public:
        ACTION void init<span class="hljs-literal">()</span>
        {
            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_numberOfTweets</span>.</span></span>self<span class="hljs-literal">()</span> = <span class="hljs-number">0</span>;
            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_adminAddress</span>.</span></span>self<span class="hljs-literal">()</span> = platon::platon<span class="hljs-constructor">_caller()</span>;
        }
        
        <span class="hljs-comment">// returns true if caller of function("sender") is admin.</span>
        CONST <span class="hljs-built_in">bool</span> is<span class="hljs-constructor">Admin()</span>{
            return platon::platon<span class="hljs-constructor">_caller()</span><span class="hljs-operator"> == </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_adminAddress</span>.</span></span>self<span class="hljs-literal">()</span>;     
        }
    
        <span class="hljs-comment">// create new tweet</span>
        ACTION int64_t tweet(const std::<span class="hljs-built_in">string</span>&amp; tweetString) {
            int64_t result = <span class="hljs-number">0</span>;     
            <span class="hljs-keyword">if</span>(!is<span class="hljs-constructor">Admin()</span>){
                <span class="hljs-comment">// only owner is allowed to create tweets for this account.</span>
                result = -<span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tweetString.length<span class="hljs-literal">()</span> &gt; <span class="hljs-number">160</span>) {
                <span class="hljs-comment">// tweet contains more than 160 bytes.</span>
                result = -<span class="hljs-number">2</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">_numberOfTweets</span>]</span>.timestamp = platon<span class="hljs-constructor">_timestamp()</span>;
                <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">_numberOfTweets</span>]</span>.tweetString = tweetString;
                <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_numberOfTweets</span>.</span></span>self<span class="hljs-literal">()</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_numberOfTweets</span>.</span></span>self<span class="hljs-literal">()</span> + <span class="hljs-number">1</span>;    
                result = <span class="hljs-number">0</span>; <span class="hljs-comment">// success.     </span>
            }
            return result;
        }

        CONST std::<span class="hljs-built_in">string</span> get<span class="hljs-constructor">Tweet(<span class="hljs-params">uint64_t</span> <span class="hljs-params">tweetId</span>)</span>{
            <span class="hljs-comment">// returns two values </span>
            std::<span class="hljs-built_in">string</span> tweetString = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">tweetId</span>]</span>.tweetString;
            uint64_t timestamp = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">tweetId</span>]</span>.timestamp;
            return tweetString;     
        }
    
        CONST std::<span class="hljs-built_in">string</span> get<span class="hljs-constructor">LatestTweet()</span> {
            <span class="hljs-comment">// returns three values.</span>
            std::<span class="hljs-built_in">string</span> tweetString = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">_numberOfTweets</span>.<span class="hljs-identifier">self</span>() - <span class="hljs-number">1</span>]</span>.tweetString;
            uint64_t timestamp = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">_numberOfTweets</span>.<span class="hljs-identifier">self</span>() - <span class="hljs-number">1</span>]</span>.timestamp;
            uint64_t numberOfTweets = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_numberOfTweets</span>.</span></span>self<span class="hljs-literal">()</span>;
            return tweetString;     
        } 
        
        CONST Address get<span class="hljs-constructor">OwnerAddress()</span> {
            return <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_adminAddress</span>.</span></span>self<span class="hljs-literal">()</span>;        
        }

        CONST uint64_t get<span class="hljs-constructor">NumberOfTweets()</span> {
            return <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_numberOfTweets</span>.</span></span>self<span class="hljs-literal">()</span>;          
        }
        
        ACTION void admin<span class="hljs-constructor">RetrieveDonations(<span class="hljs-params">const</span> Address&amp; <span class="hljs-params">receiver</span>)</span> {
            <span class="hljs-keyword">if</span>(is<span class="hljs-constructor">Admin()</span>){
                Address caddr = platon<span class="hljs-constructor">_address()</span>;
                Energon e = platon<span class="hljs-constructor">_balance(<span class="hljs-params">caddr</span>)</span>;
                platon<span class="hljs-constructor">_transfer(<span class="hljs-params">receiver</span>, <span class="hljs-params">e</span>)</span>;
            }       
        }
        
        CONST Address caddr<span class="hljs-literal">()</span>{
            return platon<span class="hljs-constructor">_address()</span>;        
        }
    
        CONST std::<span class="hljs-built_in">string</span> caddr<span class="hljs-constructor">Balance(Address <span class="hljs-params">receiver</span>)</span>{
            <span class="hljs-comment">//Address caddr = platon_address();</span>
            Energon e = platon<span class="hljs-constructor">_balance(<span class="hljs-params">receiver</span>)</span>;
            return std::<span class="hljs-keyword">to</span><span class="hljs-constructor">_string(<span class="hljs-params">e</span>.Get()</span>);     
        }
            
        ACTION void admin<span class="hljs-constructor">DeleteAccount()</span>{
            <span class="hljs-keyword">if</span>(is<span class="hljs-constructor">Admin()</span>){
                <span class="hljs-comment">// this is a predefined function, it deletes theh contract and returns all funds to the owner.  </span>
                platon<span class="hljs-constructor">_destroy(<span class="hljs-params">_adminAddress</span>.<span class="hljs-params">self</span>()</span>);   
            }       
        }
};

<span class="hljs-constructor">PLATON_DISPATCH(TweetAccount,(<span class="hljs-params">init</span>)</span>(isAdmin)(tweet)(getTweet)(getLatestTweet)
(getOwnerAddress)(getNumberOfTweets)(adminRetrieveDonations)(adminDeleteAccount)
(caddr)(caddrBalance))
</code></pre>
<p>ByteCode</p>
<p><a href="https://github.com/PlatONnetwork/Docs/blob/master/zh-cn/Development/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/Tweet_wasm.bin">Click to view bincode</a></p>
<pre><code class="hljs">
</code></pre>
<p>ByteSize: <code>30788</code> byte =&gt; 30.07 kb`</p>
<hr>
<h6><a class="anchor" aria-hidden="true" id="costs"></a><a href="#costs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Costs</h6>
<p>PlatON-EVM</p>
<ul>
<li>GasUsed: 257065</li>
<li>GasPrice: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>Costs:  1285325 <code>gVON</code>（0.001285325 <code>LAT</code>）</li>
</ul>
<p>Ethereum</p>
<ul>
<li>GasUsed: 621385</li>
<li>GasPrice: 5,000,000,000 (5 <code>Gwei</code>)</li>
<li>Costs:  3106925 <code>Gwei</code>（0.003106925 <code>ETH</code>）</li>
</ul>
<p>PlatON-WASM</p>
<ul>
<li>GasUsed: 349713</li>
<li>GasPrice: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>Costs:  1748565 <code>gVON</code>（0.001748565 <code>LAT</code>）</li>
</ul>
<hr>
<h3><a class="anchor" aria-hidden="true" id="large-sized-contract"></a><a href="#large-sized-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Large-sized Contract</h3>
<h4><a class="anchor" aria-hidden="true" id="erc20-token-contract"></a><a href="#erc20-token-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ERC20 Token Contract</h4>
<p><strong>EVM Sample Code</strong></p>
<p><a href="https://github.com/PlatONnetwork/Docs/blob/master/zh-cn/Development/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/token.sol">Click to view code</a></p>
<p>ByteCode</p>
<p><a href="https://github.com/PlatONnetwork/Docs/blob/master/zh-cn/Development/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/Token_evm.bin">Click to view bincode</a></p>
<p>ByteSize: <code>4557.5 byte =&gt; 4.45 kb</code></p>
<hr>
<p><strong>WASM Sample Code</strong></p>
<pre><code class="hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;platon/platon.hpp&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> platon;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Token</span> {</span>
    <span class="hljs-keyword">public</span>:
        <span class="hljs-comment">// total amount of tokens</span>
        platon::StorageType&lt;<span class="hljs-string">"totalsupply"</span>_n, <span class="hljs-keyword">uint64_t</span>&gt; totalSupply;
    
    <span class="hljs-keyword">public</span>: <span class="hljs-comment">// event</span>
        <span class="hljs-comment">// define: _from, _to, _value</span>
        PLATON_EVENT2(Transfer, Address, Address, <span class="hljs-keyword">uint64_t</span>);
        <span class="hljs-comment">// define: _owner, _spender, _value</span>
        PLATON_EVENT2(Approval, Address, Address, <span class="hljs-keyword">uint64_t</span>);

    <span class="hljs-keyword">public</span>:
        <span class="hljs-comment">// @param _owner The address from which the balance will be retrieved</span>
        <span class="hljs-comment">// @return The balance.</span>
        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">balanceOf</span><span class="hljs-params">(Address _owner)</span> </span>= <span class="hljs-number">0</span>;

        <span class="hljs-comment">// @notice send '_value' token to `_to` from `msg.sender`</span>
        <span class="hljs-comment">// @param _to THe address of the recipient.</span>
        <span class="hljs-comment">// @param _value The amount of token to be transferred.</span>
        <span class="hljs-comment">// @return Whether the transfer was successful or not.</span>
        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">transfer</span><span class="hljs-params">(Address _to, <span class="hljs-keyword">uint64_t</span> _value)</span> </span>= <span class="hljs-number">0</span>;

        <span class="hljs-comment">// @notice send `_value` token to `_to` from `_from` on the condition it is approved by `_from`</span>
        <span class="hljs-comment">// @param _from The address of the sender.</span>
        <span class="hljs-comment">// @param _to The address of the recepient.</span>
        <span class="hljs-comment">// @param _value The amount of token to be transferred.</span>
        <span class="hljs-comment">// @return Whether the transfer was successful or not.</span>
        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">transferFrom</span><span class="hljs-params">(Address _from, Address _to, <span class="hljs-keyword">uint64_t</span> _value)</span> </span>= <span class="hljs-number">0</span>;

        <span class="hljs-comment">// @notice `msg.sender` approves `_spender` to spend `_value` tokens</span>
        <span class="hljs-comment">// @param _spender The address of the account able to transfer the tokens</span>
        <span class="hljs-comment">// @param _value The amount of tokens to be approved for transfer</span>
        <span class="hljs-comment">// @return Whether thee approval was successful or not.</span>
        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">approve</span><span class="hljs-params">(Address _spender, <span class="hljs-keyword">uint64_t</span> _value)</span> </span>= <span class="hljs-number">0</span>;

        <span class="hljs-comment">// @param _owner The address of the account owning tokens</span>
        <span class="hljs-comment">// @param _spender The address of the account able to transfer the tokens</span>
        <span class="hljs-comment">// @return Amount of remaining tokens allowed to spent.</span>
        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">allowance</span><span class="hljs-params">(Address _owner, Address _spender)</span> </span>= <span class="hljs-number">0</span>;
};

<span class="hljs-comment">// You should inherit from StandardTOken or, for a token like you would want</span>
<span class="hljs-comment">// to deploy in something like MIst, see HumanStandardToken.cpp.</span>
<span class="hljs-comment">// (This implements ONLY the standard functions and NOTHING else.</span>
<span class="hljs-comment">// If you deploy this, you won't have anthing useful.)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StandardToken</span>:</span> <span class="hljs-keyword">public</span> Token
{
    <span class="hljs-keyword">protected</span>: 
        platon::StorageType&lt;<span class="hljs-string">"balances"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">map</span>&lt;Address, <span class="hljs-keyword">uint64_t</span>&gt;&gt; balances;
        platon::StorageType&lt;<span class="hljs-string">"allowed"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">map</span>&lt;Address, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">map</span>&lt;Address, <span class="hljs-keyword">uint64_t</span>&gt;&gt;&gt; allowed;

    <span class="hljs-keyword">public</span>:
        <span class="hljs-function">CONST <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">balanceOf</span><span class="hljs-params">(Address _owner)</span> </span>{
            <span class="hljs-keyword">return</span> balances.self()[_owner];     
        }

        <span class="hljs-function">ACTION <span class="hljs-keyword">bool</span> <span class="hljs-title">transfer</span><span class="hljs-params">(Address _to, <span class="hljs-keyword">uint64_t</span> _value)</span></span>{
            <span class="hljs-comment">// Default assumes totalSupply can't be over max(2^64 - 1)</span>
            <span class="hljs-comment">// If your token leaves out totalSupply and can issue more tokens as time goes on,</span>
            <span class="hljs-comment">// you need to check if it doesn't wrap.</span>
            <span class="hljs-comment">// Replace the if with this on instead.</span>
            Address sender = platon_caller();
            <span class="hljs-keyword">if</span> (balances.self()[sender] &gt;= _value &amp;&amp; _value &gt; <span class="hljs-number">0</span>) {
                balances.self()[sender] -= _value;
                balances.self()[_to] += _value;
                PLATON_EMIT_EVENT2(Transfer, sender, _to, _value);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;           
            }
        }

        <span class="hljs-function">ACTION <span class="hljs-keyword">bool</span> <span class="hljs-title">transferFrom</span><span class="hljs-params">(Address _from, Address _to, <span class="hljs-keyword">uint64_t</span> _value)</span> </span>{
            <span class="hljs-comment">// same as above. Replace this line with the following if you want to protect against</span>
            <span class="hljs-comment">// wrapping uints.</span>
            Address sender = platon_caller();
            <span class="hljs-keyword">if</span>(balances.self()[_from] &gt;= _value 
                &amp;&amp; allowed.self()[_from][sender] &gt;= _value &amp;&amp; _value &gt; <span class="hljs-number">0</span>){
                balances.self()[_to] += _value;
                balances.self()[_from] -= _value;
                PLATON_EMIT_EVENT2(Transfer, _from, _to, _value);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;           
            }
        }

        <span class="hljs-function">ACTION <span class="hljs-keyword">bool</span> <span class="hljs-title">approve</span><span class="hljs-params">(Address _spender, <span class="hljs-keyword">uint64_t</span> _value)</span></span>{
            Address sender = platon_caller();           
            allowed.self()[sender][_spender] = _value;
            PLATON_EMIT_EVENT2(Approval, sender, _spender, _value);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;        
        }

        <span class="hljs-function">CONST <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">allowance</span><span class="hljs-params">(Address _owner, Address _spender)</span></span>{
            <span class="hljs-keyword">return</span> allowed.self()[_owner][_spender];        
        }
};


CONTRACT LATToken: <span class="hljs-keyword">public</span> platon::Contract, <span class="hljs-keyword">public</span> StandardToken
{
    
    <span class="hljs-keyword">public</span>:
        platon::StorageType&lt;<span class="hljs-string">"name"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; name;        <span class="hljs-comment">// fancy name: eg PlatON Token</span>
        platon::StorageType&lt;<span class="hljs-string">"decimals"</span>_n, <span class="hljs-keyword">uint8_t</span>&gt; decimals;    <span class="hljs-comment">// HOw many decimals to show.</span>
        platon::StorageType&lt;<span class="hljs-string">"symbol"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; symbol;    <span class="hljs-comment">// An identifier: eg LTT</span>
        platon::StorageType&lt;<span class="hljs-string">"version"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; version;  <span class="hljs-comment">// 0.1 standard. Just an arbitrary versioning scheme.</span>

    <span class="hljs-keyword">public</span>:
        <span class="hljs-function">ACTION <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">uint64_t</span> _initialAmount, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; _tokenName,
            <span class="hljs-keyword">uint8_t</span> _decimalUnits, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; _tokenSymbol)</span>
        </span>{
            Address sender = platon_caller();
            balances.self()[sender] = _initialAmount;       <span class="hljs-comment">// Give the creator all initial tokens.</span>
            totalSupply.self() = _initialAmount;            <span class="hljs-comment">// Update total supply.</span>
            name.self() = _tokenName;                       <span class="hljs-comment">// Set the name for display purposes</span>
            decimals.self() = _decimalUnits;                <span class="hljs-comment">// Amount of decimals for display purposes</span>
            symbol.self() = _tokenSymbol;                   <span class="hljs-comment">// Set the symbol for display purposes.</span>
        }

        <span class="hljs-function">CONST <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">getName</span><span class="hljs-params">()</span></span>{
            <span class="hljs-keyword">return</span> name.self();     
        }

        <span class="hljs-function">CONST <span class="hljs-keyword">uint8_t</span> <span class="hljs-title">getDecimals</span><span class="hljs-params">()</span></span>{
            <span class="hljs-keyword">return</span> decimals.self();     
        }

        <span class="hljs-function">CONST <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">getSymbol</span><span class="hljs-params">()</span></span>{
            <span class="hljs-keyword">return</span> symbol.self();       
        }

        <span class="hljs-function">CONST <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">getTotalSupply</span><span class="hljs-params">()</span></span>{
            <span class="hljs-keyword">return</span> totalSupply.self();      
        }
        
        <span class="hljs-comment">// Approves and then calls the receiving contract.</span>
        <span class="hljs-function">ACTION <span class="hljs-keyword">bool</span> <span class="hljs-title">approveAndCall</span><span class="hljs-params">(Address _spender, <span class="hljs-keyword">uint64_t</span> _value, <span class="hljs-keyword">const</span> bytes&amp; _extraData)</span> </span>{
            Address sender = platon_caller();
            allowed.self()[sender][_spender] = _value;
            PLATON_EMIT_EVENT2(Approval, sender, _spender, _value);
            <span class="hljs-comment">// call the receiveApproval function on the contract you want to be notified. This </span>
            <span class="hljs-comment">// crafts the function signature manually so one doesn't have to include a contract </span>
            <span class="hljs-comment">// in here just for this.</span>
            <span class="hljs-comment">// define: receiveApproval(Address _from, uint64_t _value, Address _tokenContract, bytes&amp; _extraDaa)</span>
            <span class="hljs-comment">// it is assumed that when does this that the call should succeed.</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
};

PLATON_DISPATCH(LATToken,(init)(balanceOf)(<span class="hljs-built_in">transfer</span>)(transferFrom)(approve)(allowance)
(getName)(getDecimals)(getSymbol)(getTotalSupply)(approveAndCall))
</code></pre>
<p>ByteCode</p>
<p><a href="https://github.com/PlatONnetwork/Docs/blob/master/zh-cn/Development/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/Token_wasm.bin">Click to view bincode</a></p>
<p>ByteSize: <code>36764 byte =&gt; 35.9 kb</code></p>
<hr>
<h6><a class="anchor" aria-hidden="true" id="costs-1"></a><a href="#costs-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Costs</h6>
<p>PlatON-EVM</p>
<ul>
<li>GasUsed: 552823</li>
<li>GasPrice: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>Costs:  2764115 <code>gVON</code>（0.002764115 <code>LAT</code>）</li>
</ul>
<p>Ethereum</p>
<ul>
<li>GasUsed: 1282171</li>
<li>GasPrice: 5,000,000,000 (5 <code>Gwei</code>)</li>
<li>Costs:  6410855 <code>Gwei</code>（0.006410855 <code>ETH</code>）</li>
</ul>
<p>PlatON-WASM</p>
<ul>
<li>GasUsed: 486274</li>
<li>GasPrice: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>Costs:  2431370 <code>gVON</code>（0.00243137 <code>LAT</code>）</li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="best-practice"></a><a href="#best-practice" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Best Practice</h2>
<h3><a class="anchor" aria-hidden="true" id="introduction-1"></a><a href="#introduction-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h3>
<p>This guide introduces users to some key points that need to be paid attention to
in the development of smart contracts, mainly in the practice of actual
development. Users can use this guide to quickly understand how to set a
reasonable fee for a transaction, how to avoid losing the fee due to transaction
failure, and how to encode a more standardized smart contract.</p>
<h3><a class="anchor" aria-hidden="true" id="reasonable-cost-setting"></a><a href="#reasonable-cost-setting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reasonable Cost Setting</h3>
<p>When you need to deploy a contract on the main network of PlatON, you need to set a reasonable fee limit. The fee limit refers to the upper limit of the energy consumption cost of smart contract deployment/execution in PlatON. This restriction is mainly accomplished through Gas. Gas is the fuel value of the PlatON network world, which determines the normal operation of the PlatON network ecosystem. Gas is usually used to measure how much “work” is required to perform certain actions, and these workloads are the amount of fees that need to be paid to the PlatON network in order to perform the action. In a simple understanding, Gas is the commission for network miners, and is paid by LAT. Any transaction, contract execution, and data storage on the network need to use Gas.</p>
<p>PlatON is similar to Ethereum’s blockchain system. It uses <code>LAT</code> for payment and
maintenance networks. One <code>LAT</code> is divided into: <code>mLAT/uLAT/gVON/mVON/kVON/VON</code>, and <code>VON</code> is the smallest unit.</p>
<p>Gas consists of two parts: GasLimit and GasPrice. GasLimit is the maximum Gas consumption (minimum 21,000) that a user is willing to pay to perform an operation or confirm a transaction. GasPrice is the unit price of each Gas.</p>
<p>When a user sends a transaction, GasLimit and GasPrice are set. GasLimit * GasPrice is the user’s transaction cost, and the cost is rewarded to the miner as a commission.</p>
<p>The higher the GasPrice of the transaction, the higher the execution priority of the transaction and the greater the transaction cost. After each transaction is completed, the remaining unused Gas will be returned to the sender’s address account. It is important to note that if the execution of the transaction fails because the GasLimit is set too low, the Gas will not be returned to the user’s address at this time, and the user still needs to pay the energy cost for the failed transaction. Therefore, regardless of whether the transaction is executed successfully, the transaction sender needs to pay a certain calculation fee to the miner.</p>
<p>In the PlatON network, the maximum gas limit is <code>100,800,000</code> and the minimum is 22,000. Too low or too high will cause transaction failure. When deploying large contracts or calling complex functions in contracts, you can increase the gas limit, for example: 1,000,000. If it is a normal transfer, set it to the lowest value. The specific value needs to be estimated according to the size and complexity of the contract. Before the contract is released, the interface platon_estimateGas can be called for approximate estimation to avoid failure due to insufficient Gas.</p>
<p><strong>LAT Unit Conversion</strong></p>
<table>
<thead>
<tr><th>Unit</th><th>VON Value</th><th>VON</th></tr>
</thead>
<tbody>
<tr><td>VON</td><td>1</td><td>1</td></tr>
<tr><td>kVON</td><td>1e3 VON</td><td>1,000</td></tr>
<tr><td>mVON</td><td>1e6 VON</td><td>1,000,000</td></tr>
<tr><td>gVON</td><td>1e9 VON</td><td>1,000,000,000</td></tr>
<tr><td>microLAT</td><td>1e12 VON</td><td>1,000,000,000,000</td></tr>
<tr><td>milliLAT</td><td>1e15 VON</td><td>1,000,000,000,000,000</td></tr>
<tr><td>LAT</td><td>1e18 VON</td><td>1,000,000,000,000,000,000</td></tr>
<tr><td>kLAT</td><td>1e21 VON</td><td>1,000,000,000,000,000,000,000</td></tr>
<tr><td>mLAT</td><td>1e24 VON</td><td>1,000,000,000,000,000,000,000,000</td></tr>
<tr><td>gLAT</td><td>1e27 VON</td><td>1,000,000,000,000,000,000,000,000,000</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="avoid-timeouts"></a><a href="#avoid-timeouts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Avoid Timeouts</h3>
<p>Sending transactions on the PlatON network does not have the concept of timeout, but it will eventually stop according to the set gas limit value. If the limit value is lower than the consumption required for contract deployment, the transaction execution fails and the corresponding processing fee will be deducted. The fee setting cannot be infinite, because in the network, the block itself has a maximum GasLimit value. When the GasLimit of the transaction exceeds this value, the transaction will not be accepted.</p>
<p>If the call function of a published contract is called (a call is a stateless operation in the contract logic), there is a 5s timeout limit. If the contract logic is not executed within 5s, a timeout will occur and the virtual machine will forcely exit , causing the query to fail.</p>
<p>To avoid contract-related transaction failures, try breaking large contracts into smaller pieces and referencing each other as needed. To avoid infinite loops, be aware of common pitfalls and recursive calls.</p>
<h3><a class="anchor" aria-hidden="true" id="punishment-for-illegal-operations"></a><a href="#punishment-for-illegal-operations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Punishment For Illegal Operations</h3>
<p>If the smart contract is not compiled by a standard valid compiler, or the instruction code is changed at will, the opcode will be invalid. This type of contract not only fails to be deployed and executed successfully, but also generates a full amount (GasLimit * GasPrice) penalty. The transaction fee for the current transaction will be deducted. This is a very strong penalty. If the operator does not pay attention to this point and keep retrying, then the cost will be higher and the cost will be heavier.</p>
<p>In general, invalid opcodes have the following conditions:</p>
<ul>
<li>Manually changed the instruction code for the normally compiled contract</li>
<li>The contract compiler version is not consistent with the contract version
supported by the network lock</li>
<li>Use float type to do operation</li>
</ul>
<p>When operating a contract in the PlatON network. First, you must confirm the smart contract version supported by the current network, and then select the compiler of the corresponding version pair.</p>
<p>The normal operation is to use the latest Truffle/PlatON-CDT officially provided by PlatON to compile/deploy/execute the contract. At the same time, before switching to the main network, it must be validated on the test network.</p>
<h3><a class="anchor" aria-hidden="true" id="cc-language-limit"></a><a href="#cc-language-limit" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>C/C++ Language Limit</h3>
<p><strong>C/C++ features not supported</strong></p>
<ul>
<li>float type(float/double)</li>
<li>typeid/dynamic_cast(-fno-rtti)</li>
<li>try-catch(-fno-exception)</li>
<li>features after C++17</li>
</ul>
<p><strong>libc not supported header files</strong></p>
<ul>
<li>signal.h</li>
<li>math.h</li>
<li>locale.h</li>
<li>errno.h</li>
<li>uchar.h</li>
<li>time.h</li>
</ul>
<p><strong>libc++ not suppported header files</strong></p>
<ul>
<li>rand</li>
<li>atomics</li>
<li>thread</li>
<li>random</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="coding-standards"></a><a href="#coding-standards" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Coding Standards</h3>
<h4><a class="anchor" aria-hidden="true" id="naming-rules"></a><a href="#naming-rules" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Naming rules</h4>
<ul>
<li><p>The style of a name immediately informs us what sort of thing the named entity
is: a type, a variable, a function, a constant, a macro, etc.</p></li>
<li><p>Use terminology within the blockchain industry.</p></li>
<li><p>Use as few abbreviations as possible. If you must use them, it is recommended
to use public abbreviations and custom abbreviations.</p></li>
<li><p>Filenames should be all lowercase and can include underscores (_) or dashes
(-).</p></li>
<li><p>For smart contracts, the file name is consistent with the contract name.</p></li>
<li><p>Type names start with a capital letter and have a capital letter for each new
word, with no underscores: <code>MyExcitingClass</code>, <code>MyExcitingEnum</code>.</p></li>
<li><p>The names of variables (including function parameters) and data members are
all lowercase, with underscores between words. Data members of classes (but
not structs) additionally have trailing underscores. For instance:
<code>a_local_variable</code>, <code>a_struct_data_member</code>, <code>a_class_data_member_</code>.</p></li>
<li><p>Variables declared constexpr or const, and whose value is fixed for the
duration of the program, are named with a leading &quot;k&quot; followed by mixed case.
Underscores can be used as separators in the rare cases where capitalization
cannot be used for separation. For example:</p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> kDaysInAWeek = <span class="hljs-number">7</span>;
</code></pre></li>
<li><p>Regular functions have mixed case; accessors and mutators may be named like
variables: <code>MyExcitingFunction()</code>, <code>MyExcitingMethod()</code>,
<code>my_exciting_member_variable()</code>, <code>set_my_exciting_member_variable()</code></p></li>
<li><p>Enumerators (for both scoped and unscoped enums) should be named either like
constants or like macros: either <code>kEnumName</code> or <code>ENUM_NAME</code>.</p></li>
<li><p>If you are naming something that is analogous to an existing C or C++ entity
then you can follow the existing naming convention scheme.</p></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="document-format-for-smart-contracts"></a><a href="#document-format-for-smart-contracts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Document Format For Smart Contracts</h4>
<p>File Layout Rules:</p>
<ul>
<li>Generally more than 1000 lines of program code is difficult to read, try to
avoid the situation that the number of lines of code in a file is too long.
Each contract document should contain only a single contract class or contract
interface.</li>
</ul>
<p>Order Of Files:</p>
<ul>
<li>Notes on files: All contract source files have a note at the beginning, which
lists the copyright statement, file name, function description, and creation
and modification records of the file.</li>
<li>Remarks for class or interface: Comments should be made before class and
interface definitions, including descriptions of classes and interfaces,
latest modifiers, version numbers, reference links, etc.</li>
<li>The order of class member: first the public level, then the protection
level, and finally the private level.</li>
<li>Member functions: Functions within a contract should be grouped by module, not by
scope or access permissions.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="feature-uses-advice"></a><a href="#feature-uses-advice" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Feature Uses Advice</h4>
<h5><a class="anchor" aria-hidden="true" id="structs-vs-classes"></a><a href="#structs-vs-classes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Structs vs Classes</h5>
<p>Use a struct only for passive objects that carry data; everything else is a
class.</p>
<p>The struct and class keywords behave almost identically in C++. We add our own
semantic meanings to each keyword, so you should use the appropriate keyword for
the data-type you're defining.</p>
<p>Structs should be used for passive objects that carry data, and may have
associated constants, but lack any functionality other than access/setting the
data members. All fields must be public, and accessed directly rather than
through getter/setter methods. The struct must not have invariants that imply
relationships between different fields, since direct user access to those fields
may break those invariants. Methods should not provide behavior but should only
be used to set up the data members, e.g., constructor, destructor, Initialize(),
Reset().</p>
<p>If more functionality or invariants are required, a class is more appropriate.
If in doubt, make it a class.</p>
<h5><a class="anchor" aria-hidden="true" id="inheritance"></a><a href="#inheritance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Inheritance</h5>
<p>Composition is often more appropriate than inheritance. When using inheritance,
make it <code>public</code>.</p>
<p>All inheritance should be public. If you want to do private inheritance, you
should be including an instance of the base class as a member instead.</p>
<p>Do not overuse implementation inheritance. Composition is often more
appropriate. Try to restrict the use of inheritance to the &quot;is-a&quot; case: Bar
subclasses Foo if it can reasonably be said that Bar &quot;is a kind of&quot; Foo.</p>
<h5><a class="anchor" aria-hidden="true" id="multiple-inheritance"></a><a href="#multiple-inheritance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multiple Inheritance</h5>
<p>Multiple inheritance is especially problematic, because it often imposes a
higher performance overhead (in fact, the performance drop from single
inheritance to multiple inheritance can often be greater than the performance
drop from ordinary to virtual dispatch), and because it risks leading to
&quot;diamond&quot; inheritance patterns, which are prone to ambiguity, confusion, and
outright bugs.</p>
<p><strong>Multiple implementation inheritance is strongly discouraged.</strong></p>
<h5><a class="anchor" aria-hidden="true" id="move"></a><a href="#move" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>move</h5>
<p>The <code>std::move</code> introduced in C++11 can effectively transfer resources to other
objects. In our practice, use <code>std :: move</code> can effectively reduce the
consumption of <code>Gas</code>, especially when using containers. When returning a value,
it should return rvalue references and use <code>std::move</code> to convert lvalue
references to rvalue references to reduce Gas consumption. For example:</p>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt;&amp;&amp; <span class="hljs-title">get_vec</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; v;
    <span class="hljs-comment">// ignore</span>
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::move(v); <span class="hljs-comment">// very important</span>
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="auto"></a><a href="#auto" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>auto</h4>
<p>The <code>auto</code> keyword can automatically deduced from its initializer. Used with
containers and iterators can simplify code. For example:</p>
<pre><code class="hljs css language-cpp"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; my_map;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = my_map.begin(); it != my_map.end(); it++) {
    <span class="hljs-comment">// ignore</span>
}
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="reference-arguments"></a><a href="#reference-arguments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference Arguments</h5>
<p>Suggest using reference arguments as function parameters. Reference parameters
can reduce unnecessary replication and reduce unnecessary memory allocation. For us
WASM virtual machines, memory allocation is an expensive operation.</p>
<h5><a class="anchor" aria-hidden="true" id="containers"></a><a href="#containers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Containers</h5>
<p>The C ++ standard library provides some commonly used containers (map, vector, list, etc.), and you should carefully read the corresponding interface documentation when using it. It is important to note that the <code>operator[]</code> oper ator of map, according to the interface documentation, when the key does not exist, the insert action will be performed. For contract development, when using <code>StorageType</code> to store the map, do not use<code>operator []</code>to determine whether the key exists, but use<code>find ()</code> .</p>
<hr>
<h2><a class="anchor" aria-hidden="true" id="api"></a><a href="#api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API</h2>
<h3><a class="anchor" aria-hidden="true" id="block-api"></a><a href="#block-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>block api</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_block_hash"></a><a href="#platon_block_hash" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_block_hash()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">h256 <span class="hljs-title">platon::platon_block_hash</span><span class="hljs-params">(<span class="hljs-keyword">int64_t</span> num)</span>
</span></code></pre>
<p>Gets the block hash based on the block height.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>num:</code> Height of block</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>Hash of block</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_block_number"></a><a href="#platon_block_number" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_block_number()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">uint64_t</span> <span class="hljs-title">platon_block_number</span><span class="hljs-params">()</span>
</span></code></pre>
<p>Get the height of the current block</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>the height of the current block</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_coinbase"></a><a href="#platon_coinbase" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_coinbase()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">Address <span class="hljs-title">platon::platon_coinbase</span><span class="hljs-params">()</span>
</span></code></pre>
<p>Gets the Hash of miner nodes.</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>Hash of miner nodes</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_unix_timestamp"></a><a href="#platon_unix_timestamp" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_unix_timestamp()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">int64_t</span> <span class="hljs-title">platon::platon_unix_timestamp</span><span class="hljs-params">()</span>
</span></code></pre>
<p>Get the unix timestamp of the current block.</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>The unix timestamp of the current block (second)</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_gas_limit"></a><a href="#platon_gas_limit" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_gas_limit()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">uint64_t</span> <span class="hljs-title">platon_gas_limit</span><span class="hljs-params">()</span>
</span></code></pre>
<p>Get the value of gas price limit</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>the value of gas price limit</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="transaction-api"></a><a href="#transaction-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>transaction api</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_gas_price"></a><a href="#platon_gas_price" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_gas_price()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">u128 <span class="hljs-title">platon::platon_gas_price</span><span class="hljs-params">()</span>
</span></code></pre>
<p>Get the value of gas price.</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>The value of gas price</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_gas"></a><a href="#platon_gas" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_gas()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">uint64_t</span> <span class="hljs-title">platon_gas</span><span class="hljs-params">()</span>
</span></code></pre>
<p>Get the value of gas</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>the value of gas</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_caller_nonce"></a><a href="#platon_caller_nonce" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_caller_nonce</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">uint64_t</span> <span class="hljs-title">platon_caller_nonce</span><span class="hljs-params">()</span>
</span></code></pre>
<p>Get the value of the caller's nonce</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>the value of the caller's nonce</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_call_value"></a><a href="#platon_call_value" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_call_value()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">u128 <span class="hljs-title">platon::platon_call_value</span><span class="hljs-params">()</span>
</span></code></pre>
<p>Get the value of the current transaction value field.</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>The value of the current transaction value field</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_caller"></a><a href="#platon_caller" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_caller()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">Address <span class="hljs-title">platon::platon_caller</span><span class="hljs-params">()</span>
</span></code></pre>
<p>Get the address of caller.</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>The address of caller</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_origin"></a><a href="#platon_origin" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_origin()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">Address <span class="hljs-title">platon::platon_origin</span><span class="hljs-params">()</span>
</span></code></pre>
<p>Get the address of original caller.</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>The address of original caller</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_address"></a><a href="#platon_address" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_address()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">Address <span class="hljs-title">platon::platon_address</span><span class="hljs-params">()</span>
</span></code></pre>
<p>Get the address of contract.</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>The address of contract</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="account-api"></a><a href="#account-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>account api</h3>
<h4><a class="anchor" aria-hidden="true" id="make_address-12"></a><a href="#make_address-12" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>make_address() 1/2</h4>
<pre><code class="hljs css language-cpp">template &lt;size_t M&gt; std::pair&lt;Address, bool&gt; make_address(const char (&amp;str)[M])
</code></pre>
<p>The default address recognized by CDT is the main network address, that is, the address prefix is lat. If you want to recognize the test network address prefix is lax, you need to define the macro TESTNET, and you can put #define TESTNET on the first line of the contract.</p>
<p>Converts a c-style string to an address object.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>str：</code> C-style string</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>The return value is pair, whose second represents success or failure, and whose first represents an Address of type Address.</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="make_address-22"></a><a href="#make_address-22" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>make_address() 2/2</h4>
<pre><code class="hljs css language-cpp">std::pair&lt;Address, bool&gt; make_address(const std::string &amp;str_address)
</code></pre>
<p>The default address recognized by CDT is the main network address, that is, the address prefix is lat. If you want to recognize the test network address prefix is lax, you need to define the macro TESTNET, and you can put #define TESTNET on the first line of the contract.</p>
<p>Converts a string to an address object.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>str：</code> string</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>The return value is pair, whose second represents success or failure, and whose first represents an Address of type Address.</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_balance"></a><a href="#platon_balance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_balance()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">Energon <span class="hljs-title">platon::platon_balance</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Address &amp; addr)</span>
</span></code></pre>
<p>Get the balance based on the address.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> address</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>The balance of the address</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_transfer"></a><a href="#platon_transfer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_transfer()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">platon::platon_transfer</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Address &amp;addr, <span class="hljs-keyword">const</span> Energon &amp;amount)</span>
</span></code></pre>
<p>Transfer the amount of Energon to address.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> Accounts address</li>
<li><code>amount:</code> The amount of Energon</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>true if transfer success, false otherwise</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platonenergon-class"></a><a href="#platonenergon-class" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon::Energon Class</h4>
<p>Energo is a type of currency</p>
<ul>
<li><p><strong>Public Member Functions</strong></p>
<ul>
<li><p><code>Energon (u128 n)</code>
Construct a new Energon.</p></li>
<li><p><code>const u128 Get () const</code>
Get amount of Von.</p></li>
<li><p><code>const bytes Bytes () const</code>
Get the bytes of value, the bytes use big-end representations.</p></li>
<li><p><code>Energon &amp; Add (const u128 &amp;v)</code>
Add amount of Von.</p></li>
<li><p><code>Energon &amp; Add (const Energon &amp;rhs)</code>
Add amount of Von.</p></li>
<li><p><code>Energon &amp; operator+= (const Energon &amp;rhs)</code>
Implement operator +=</p></li>
</ul></li>
<li><p><strong>Constructor &amp; Destructor Documentation</strong></p>
<ul>
<li><code>platon::Energon::Energon(u128 n)</code>
Construct a new Energon.
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>n:</code>amount of Von</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><strong>Member Function Documentation</strong></p>
<ul>
<li><p><code>Energon&amp; platon::Energon::Add(const Energon &amp; rhs)</code>
Add amount of Von.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>rhs:</code>Amount of Von</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>The reference of Energon</li>
</ul></li>
</ul></li>
<li><p><code>Energon&amp; platon::Energon::Add(const u128 &amp; v)</code>
Add amount of Von.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>v:</code> Amount of Von</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>The reference of Energon</li>
</ul></li>
</ul></li>
<li><p><code>const bytes platon::Energon::Bytes() const</code></p>
<p>Get the bytes of value, the bytes use big-end representations.</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>The bytes of value</li>
</ul></li>
</ul></li>
<li><p><code>const u128 platon::Energon::Get() const</code></p>
<p>Get amount of Von.</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>The amount of Von</li>
</ul></li>
</ul></li>
<li><p><code>Energon&amp; platon::Energon::operator+= ( const Energon &amp; rhs)</code></p>
<p>Implement operator +=</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>rhs:</code> Energon object</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>The reference of Energon</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platonwhitelist-tablename--class"></a><a href="#platonwhitelist-tablename--class" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon::WhiteList&lt; TableName &gt; Class</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span>&lt;Name::Raw TableName&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">platon</span>:</span>:WhiteList&lt; TableName &gt;
</code></pre>
<p>Persist storage whitelist implement.</p>
<ul>
<li><p><strong>Template Parameters</strong></p></li>
<li><p><code>Name:</code> Whitelist name, in the same contract, the name should be unique</p></li>
<li><p><strong>Constructor &amp; Destructor Documentation</strong></p>
<ul>
<li><p><code>template&lt;Name::Raw TableName&gt; platon::WhiteList&lt; TableName &gt;::WhiteList ()</code></p>
<p>Construct a new whitelist.</p></li>
</ul></li>
<li><p><strong>public Member Functions</strong></p>
<ul>
<li><p><code>WhiteList ()</code>
Construct a new whitelist.</p></li>
<li><p><code>void Add (const std::string &amp;addr)</code>
Add the address to whitelist.</p></li>
<li><p><code>void Add (const Address &amp;addr)</code>
Add the address to whitelist.</p></li>
<li><p><code>void Delete (const std::string &amp;addr)</code>
Delete the address from whitelist.</p></li>
<li><p><code>void Delete (const Address &amp;addr)</code>
Delete the address from whitelist.</p></li>
<li><p><code>bool Exists (const std::string &amp;addr)</code>
Whether the address exists in whitelist.</p></li>
<li><p><code>bool Exists (const Address &amp;addr)</code>
Whether the address exists in whitelist.</p></li>
</ul></li>
<li><p><strong>Member Function Documentation</strong></p>
<ul>
<li><p><code>template&lt;Name::Raw TableName&gt; void platon::WhiteList&lt; TableName &gt;::Add ( const Address &amp; addr)</code></p>
<p>Add the address to whitelist.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> Accounts address</li>
</ul></li>
</ul></li>
<li><p><code>template&lt;Name::Raw TableName&gt; void platon::WhiteList&lt; TableName &gt;::Add ( const std::string &amp; addr)</code>
Add the address to whitelist.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> Accounts address</li>
</ul></li>
</ul></li>
<li><p><code>template&lt;Name::Raw TableName&gt; void platon::WhiteList&lt; TableName &gt;::Delete ( const Address &amp; addr)</code>
Delete the address from whitelist.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> Accounts address</li>
</ul></li>
</ul></li>
<li><p><code>template&lt;Name::Raw TableName&gt; void platon::WhiteList&lt; TableName &gt;::Delete ( const std::string &amp; addr)</code>
Delete the address from whitelist.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> Accounts address</li>
</ul></li>
</ul></li>
<li><p><code>template&lt;Name::Raw TableName&gt; bool platon::WhiteList&lt; TableName &gt;::Exists ( const Address &amp; addr)</code>
Whether the address exists in whitelist.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> Accounts address</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>true if exists, false otherwise</li>
</ul></li>
</ul></li>
<li><p><code>template&lt;Name::Raw TableName&gt; bool platon::WhiteList&lt; TableName &gt;::Exists ( const std::string &amp; addr)</code>
Whether the address exists in whitelist.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> Accounts address</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>true if exists, false otherwise</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="storage-api"></a><a href="#storage-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>storage api</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_set_state"></a><a href="#platon_set_state" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_set_state()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">platon_set_state</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *key, <span class="hljs-keyword">size_t</span> klen, <span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *value, <span class="hljs-keyword">size_t</span> vlen)</span>
</span></code></pre>
<p>Set the state object</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>key:</code> Key</li>
<li><code>Klen:</code> The length of key</li>
<li><code>value:</code> Value</li>
<li><code>vlen:</code> The length of value</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_get_state_length"></a><a href="#platon_get_state_length" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_get_state_length()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">platon_get_state_length</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *key, <span class="hljs-keyword">size_t</span> klen)</span>
</span></code></pre>
<p>Get the length of state object</p>
<ul>
<li><p><strong>Parameters</strong>
*<code>key:</code> Key</p>
<ul>
<li><code>Klen:</code> The length of key</li>
</ul></li>
<li><p><strong>Returns</strong></p>
<ul>
<li>The length of state object</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_get_state"></a><a href="#platon_get_state" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_get_state()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">platon_get_state</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *key, <span class="hljs-keyword">size_t</span> klen, <span class="hljs-keyword">uint8_t</span> *value, <span class="hljs-keyword">size_t</span> vlen)</span></span>;
</code></pre>
<p>Get the state object</p>
<ul>
<li><p><strong>Parameters</strong></p>
<ul>
<li><code>key:</code> Key</li>
<li><code>Klen:</code> The length of key</li>
<li><code>value:</code> Value</li>
<li><code>vlen:</code> The length of value</li>
</ul></li>
<li><p><strong>Returns</strong></p>
<ul>
<li>The length of value</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platonstoragetype-storagename-t--class-template"></a><a href="#platonstoragetype-storagename-t--class-template" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon::StorageType&lt; StorageName, T &gt; Class Template</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span>&lt;Name::Raw StorageName, <span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">platon</span>:</span>:StorageType&lt; StorageName, T &gt;
</code></pre>
<ul>
<li><p><strong>Template Parameters</strong></p>
<ul>
<li><code>StorageName:</code> Element value name, in the same contract, the name needs to be unique</li>
<li><code>T:</code> Element type</li>
</ul></li>
<li><p><strong>Public Member Functions</strong></p>
<ul>
<li><p><code>StorageType ()</code>
Construct a new Storage Type object</p></li>
<li><p><code>StorageType (const T &amp;d)</code>
Construct a new Storage Type object</p></li>
<li><p><code>StorageType (const StorageType&lt; StorageName, T &gt; &amp;)=delete</code></p></li>
<li><p><code>StorageType (const StorageType&lt; StorageName, T &gt; &amp;&amp;)=delete</code></p></li>
<li><p><code>~StorageType ()</code>
Destroy the Storage Type object. Refresh to blockchain.</p></li>
<li><p><code>T &amp; operator= (const T &amp;t)</code></p></li>
<li><p><code>template&lt;typename P&gt; bool operator== (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; bool operator!= (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; bool operator&lt; (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; bool operator&gt;= (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; bool operator&lt;= (const P &amp;t) const</code></p></li>
<li><p>`template<typename P>
bool operator&gt; (const P &amp;t) const</p></li>
<li><p><code>template&lt;typename P&gt; T &amp; operator^= (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; T operator^ (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; T &amp; operator|= (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; T operator| (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; T &amp; operator&amp;= (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; T operator&amp; (const P &amp;t) const</code></p></li>
<li><p><code>T operator~ () const</code></p></li>
<li><p><code>T &amp; operator&lt;&lt; (int offset)</code></p></li>
<li><p><code>T &amp; operator&gt;&gt; (int offset)</code></p></li>
<li><p><code>T &amp; operator++ ()</code></p></li>
<li><p><code>T operator++ (int)</code></p></li>
<li><p><code>T &amp; operator[] (int i)</code></p></li>
<li><p><code>template&lt;typename P&gt; T &amp; operator+= (const P &amp;p)</code></p></li>
<li><p><code>template&lt;typename P&gt; T &amp; operator-= (const P &amp;p)</code></p></li>
<li><p><code>T &amp; operator* ()</code></p></li>
<li><p><code>T * operator-&gt; ()</code></p></li>
<li><p><code>operator bool () const</code></p></li>
<li><p><code>T get () const</code></p></li>
<li><p><code>T &amp; self ()</code></p></li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platondbarray-tablename-key-n--class-template"></a><a href="#platondbarray-tablename-key-n--class-template" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon::db::Array&lt; TableName, Key, N &gt; Class Template</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span>&lt;Name::Raw TableName, <span class="hljs-keyword">typename</span> Key, <span class="hljs-keyword">unsigned</span> N&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">platon</span>:</span>:db::Array&lt; TableName, Key, N &gt;
</code></pre>
<ul>
<li><p><strong>Classes</strong></p>
<ul>
<li><p><code>class const_iterator Constant iterator.</code></p></li>
<li><p><code>class const_reverse_iterator Constant reverse iterator.</code></p></li>
<li><p><code>class iterator Iterator.</code></p></li>
</ul></li>
<li><p><strong>Public Types</strong></p>
<ul>
<li><code>typedef std::reverse_iterator&lt; iterator &gt; reverse_iterator</code></li>
</ul></li>
<li><p><strong>Public Member Functions</strong></p>
<ul>
<li><p><code>Array ()</code></p></li>
<li><p><code>Array (const Array&lt; TableName, Key, N &gt; &amp;)=delete</code></p></li>
<li><p><code>Array (const Array&lt; TableName, Key, N &gt; &amp;&amp;)=delete</code></p></li>
<li><p><code>Array&lt; TableName, Key, N &gt; &amp; operator= (const Array&lt; TableName, Key, N &gt; &amp;)=delete</code></p></li>
<li><p><code>~Array ()</code></p></li>
<li><p><code>iterator begin ()</code>
iterator start position</p></li>
<li><p><code>iterator end ()</code>
iterator end position</p></li>
<li><p><code>reverse_iterator rbegin ()</code>
Reverse iterator start position.</p></li>
<li><p><code>reverse_iterator rend ()</code>
Reverse iterator end position.</p></li>
<li><p><code>const_iterator cbegin ()</code>
Constant iterator start position.</p></li>
<li><p><code>const_iterator cend ()</code>
Constant iterator end position.</p></li>
<li><p><code>const_reverse_iterator crbegin ()</code>
Inverse constant iterator start position.</p></li>
<li><p><code>const_reverse_iterator crend ()</code>
Inverse constant iterator end position.</p></li>
<li><p><code>Key &amp; at (size_t pos)</code>
Get the specified position element.</p></li>
<li><p><code>Key &amp; operator[] (size_t pos)</code>
Bracket operator.</p></li>
<li><p><code>size_t size ()</code>
array size</p></li>
<li><p><code>Key get_const (size_t pos)</code>
Get the Const object. Do not flush to cache.</p></li>
<li><p><code>void set_const (size_t pos, const Key &amp;key)</code>
Set the Const object, Do not flush to cache.</p></li>
</ul></li>
<li><p><strong>Static Public Attributes</strong></p>
<ul>
<li><code>static const std::string kType = &quot;__array__&quot;</code></li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platondbmap-tablename-key-value--class-template"></a><a href="#platondbmap-tablename-key-value--class-template" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon::db::Map&lt; TableName, Key, Value &gt; Class Template</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span>&lt;Name::Raw TableName, <span class="hljs-keyword">typename</span> Key, <span class="hljs-keyword">typename</span> Value&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">platon</span>:</span>:db::Map&lt; TableName, Key, Value &gt;
</code></pre>
<p>Implement map operations, Map templates.</p>
<ul>
<li><p><strong>Template Parameters</strong></p>
<ul>
<li><code>TableName:</code> The name of the Map, the name of the Map should be unique within each contract.</li>
<li><code>Key:</code> key type</li>
<li><code>Value:</code> value type</li>
</ul>
<p>MapType::Traverse The default is Traverse, when Traverse needs extra data structure to operate, set to NoTraverse when no traversal operation is needed.</p></li>
<li><p><strong>Public Member Functions</strong></p>
<ul>
<li><p><code>Map ()</code></p></li>
<li><p><code>Map(const Map&lt; TableName, Key, Value &gt; &amp;)=delete</code></p></li>
<li><p><code>Map(const Map&lt; TableName, Key, Value &gt; &amp;&amp;)=delete</code></p></li>
<li><p><code>Map&lt; TableName, Key, Value &gt; &amp; operator= (const Map&lt; TableName, Key, Value &gt; &amp;)=delete</code></p></li>
<li><p><code>~Map ()</code>
Destroy the Map object Refresh data to the blockchain.</p></li>
<li><p><code>bool insert (const Key &amp;k, const Value &amp;v)</code>
Insert a new key-value pair, Update to cache.</p></li>
<li><p><code>bool insert_const (const Key &amp;k, const Value &amp;v)</code>
Insert a new key-value pair that will not be updated to the cache. Suitable for large number of inserts, no updates after insertion.</p></li>
<li><p><code>Value get_const (const Key &amp;k)</code>
Get the Const object, will not join the cache.</p></li>
<li><p><code>Value &amp; at (const Key &amp;k)</code>
Get value, will be added to the cache.</p></li>
<li><p><code>void erase (const Key &amp;k)</code>
Delete key-value pairs.</p></li>
<li><p><code>Value &amp; operator[] (const Key &amp;k)</code>
Bracket operator.</p></li>
<li><p><code>boolcontains (const Key &amp;key)</code>
Checks if there is an element with key equivalent to key in the container.</p></li>
<li><p><code>void flush ()</code>
Refresh the modified data in memory to the blockchain.</p></li>
</ul></li>
<li><p><strong>Static Public Attributes</strong></p></li>
<li><p><code>static const std::string kType = &quot;__map__&quot;</code></p></li>
<li><p><strong>Constructor &amp; Destructor Documentation</strong></p>
<ul>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; platon::db::Map&lt; TableName, Key, Value &gt;::Map ()</code></p></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; platon::db::Map&lt; TableName, Key, Value &gt;::Map (const Map&lt; TableName, Key, Value &gt; &amp; )</code></p></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; platon::db::Map&lt; TableName, Key, Value &gt;::Map (const Map&lt; TableName, Key, Value &gt; &amp;&amp; )</code></p></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; platon::db::Map&lt; TableName, Key, Value &gt;::~Map ()</code></p></li>
</ul></li>
</ul>
<p>Destroy the Map object Refresh data to the blockchain.</p>
<ul>
<li><p><strong>Member Function Documentation</strong></p>
<ul>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; Value&amp; platon::db::Map&lt; TableName, Key, Value &gt;::at ( const Key &amp; k )</code>
Get value, will be added to the cache.</p>
<ul>
<li><p><strong>Parameters</strong></p>
<ul>
<li><code>k:</code> Key</li>
</ul></li>
<li><p><strong>Returns</strong></p></li>
<li><p>Value&amp;</p></li>
<li><p><strong>Example:</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.insert(<span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>);
</code></pre></li>
</ul>
<p>assert(map.at[&quot;hello&quot;] == &quot;world&quot;);</p>
<pre><code class="hljs">
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; bool platon::db::Map&lt; TableName, Key, Value &gt;::contains ( const Key &amp; key )</code>
Checks if there is an element with key equivalent to key in the container.</p>
<ul>
<li><p><strong>Parameters</strong></p>
<ul>
<li><code>k:</code> Key</li>
</ul></li>
<li><p><strong>Returns</strong></p></li>
<li><p>true if there is such an element, otherwise false.</p></li>
<li><p><strong>Example:</strong></p>
<pre><code class="hljs css language-cpp"> <span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
 MapStr <span class="hljs-built_in">map</span>;
 <span class="hljs-built_in">map</span>.[<span class="hljs-string">"hello"</span>] = <span class="hljs-string">"world"</span>;
</code></pre></li>
</ul>
<p>assert(map.contains(&quot;hello&quot;));</p>
<pre><code class="hljs">
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; void platon::db::Map&lt; TableName, Key, Value &gt;::erase ( const Key &amp; k )</code>
Delete key-value pairs.</p>
<ul>
<li><p><strong>Parameters</strong></p>
<ul>
<li><code>k:</code> Key</li>
</ul></li>
</ul></li>
<li><p><strong>Example:</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.insert(<span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>);
<span class="hljs-built_in">map</span>.erase(<span class="hljs-string">"hello"</span>);
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; void platon::db::Map&lt; TableName, Key, Value &gt;::flush ()</code>
Refresh the modified data in memory to the blockchain.</p></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; Value platon::db::Map&lt; TableName, Key, Value &gt;::get_const ( const Key &amp; k)</code>
Get the Const object, will not join the cache.</p>
<ul>
<li><p><strong>Parameters</strong></p>
<ul>
<li><code>k:</code> Key</li>
</ul></li>
<li><p><strong>Returns</strong></p></li>
<li><p>Value</p></li>
<li><p><strong>Example:</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.insert(<span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>);
</code></pre></li>
</ul>
<p>assert(map.get_const[&quot;hello&quot;] == &quot;world&quot;);</p>
<pre><code class="hljs">
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; bool platon::db::Map&lt; TableName, Key, Value &gt;::insert ( const Key &amp; k, const Value &amp; v)</code>
Insert a new key-value pair, Update to cache.</p>
<ul>
<li><p><strong>Parameters</strong></p>
<ul>
<li><code>k:</code> Key</li>
<li><code>v:</code> Value</li>
</ul></li>
<li><p><strong>Returns</strong></p>
<ul>
<li>true if insert successfully,false otherwise.</li>
</ul></li>
</ul></li>
<li><p><strong>Example:</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.insert(<span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>);
assert(<span class="hljs-built_in">map</span>[<span class="hljs-string">"hello"</span>] == <span class="hljs-string">"world"</span>);
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; bool platon::db::Map&lt; TableName, Key, Value &gt;::insert_const ( const Key &amp; k, const Value &amp; v)</code>
Insert a new key-value pair that will not be updated to the cache. Suitable for large number of inserts, no updates after insertion.</p>
<ul>
<li><p><strong>Parameters</strong></p>
<ul>
<li><code>k:</code> Key</li>
<li><code>v:</code> Value</li>
</ul></li>
<li><p><strong>Returns</strong></p>
<ul>
<li>true if insert successfully,false otherwise.</li>
</ul></li>
</ul></li>
<li><p><strong>Example:</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.insert_const(<span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>);
assert(<span class="hljs-built_in">map</span>[<span class="hljs-string">"hello"</span>] == <span class="hljs-string">"world"</span>);
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; Map&lt;TableName, Key, Value&gt;&amp; platon::db::Map&lt; TableName, Key, Value &gt;::operator= ( const Map&lt; TableName, Key, Value &gt; &amp; )</code></p></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; Value&amp; platon::db::Map&lt; TableName, Key, Value &gt;::operator[] ( const Key &amp; k)</code>
Bracket operator.</p>
<ul>
<li><p><strong>Parameters</strong></p>
<ul>
<li><code>k:</code> Key</li>
</ul></li>
<li><p><strong>Returns</strong></p></li>
<li><p>Value&amp; Get Value</p></li>
<li><p><strong>Example:</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.[<span class="hljs-string">"hello"</span>] = <span class="hljs-string">"world"</span>;
</code></pre></li>
</ul></li>
</ul></li>
<li><p><strong>Member Data Documentation</strong></p>
<ul>
<li><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; const std::string platon::db::Map&lt; TableName, Key, Value &gt;::kType = &quot;__map__&quot;</code></li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="templatenameraw-tablename-typename-t-typename-indices-class-platondbmultiindex-tablename-t-indices-"></a><a href="#templatenameraw-tablename-typename-t-typename-indices-class-platondbmultiindex-tablename-t-indices-" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>template&lt;Name::Raw TableName, typename T, typename... Indices&gt; class platon::db::MultiIndex&lt; TableName, T, Indices &gt;</h4>
<p>MultiIndex supports unique indexes and ordinary indexes. The unique index should be placed first in the parameter. The structure needs to provide the get function corresponding to the index field.</p>
<ul>
<li><strong>Member Function Documentation</strong>
<ul>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt;const_iterator platon::db::MultiIndex&lt; TableName, T, Indices &gt;::cbegin()</code>
Iterator start position</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>const_iterator</li>
</ul></li>
<li><strong>Example:</strong></li>
</ul>
<pre><code class="hljs css language-cpp">  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
  <span class="hljs-keyword">uint8_t</span> age;
  <span class="hljs-keyword">uint8_t</span> sex;
  <span class="hljs-keyword">uint64_t</span> $seq_;
  <span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
  <span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
  PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
  <span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                      IndexType::UniqueIndex&gt;&gt;,
  IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
  member_table;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = member_table.cbegin(); it != it_end; ++it){}
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; const_iterator platon::db::MultiIndex&lt; TableName, T, Indices &gt;::cend()</code>
Iterator end position</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>const_iterator</li>
</ul></li>
<li><strong>Example:</strong></li>
</ul>
<pre><code class="hljs css language-cpp">  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
  <span class="hljs-keyword">uint8_t</span> age;
  <span class="hljs-keyword">uint8_t</span> sex;
  <span class="hljs-keyword">uint64_t</span> $seq_;
  <span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
  <span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
  PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
  <span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                      IndexType::UniqueIndex&gt;&gt;,
  IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
  member_table;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = member_table.cbegin(); it != it_end; ++it){}
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; template&lt;Name::Raw IndexName, typename KEY &gt; size_t platon::db::MultiIndex&lt; TableName, T, Indices &gt;::count(const KEY &amp;key)</code></p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>Gets the number of data corresponding to the index value</li>
</ul></li>
<li><strong>Example:</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
<span class="hljs-keyword">uint8_t</span> age;
<span class="hljs-keyword">uint8_t</span> sex;
<span class="hljs-keyword">uint64_t</span> $seq_;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
<span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                    IndexType::UniqueIndex&gt;&gt;,
IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
member_table;
<span class="hljs-keyword">auto</span> count = member_table.count&lt;<span class="hljs-string">"index2"</span>_n&gt;(<span class="hljs-keyword">uint8_t</span>(<span class="hljs-number">10</span>));
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; template&lt;typename Lambda&gt; std::pair&lt;const_iterator, bool&gt; platon::db::MultiIndex&lt; TableName, T, Indices &gt;::emplace(Lambda &amp;constructor)</code></p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li>constructor of value</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>Returns an iterator that indicates whether the insertion was successful with the bool type. If unique index conflicts, the insertion fails</li>
</ul></li>
<li><strong>Example:</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
  <span class="hljs-keyword">uint8_t</span> age;
  <span class="hljs-keyword">uint8_t</span> sex;
  <span class="hljs-keyword">uint64_t</span> $seq_;
  <span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
  <span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
  PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
  <span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                      IndexType::UniqueIndex&gt;&gt;,
  IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
  member_table;
member_table.emplace([&amp;](<span class="hljs-keyword">auto</span> &amp;m) {
  m.age = <span class="hljs-number">10</span>;
  m.name = <span class="hljs-string">"hello"</span>;
  m.sex = <span class="hljs-number">1</span>;
});
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; void platon::db::MultiIndex&lt; TableName, T, Indices &gt;::erase(const_iterator position)</code>
erase data based on iterator</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>position:</code> position of iterator</li>
</ul></li>
<li><strong>Example:</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
<span class="hljs-keyword">uint8_t</span> age;
<span class="hljs-keyword">uint8_t</span> sex;
<span class="hljs-keyword">uint64_t</span> $seq_;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
<span class="hljs-string">"table"</span>_n, Member,
IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                  IndexType::UniqueIndex&gt;&gt;,
IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                    IndexType::NormalIndex&gt;&gt;&gt;
member_table;
<span class="hljs-keyword">auto</span> vect_iter = member_table.find&lt;<span class="hljs-string">"index2"</span>_n&gt;(<span class="hljs-keyword">uint8_t</span>(<span class="hljs-number">10</span>));
member_table.erase(vect_iter[<span class="hljs-number">0</span>]);
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; template&lt;Name::Raw IndexName, typename KEY &gt; const_iterator platon::db::MultiIndex&lt; TableName, T, Indices &gt;::find(const KEY &amp; key)</code>
Find the data, Only a unique index is available.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>key:</code> key of index</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>the first iterator. cend() if not found.</li>
</ul></li>
<li><strong>Example:</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
<span class="hljs-keyword">uint8_t</span> age;
<span class="hljs-keyword">uint8_t</span> sex;
<span class="hljs-keyword">uint64_t</span> $seq_;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
<span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                    IndexType::UniqueIndex&gt;&gt;,
IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
member_table;
<span class="hljs-keyword">auto</span> vect_iter = member_table.find&lt;<span class="hljs-string">"index2"</span>_n&gt;(<span class="hljs-keyword">uint8_t</span>(<span class="hljs-number">10</span>));
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; template&lt;Name::Raw IndexName&gt;auto platon::db::MultiIndex&lt; TableName, T, Indices &gt;::get_index()</code>
Gets the index object of a non-unique index.</p>
<ul>
<li><strong>Returns</strong>
<ul>
<li>index object</li>
</ul></li>
<li><strong>Example:</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
<span class="hljs-keyword">uint8_t</span> age;
<span class="hljs-keyword">uint8_t</span> sex;
<span class="hljs-keyword">uint64_t</span> $seq_;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
<span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                    IndexType::UniqueIndex&gt;&gt;,
IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
member_table;
<span class="hljs-keyword">auto</span> index = member_table.get_index&lt;<span class="hljs-string">"index2"</span>_n&gt;();
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; template&lt;typename Lambda &gt;void platon::db::MultiIndex&lt; TableName, T, Indices &gt;::modify(const_iterator position,Lambda &amp;&amp; constructor)</code>
Modify data based on iterator, but cannot modify all index-related fields .</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>position:</code> position of iterator</li>
<li><code>constructor:</code> lambda function that updates the target object</li>
</ul></li>
<li><strong>Example:</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
<span class="hljs-keyword">uint8_t</span> age;
<span class="hljs-keyword">uint8_t</span> sex;
<span class="hljs-keyword">uint64_t</span> $seq_;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
<span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                    IndexType::UniqueIndex&gt;&gt;,
IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
member_table;
member_table.modify(r.first, [&amp;](<span class="hljs-keyword">auto</span> &amp;m) { m.sex = <span class="hljs-number">15</span>; });
</code></pre></li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="contract-api"></a><a href="#contract-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>contract api</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_destroy"></a><a href="#platon_destroy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_destroy()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">platon::platon_destroy</span> <span class="hljs-params">( <span class="hljs-keyword">const</span> Address &amp; addr)</span>
</span></code></pre>
<p>Destory contract.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> Address of the contract</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>true if destroy successfully, false otherwise</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_migrate_contract"></a><a href="#platon_migrate_contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_migrate_contract()</h4>
<pre><code class="hljs css language-cpp">template&lt;typename value_type , typename gas_type &gt;
bool platon::platon_migrate_contract ( Address &amp; addr,
const bytes &amp; init_args,
value_type  value,
gas_type  gas)
</code></pre>
<p>Migrate contract.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> The address of new contract</li>
<li><code>init_args:</code> The input arguments</li>
<li><code>value:</code> Transfer amount</li>
<li><code>gas:</code> Pay amount of gas for this transaction</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>true if migration successfully, false otherwise</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="cross_call_args"></a><a href="#cross_call_args" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>cross_call_args()</h4>
<pre><code class="hljs css language-cpp">template&lt;typename... Args&gt;
bytes platon::cross_call_args ( const std::string &amp; method,
const Args &amp;...  args)  
</code></pre>
<p>Construct the Parameters of the call across contracts.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>method:</code> The method name of the invoked contract</li>
<li><code>args:</code> The Parameters corresponding to the contract method</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>Parameter byte array</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_call-12"></a><a href="#platon_call-12" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_call() 1/2</h4>
<pre><code class="hljs css language-cpp">template&lt;typename value_type , typename gas_type &gt;
bool platon::platon_call ( const Address &amp; addr,
const bytes &amp; paras,
const value_type &amp; value,
const gas_type &amp; gas)  
</code></pre>
<p>Normal cross-contract invocation.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> The contract address to be invoked</li>
<li><code>paras:</code> A contract parameter constructed using the function cross_call_args</li>
<li><code>gas:</code> The called contract method estimates the gas consumed</li>
<li><code>value:</code> The amount transferred to the contract</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>The call succeed or failed</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_call-22"></a><a href="#platon_call-22" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_call() 2/2</h4>
<pre><code class="hljs css language-cpp">template&lt;typename return_type , typename value_type , typename gas_type , typename... Args&gt;
decltype(auto) platon::platon_call ( const Address &amp; addr,
const value_type &amp; value,
const gas_type &amp; gas,
const std::string &amp; method,
const Args &amp;...  args
)
</code></pre>
<p>Normal cross-contract invocation.</p>
<ul>
<li><p><strong>Parameters</strong></p>
<ul>
<li><code>addr:</code> The contract address to be invoked</li>
<li><code>value:</code> The amount transferred to the contract</li>
<li><code>gas:</code> The called contract method estimates the gas consumed</li>
<li><code>method:</code> The method name of the invoked contract</li>
<li><code>args:</code> The Parameters corresponding to the contract method</li>
</ul></li>
<li><p><strong>Returns</strong></p>
<ul>
<li>The contract method * <strong>Returns</strong> the value and whether the execution was successful</li>
</ul></li>
<li><p><strong>Example:</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">auto</span> result =
platon_call&lt;<span class="hljs-keyword">int</span>&gt;(Address(<span class="hljs-string">"0xEC081ab45BE978A4A630eB8cbcBffA50E747971B"</span>),
<span class="hljs-keyword">uint32_t</span>(<span class="hljs-number">100</span>), <span class="hljs-keyword">uint32_t</span>(<span class="hljs-number">100</span>), <span class="hljs-string">"add"</span>, <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);
<span class="hljs-keyword">if</span>(!result.secod){
  platon_throw(<span class="hljs-string">"cross call fail"</span>);
}
</code></pre></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_delegate_call-12"></a><a href="#platon_delegate_call-12" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_delegate_call() 1/2</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> gas_type &gt;
<span class="hljs-keyword">bool</span> <span class="hljs-title">platon::platon_delegate_call</span> <span class="hljs-params">( <span class="hljs-keyword">const</span> Address &amp; addr,
<span class="hljs-keyword">const</span> bytes &amp; paras,
<span class="hljs-keyword">const</span> gas_type &amp; gas
)</span>  
</span></code></pre>
<p>Cross contract delegation call.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>addr:</code> The contract address to be invoked</li>
<li><code>paras:</code> A contract parameter constructed using the function cross_call_args</li>
<li><code>gas:</code> The called contract method estimates the gas consumed</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>The call succeed or failed</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_delegate_call-22"></a><a href="#platon_delegate_call-22" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_delegate_call() 2/2</h4>
<pre><code class="hljs css language-cpp">template&lt;typename return_type , typename gas_type , typename... Args&gt;
decltype(auto) platon::platon_delegate_call ( const Address &amp; addr,
const gas_type &amp; gas,
const std::string &amp; method,
const Args &amp;...  args)  
</code></pre>
<p>The proxy is invoked across contracts.</p>
<ul>
<li><p><strong>Parameters</strong></p>
<ul>
<li><code>addr:</code> The contract address to be invoked</li>
<li><code>gas:</code> The called contract method estimates the gas consumed</li>
<li><code>method:</code> The method name of the invoked contract</li>
<li><code>args:</code> The Parameters corresponding to the contract method</li>
</ul></li>
<li><p><strong>Returns</strong></p>
<ul>
<li>The contract method * <strong>Returns</strong> the value and whether the execution was successful</li>
</ul></li>
<li><p><strong>Example:</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">auto</span> result =
platon_delegate_call&lt;<span class="hljs-keyword">int</span>&gt;(Address(<span class="hljs-string">"0xEC081ab45BE978A4A630eB8cbcBffA50E747971B"</span>),
 <span class="hljs-keyword">uint32_t</span>(<span class="hljs-number">100</span>), <span class="hljs-string">"add"</span>, <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);
 <span class="hljs-keyword">if</span>(!result.secod){
   platon_throw(<span class="hljs-string">"cross call fail"</span>);
 }
</code></pre></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="get_call_output"></a><a href="#get_call_output" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>get_call_output()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T &gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">platon::get_call_output</span> <span class="hljs-params">( T &amp; t)</span>
</span></code></pre>
<p>Gets the return value of calling contract methods across contracts.</p>
<ul>
<li><strong>Template Parameters</strong>
<ul>
<li><code>T:</code> The output value type</li>
</ul></li>
<li><strong>Parameters</strong>
<ul>
<li><code>t:</code> The value returned by the contract method</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_event"></a><a href="#platon_event" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_event</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">platon_event</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *topic, <span class="hljs-keyword">size_t</span> topic_len, <span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *args,
                  <span class="hljs-keyword">size_t</span> args_len)</span></span>;
</code></pre>
<p>Post event to VM</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>topic:</code> The topic of event</li>
<li><code>topic_len:</code> The length of topic</li>
<li><code>args:</code> The arguments</li>
<li><code>args_len:</code> The length of arguments</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="exception-api"></a><a href="#exception-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>exception api</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_panic"></a><a href="#platon_panic" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_panic</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">platon_panic</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;
</code></pre>
<p>Terminate transaction, deduct all gas given by transaction</p>
<h4><a class="anchor" aria-hidden="true" id="platon_revert"></a><a href="#platon_revert" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_revert</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">platon_revert</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;
</code></pre>
<p>Terminate the transaction and deduct the gas consumed</p>
<h3><a class="anchor" aria-hidden="true" id="other-api"></a><a href="#other-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>other api</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_sha3"></a><a href="#platon_sha3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_sha3()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">h256 <span class="hljs-title">platon::platon_sha3</span> <span class="hljs-params">( <span class="hljs-keyword">const</span> bytes &amp; data )</span>
</span></code></pre>
<p>Sh3 algorithm.</p>
<ul>
<li><strong>Parameters</strong>
<ul>
<li><code>data:</code> Binary data</li>
</ul></li>
<li><strong>Returns</strong>
<ul>
<li>The Hash of the data</li>
</ul></li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="faq"></a><a href="#faq" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>FAQ</h2>
<h3><a class="anchor" aria-hidden="true" id="about-compile"></a><a href="#about-compile" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>About Compile</h3>
<ol>
<li><p>How to use <code>platon-cpp</code> for compile multiple <code>cpp</code> files?</p>
<pre><code class="hljs css language-shell">platon-cpp ./test.cpp ./test1.cpp
</code></pre>
<p>Only allowing exists one contract class.</p></li>
<li><p>How to specified output directory and filename when use <code>platon-cpp</code>
to compile contract?</p>
<p>Use <code>-o</code> flag, and must be specified output directory and filename at the
same time.</p>
<pre><code class="hljs css language-shell">platon-cpp ./test.cpp -o ./out/test.wasm
</code></pre></li>
<li><p>What data types does ABI support?</p>
<p>Generate ABI supported types and conversion rules as follows:</p></li>
</ol>
<table>
<thead>
<tr><th>Type</th><th>ABI</th></tr>
</thead>
<tbody>
<tr><td>bool</td><td>bool</td></tr>
<tr><td>uint8_t</td><td>uint8</td></tr>
<tr><td>uint16_t</td><td>uint16</td></tr>
<tr><td>uint32_t</td><td>uint32</td></tr>
<tr><td>uint64_t</td><td>uint64</td></tr>
<tr><td>int8_t</td><td>int8</td></tr>
<tr><td>int16_t</td><td>int16</td></tr>
<tr><td>int32_t</td><td>int32</td></tr>
<tr><td>int64_t</td><td>int64</td></tr>
<tr><td>bytes</td><td>uint8[]</td></tr>
<tr><td>std::string</td><td>string</td></tr>
<tr><td>std::vector<T></td><td>T[]</td></tr>
<tr><td>std::array[T, N]</td><td>T[N]</td></tr>
<tr><td>std::pair&lt;T, U&gt;</td><td>pair&lt;T, U</td></tr>
<tr><td>std::set<T></td><td>set<T></td></tr>
<tr><td>std::map&lt;T, V&gt;</td><td>map&lt;T, V&gt;</td></tr>
<tr><td>std::list<T></td><td>list<T></td></tr>
<tr><td>FixedHash<N></td><td>FixedHash<N></td></tr>
<tr><td>u128</td><td>uint128</td></tr>
<tr><td>bigint</td><td>uint128</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="about-contract"></a><a href="#about-contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>About Contract</h3>
<ol>
<li><p>How to output contract debug logs in the <code>platon</code> process?</p>
<ul>
<li><p>Add <code>#undef NDEBUG</code> at the first line of contract codes, and must before
header file included.</p>
<pre><code class="hljs css language-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">undef</span> NDEBUG</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;platon/platon.hpp&gt;</span></span>

<span class="hljs-comment">//...</span>
</code></pre></li>
<li><p><code>platon</code> startup command specifies log level 4 and enable debug flag.</p>
<pre><code class="hljs css language-cpp">./platon --debug --verbosity <span class="hljs-number">4</span> ...
</code></pre></li>
</ul></li>
<li><p>How to write a contract can effectively reduce Gas consumption?</p>
<ul>
<li><p>Use reference arguments</p>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; str)</span> </span>{}
</code></pre></li>
<li><p>Return rvalue reference</p></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt;&amp;&amp; <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; v;
    <span class="hljs-comment">// ...</span>
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::move(v);
}
</code></pre>
<ul>
<li>Try not to apply for large blocks of memory</li>
</ul></li>
<li><p>What should I pay attention to when using <code>StorageType</code>?</p>
<ul>
<li>Should be initialized in <code>init()</code>
<pre><code class="hljs css language-cpp"> CONTRAT Hello : <span class="hljs-keyword">public</span> Contract {
 <span class="hljs-keyword">public</span>:
   <span class="hljs-function">ACTION <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>{
       s_.self() = <span class="hljs-string">"test"</span>;
   }
 <span class="hljs-keyword">private</span>:
   StorageType&lt;<span class="hljs-string">"test"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; s_;
 };
</code></pre></li>
</ul>
<pre><code class="hljs"><span class="hljs-bullet">
- </span>It is recommended to use a specialized type of <span class="hljs-code">`StorageType`</span> directly
<span class="hljs-bullet">
  + </span>Uint8
<span class="hljs-bullet">  + </span>Int8
<span class="hljs-bullet">  + </span>Uint16
<span class="hljs-bullet">  + </span>Int16
<span class="hljs-bullet">  + </span>Uint
<span class="hljs-bullet">  + </span>Int
<span class="hljs-bullet">  + </span>Uint64
<span class="hljs-bullet">  + </span>Int64
<span class="hljs-bullet">  + </span>String
<span class="hljs-bullet">  + </span>Vector
<span class="hljs-bullet">  + </span>Set
<span class="hljs-bullet">  + </span>Map
<span class="hljs-bullet">  + </span>Array
<span class="hljs-bullet">  + </span>Tuple
</code></pre></li>
<li><p>What is the difference between <code>StorageType</code> and <code>platon::db::Map</code>,
<code>platon::db::Array</code>?</p>
<p>From the underlying storage level, the implementation of <code>StorageType</code> is
serialized as a whole, and then stored in the database. <code>platon::db::Map</code>
and <code>platon::db::Array</code> serialize each element of the container as K/V is
stored to the database. For large-scale data, <code>platon::db::Map</code> and
<code>platon::db::Array</code> perform better.</p>
<p>When implementing a contract, a suitable storage structure should be
selected based on the size of the data.</p></li>
<li><p>RLP serialization/deserialization What C++ standard library types are
supported?</p>
<p>The following C ++ standard library types are supported:</p>
<ul>
<li>std::string</li>
<li>std::vector</li>
<li>std::map</li>
<li>std::list</li>
<li>std::array</li>
<li>std::set</li>
<li>std::pair</li>
<li>std::tuple</li>
</ul></li>
<li><p>How do custom types support RLP serialization/deserialization?</p>
<ul>
<li>Macro <code>PLATON_SERIALIZE</code> for common types</li>
</ul>
<pre><code class="hljs css language-cpp">   <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Base</span> {</span>
   <span class="hljs-keyword">int</span> a;
   <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> b;

   PLATON_SERIALIZE(Base, (a)(b));
   };
</code></pre>
<ul>
<li>The derived class uses the macro <code>PLATON_SERIALIZE_DERIVED</code>, and the base class also uses the macro <code>PLATON_SERIALIZE</code></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Derived</span> :</span> <span class="hljs-keyword">public</span> Base {
  <span class="hljs-keyword">int</span> c;
  <span class="hljs-keyword">int</span> d;

  PLATON_SERIALIZE_DERIVED(Derived, Base, (c)(d));
};
</code></pre></li>
</ol>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/EVM_Smart_Contract"><span class="arrow-prev">← </span><span>EVM Smart Contract</span></a><a class="docs-next button" href="/docs/en/Python_SDK"><span>Python SDK</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#getting-started">Getting Started</a><ul class="toc-headings"><li><a href="#introduction">Introduction</a></li><li><a href="#platon-truffle-introduction">Platon-truffle Introduction</a></li><li><a href="#create-helloworld-contract">Create HelloWorld Contract</a></li><li><a href="#compile-helloworld-contract">Compile HelloWorld Contract</a></li><li><a href="#deploly-helloworld-contract">Deploly HelloWorld Contract</a></li><li><a href="#call-helloworld-contract">Call HelloWorld Contract</a></li></ul></li><li><a href="#development-costs">Development Costs</a><ul class="toc-headings"><li><a href="#summary">Summary</a></li><li><a href="#small-sized-contract">Small-sized Contract</a></li><li><a href="#medium-sized-contract">Medium-sized Contract</a></li><li><a href="#large-sized-contract">Large-sized Contract</a></li></ul></li><li><a href="#best-practice">Best Practice</a><ul class="toc-headings"><li><a href="#introduction-1">Introduction</a></li><li><a href="#reasonable-cost-setting">Reasonable Cost Setting</a></li><li><a href="#avoid-timeouts">Avoid Timeouts</a></li><li><a href="#punishment-for-illegal-operations">Punishment For Illegal Operations</a></li><li><a href="#cc-language-limit">C/C++ Language Limit</a></li><li><a href="#coding-standards">Coding Standards</a></li></ul></li><li><a href="#api">API</a><ul class="toc-headings"><li><a href="#block-api">block api</a></li><li><a href="#transaction-api">transaction api</a></li><li><a href="#account-api">account api</a></li><li><a href="#storage-api">storage api</a></li><li><a href="#contract-api">contract api</a></li><li><a href="#exception-api">exception api</a></li><li><a href="#other-api">other api</a></li></ul></li><li><a href="#faq">FAQ</a><ul class="toc-headings"><li><a href="#about-compile">About Compile</a></li><li><a href="#about-contract">About Contract</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.platon.network/en" class="nav-home"><img src="/docs/img/PlatON-logo2.svg" alt="PlatON" width="66" height="58"/></a><div><a href="https://www.platon.network/en">PlatON network</a><a href="https://latticex.foundation/home">Lattice.Foundation</a><a href="https://forum.latticex.foundation/">Forum</a></div><div class="gitstar"><a class="github-button" href="https://github.com/PlatONnetwork/PlatON-Go" data-color-scheme="no-preference: light; light: light; dark: light;" data-icon="octicon-star" data-size="small" data-show-count="true" aria-label="Star PlatONnetwork/PlatON-Go on GitHub">Star</a></div></section><section class="copyright">COPYRIGHT  © 2021 PLATON NETWORK.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c2ce4863993980eb049b661be250c773',
                indexName: 'platon',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":10}
              });
            </script></body></html>