<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Java SDK · PlatON</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## 开发库导入"/><meta name="docsearch:language" content="zh-CN"/><meta property="og:title" content="Java SDK · PlatON"/><meta property="og:type" content="website"/><meta property="og:url" content="https://luo-dahui.github.io//docs/"/><meta property="og:description" content="## 开发库导入"/><meta property="og:image" content="https://luo-dahui.github.io//docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://luo-dahui.github.io//docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/docs/img/logo.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@8.4.0/dist/mermaid.min.js"></script><script type="text/javascript" src="/docs/js/custom.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="https://www.platon.network/?lang=zh"><img class="logo" src="/docs/img/PlatON-logo.svg" alt="PlatON"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>中文</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/Java_SDK">English</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>API参考</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON开发者文档<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/">PlatON开发者文档</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON基础<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Overall_Solution">PlatON总体方案</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Economic_Model">PlatON经济方案</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Solution">PlatON共识方案</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Governance_Solution">PlatON治理方案</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Secure_Multi_Party_Computation">安全多方计算</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Verifiable_Computation">可验证计算</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON节点<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Validation_Introduce">PlatON验证节点介绍</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Network_Description">网络说明</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">My Example Subcategory</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Become_PlatON_Main_Verification">成为主网验证节点</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Become_PlatON_Dev_Verification">成为开发网验证节点</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">节点工具<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/OnLine_MTool_Manual">在线PlatON MTool教程</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/OffLine_MTool_Manual">离线PlatON MTool教程</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Command_Line_Tools">PlatON命令行工具</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">智能合约<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/EVM_Smart_Contract">EVM智能合约</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/WASM_Smart_Contract">WASM智能合约</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API参考<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Python_SDK">Python SDK</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/zh-CN/Java_SDK">Java SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/JS_SDK">JS SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Json_Rpc">JSON RPC</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">数据分析<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_BlockChain_Browser">区块链浏览器介绍</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">钱包<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/ATON-user-manual">ATON钱包用户使用手册</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">社区<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/community">社区项目</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Java SDK</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="开发库导入"></a><a href="#开发库导入" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>开发库导入</h2>
<p>根据构建工具的不同，使用以下方式将相关依赖项添加到项目中：</p>
<ul>
<li>使用要求jdk1.8以上.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="maven"></a><a href="#maven" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>maven</h3>
<blockquote>
<p>项目配置:</p>
</blockquote>
<pre><code class="hljs css language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>platon-public<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://sdk.platon.network/nexus/content/groups/public/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
</code></pre>
<blockquote>
<p>maven引用方式:</p>
</blockquote>
<pre><code class="hljs css language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.platon.sdk<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.15.1.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="gradle"></a><a href="#gradle" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>gradle</h3>
<blockquote>
<p>项目配置:</p>
</blockquote>
<pre><code class="hljs"><span class="hljs-section">repositories</span> {
    <span class="hljs-section">maven</span> { <span class="hljs-attribute">url</span> <span class="hljs-string">"https://sdk.platon.network/nexus/content/groups/public/"</span> }
}
</code></pre>
<blockquote>
<p>gradle引用方式:</p>
</blockquote>
<pre><code class="hljs"><span class="hljs-selector-tag">compile</span> "<span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.platon</span><span class="hljs-selector-class">.sdk</span><span class="hljs-selector-pseudo">:core</span><span class="hljs-selector-pseudo">:0.15.1.9"</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="基础api使用"></a><a href="#基础api使用" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基础api使用</h2>
<h3><a class="anchor" aria-hidden="true" id="bech32地址"></a><a href="#bech32地址" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bech32地址</h3>
<ul>
<li><strong>0x地址转bech32地址</strong></li>
</ul>
<pre><code class="hljs css language-java">NetworkParameters.init(<span class="hljs-number">20000L</span>, <span class="hljs-string">"atx"</span>);
String hex = <span class="hljs-string">"0x4f9c1a1efaa7d81ba1cabf07f2c3a5ac5cf4f818"</span>;
String bech32Address = Bech32.addressEncode(NetworkParameters.getHrp(), hex);
assertThat(bech32Address, is(<span class="hljs-string">"atx1f7wp58h65lvphgw2hurl9sa943w0f7qcdcev89"</span>));
</code></pre>
<ul>
<li><strong>bech32地址转0x地址</strong></li>
</ul>
<pre><code class="hljs css language-java">NetworkParameters.init(<span class="hljs-number">20000L</span>, <span class="hljs-string">"atx"</span>);
String bech32Address = <span class="hljs-string">"atx1f7wp58h65lvphgw2hurl9sa943w0f7qcdcev89"</span>;
String hex =  Bech32.addressDecodeHex(bech32Address);
assertThat(hex, is(<span class="hljs-string">"0x4f9c1a1efaa7d81ba1cabf07f2c3a5ac5cf4f818"</span>));
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="网络参数"></a><a href="#网络参数" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>网络参数</h3>
<ul>
<li><strong>初始化网络</strong></li>
</ul>
<blockquote>
<p>SDK已经内置PlatON网络。用户还可以初始化其它自定义网络，最后一个初始化的是当前网络.</p>
</blockquote>
<pre><code class="hljs css language-java">NetworkParameters.init(<span class="hljs-number">2000L</span>, <span class="hljs-string">"ABC"</span>);
</code></pre>
<ul>
<li><strong>选择当前网络</strong></li>
</ul>
<blockquote>
<p>如果用户初始化了多个网络，可以随时切换网络.</p>
</blockquote>
<pre><code class="hljs css language-java">NetworkParameters.selectNetwork(<span class="hljs-number">2000L</span>, <span class="hljs-string">"ABC"</span>);
</code></pre>
<blockquote>
<p>或者直接选择PlatON主网络</p>
</blockquote>
<pre><code class="hljs css language-java">NetworkParameters.selectPlatON();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="钱包相关"></a><a href="#钱包相关" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>钱包相关</h3>
<ul>
<li><strong>生成一个PlatON标准的钱包 n=16384 p=1 r=8</strong></li>
</ul>
<pre><code class="hljs css language-java">String fileName = WalletUtils.generatePlatONWalletFile(PASSWORD, tempDir);
</code></pre>
<ul>
<li><strong>生成一个标准的钱包 n=262144 p=1 r=8</strong></li>
</ul>
<pre><code class="hljs css language-java">String fileName = WalletUtils.generateNewWalletFile(PASSWORD, tempDir);
</code></pre>
<ul>
<li><strong>生成一个轻量的钱包 n=4096 p=6 r=8</strong></li>
</ul>
<pre><code class="hljs css language-java">String fileName = WalletUtils.generateLightNewWalletFile(PASSWORD, tempDir);
</code></pre>
<ul>
<li><strong>加载钱包</strong></li>
</ul>
<pre><code class="hljs css language-java">Credentials credentials = WalletUtils.loadCredentials(PASSWORD, <span class="hljs-keyword">new</span> File(tempDir, fileName));
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="凭证相关"></a><a href="#凭证相关" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>凭证相关</h3>
<ul>
<li><strong>从钱包文件创建凭证</strong></li>
</ul>
<pre><code class="hljs css language-java">Credentials credentials = WalletUtils.loadCredentials(PASSWORD, <span class="hljs-keyword">new</span> File(tempDir, fileName));
</code></pre>
<ul>
<li><strong>从私钥创建凭证</strong></li>
</ul>
<pre><code class="hljs css language-java">Credentials credentials = Credentials.create(<span class="hljs-string">"0xXXXXXXXXXXXXXX..."</span>);
</code></pre>
<ul>
<li><strong>获取不同网络的地址</strong></li>
</ul>
<pre><code class="hljs css language-java"><span class="hljs-keyword">long</span> chainId = <span class="hljs-number">100L</span>;
String bech32Address = credentials.getAddress(chainId);
</code></pre>
<ul>
<li><strong>获取当前网络参数的地址</strong></li>
</ul>
<pre><code class="hljs css language-java">String bech32Address = credentials.getAddress();  <span class="hljs-comment">// NetworkParameters.CurrentNetwork</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="基础rpc接口"></a><a href="#基础rpc接口" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基础RPC接口</h2>
<p>基础<code>API</code>包括网络，交易，查询，节点信息，经济模型参数配置等相关的接口，具体参考如下<code>API</code>使用说明。</p>
<h3><a class="anchor" aria-hidden="true" id="web3clientversion"></a><a href="#web3clientversion" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>web3ClientVersion</h3>
<blockquote>
<p>返回当前客户端版本</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, Web3ClientVersion&gt;
</code></pre>
<p>Web3ClientVersion属性中的string即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, Web3ClientVersion&gt; request = currentValidWeb3j.web3ClientVersion();
String version = request.send().getWeb3ClientVersion();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="web3sha3"></a><a href="#web3sha3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>web3Sha3</h3>
<blockquote>
<p>返回给定数据的keccak-256（不是标准sha3-256）</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>String ：加密前的数据</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, Web3Sha3&gt;
</code></pre>
<p>Web3Sha3属性中的string即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String date = <span class="hljs-string">""</span>;
Request &lt;?, Web3Sha3&gt; request = currentValidWeb3j.web3Sha3(date);
String resDate = request.send().getWeb3ClientVersion();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="netversion"></a><a href="#netversion" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>netVersion</h3>
<blockquote>
<p>返回当前网络ID</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, NetVersion&gt;
</code></pre>
<p>NetVersion属性中的string即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, NetVersion&gt; request = currentValidWeb3j.netVersion();
String version = request.send().getNetVersion();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="netlistening"></a><a href="#netlistening" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>netListening</h3>
<blockquote>
<p>如果客户端正在积极侦听网络连接，则返回true</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, NetListening&gt;
</code></pre>
<p>NetListening属性中的boolean即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, NetListening&gt; request = currentValidWeb3j.netListening();
<span class="hljs-keyword">boolean</span> req = request.send().isListening();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="netpeercount"></a><a href="#netpeercount" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>netPeerCount</h3>
<blockquote>
<p>返回当前连接到客户端的对等体的数量</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>​ 无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, NetPeerCount&gt;
</code></pre>
<p>NetPeerCount属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, NetPeerCount&gt; request = currentValidWeb3j.netPeerCount();
BigInteger req = request.send().getQuantity();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonprotocolversion"></a><a href="#platonprotocolversion" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonProtocolVersion</h3>
<blockquote>
<p>返回当前platon协议版本</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonProtocolVersion&gt;
</code></pre>
<p>PlatonProtocolVersion属性中的String即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonProtocolVersion&gt; request = currentValidWeb3j.platonProtocolVersion();
String req = request.send().getProtocolVersion();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonsyncing"></a><a href="#platonsyncing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonSyncing</h3>
<blockquote>
<p>返回一个对象，其中包含有关同步状态的数据或false</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonSyncing&gt;
</code></pre>
<p>PlatonSyncing属性中的String即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonSyncing&gt; request = currentValidWeb3j.platonSyncing();
<span class="hljs-keyword">boolean</span> req = request.send().isSyncing();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongasprice"></a><a href="#platongasprice" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGasPrice</h3>
<blockquote>
<p>返回gas当前价格</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonGasPrice&gt;
</code></pre>
<p>PlatonGasPrice属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonGasPrice&gt; request = currentValidWeb3j.platonGasPrice();
BigInteger req = request.send().getGasPrice();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonaccounts"></a><a href="#platonaccounts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonAccounts</h3>
<blockquote>
<p>返回客户端拥有的地址列表</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonAccounts&gt;
</code></pre>
<p>PlatonAccounts属性中的String数组即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonAccounts&gt; request = currentValidWeb3j.platonAccounts();
List&lt;String&gt; req = request.send().getAccounts();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonblocknumber"></a><a href="#platonblocknumber" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonBlockNumber</h3>
<blockquote>
<p>返回当前最高块高</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonBlockNumber&gt;
</code></pre>
<p>PlatonBlockNumber属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonBlockNumber&gt; request = currentValidWeb3j.platonBlockNumber();
BigInteger req = request.send().getBlockNumber();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongetbalance"></a><a href="#platongetbalance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetBalance</h3>
<blockquote>
<p>返回查询地址余额</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String ： address 需要查询的地址</li>
<li>DefaultBlockParameter:
<ul>
<li>DefaultBlockParameterName.LATEST  最新块高(默认)</li>
<li>DefaultBlockParameterName.EARLIEST 最低块高</li>
<li>DefaultBlockParameterName.PENDING 未打包交易</li>
<li>DefaultBlockParameter.valueOf(BigInteger  blockNumber) 指定块高</li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonGetBalance&gt;
</code></pre>
<p>PlatonGetBalance属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j web3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://localhost:6789"</span>));
String address = <span class="hljs-string">""</span>;
Request&lt;?, PlatonGetBalance&gt; request = web3j.platonGetBalance(address,DefaultBlockParameterName.LATEST);
BigInteger req = request.send().getBalance();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongetstorageat"></a><a href="#platongetstorageat" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetStorageAt</h3>
<blockquote>
<p>从给定地址的存储位置返回值</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String : address  存储地址</li>
<li>BigInteger: position 存储器中位置的整数</li>
<li>DefaultBlockParameter:
<ul>
<li>DefaultBlockParameterName.LATEST  最新块高(默认)</li>
<li>DefaultBlockParameterName.EARLIEST 最低块高</li>
<li>DefaultBlockParameterName.PENDING 未打包交易</li>
<li>DefaultBlockParameter.valueOf(BigInteger blockNumber) 指定块高</li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonGetStorageAt&gt;
</code></pre>
<p>PlatonGetStorageAt属性中的String即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String address = <span class="hljs-string">""</span>;
Request &lt;?, PlatonGetStorageAt&gt; request = currentValidWeb3j.platonGetStorageAt(address ,BigInteger.ZERO,DefaultBlockParameterName.LATEST );
String req = request.send().getData();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongetblocktransactioncountbyhash"></a><a href="#platongetblocktransactioncountbyhash" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetBlockTransactionCountByHash</h3>
<blockquote>
<p>根据区块hash查询区块中交易个数</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String : blockHash 区块hash</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonGetBlockTransactionCountByHash&gt;
</code></pre>
<p>PlatonGetBlockTransactionCountByHash属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String blockhash = <span class="hljs-string">""</span>;
Request &lt;?, PlatonGetBlockTransactionCountByHash&gt; request = currentValidWeb3j.platonGetBlockTransactionCountByHash(blockhash);
BigInteger req = request.send().getTransactionCount();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongettransactioncount"></a><a href="#platongettransactioncount" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetTransactionCount</h3>
<blockquote>
<p>根据地址查询该地址发送的交易个数</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String : address 查询地址</li>
<li>DefaultBlockParameter:
<ul>
<li>DefaultBlockParameterName.LATEST  最新块高(默认)</li>
<li>DefaultBlockParameterName.EARLIEST 最低块高</li>
<li>DefaultBlockParameterName.PENDING 未打包交易</li>
<li>DefaultBlockParameter.valueOf(BigInteger blockNumber) 指定块高</li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonGetTransactionCount&gt;
</code></pre>
<p>PlatonGetTransactionCount属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String address = <span class="hljs-string">""</span>;
Request &lt;?, PlatonGetTransactionCount&gt; request = currentValidWeb3j.platonGetTransactionCount(address,DefaultBlockParameterName.LATEST);
BigInteger req = request.send().getTransactionCount();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongetblocktransactioncountbynumber"></a><a href="#platongetblocktransactioncountbynumber" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetBlockTransactionCountByNumber</h3>
<blockquote>
<p>根据区块块高，返回块高中的交易总数</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>DefaultBlockParameter:
<ul>
<li>DefaultBlockParameterName.LATEST  最新块高(默认)</li>
<li>DefaultBlockParameterName.EARLIEST 最低块高</li>
<li>DefaultBlockParameterName.PENDING 未打包交易</li>
<li>DefaultBlockParameter.valueOf(BigInteger blockNumber) 指定块高</li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonGetBlockTransactionCountByNumber&gt;
</code></pre>
<p>PlatonGetBlockTransactionCountByNumber属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonGetBlockTransactionCountByNumber&gt; request = currentValidWeb3j.platonGetBlockTransactionCountByNumber(DefaultBlockParameterName.LATEST);
BigInteger req = request.send().getTransactionCount();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongetcode"></a><a href="#platongetcode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetCode</h3>
<blockquote>
<p>返回给定地址的代码</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><p>String ： address 地址/合约</p></li>
<li><p>DefaultBlockParameter:</p>
<ul>
<li>DefaultBlockParameterName.LATEST  最新块高(默认)</li>
<li>DefaultBlockParameterName.EARLIEST 最低块高</li>
<li>DefaultBlockParameterName.PENDING 未打包交易</li>
<li>DefaultBlockParameter.valueOf(BigInteger blockNumber) 指定块高</li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonGetCode&gt;
</code></pre>
<p>PlatonGetCode属性中的String即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String address = <span class="hljs-string">""</span>;
Request &lt;?, PlatonGetCode&gt; request = currentValidWeb3j.platonGetCode(address,DefaultBlockParameterName.LATEST);
String req = request.send().getCode();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonsign"></a><a href="#platonsign" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonSign</h3>
<blockquote>
<p>数据签名</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String ： address   地址</li>
<li>String :  sha3HashOfDataToSign  待签名数据</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonSign&gt;
</code></pre>
<p>PlatonSign属性中的String即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String address = <span class="hljs-string">""</span>;
String sha3HashOfDataToSign   = <span class="hljs-string">""</span>;
Request &lt;?, PlatonSign&gt; request = currentValidWeb3j.platonSign(address,DefaultBlockParameterName.LATEST);
String req = request.send().getSignature();
</code></pre>
<p>备注：地址必须提前先解锁</p>
<h3><a class="anchor" aria-hidden="true" id="platonsendtransaction"></a><a href="#platonsendtransaction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonSendTransaction</h3>
<blockquote>
<p>发送服务代签名交易</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>Transaction : Transaction: 交易结构
<ul>
<li>String : from : 交易发送地址</li>
<li>String : to : 交易接收方地址</li>
<li>BigInteger ： gas ：  本次交易gas用量上限</li>
<li>BigInteger ： gasPrice ： gas价格</li>
<li>BigInteger ：value ： 转账金额</li>
<li>String ：data ： 上链数据</li>
<li>BigInteger ：nonce ： 交易唯一性标识
<ul>
<li>调用platonGetTransactionCount，获取from地址作为参数，获取到该地址的已发送交易总数</li>
<li>每次使用该地址nonce +1</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonSendTransaction&gt;
</code></pre>
<p>PlatonSendTransaction属性中的String即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Transaction transaction = <span class="hljs-keyword">new</span> Transaction(<span class="hljs-string">"from"</span>,<span class="hljs-string">"to"</span>,BigInteger.ZERO,BigInteger.ZERO,BigInteger.ZERO,<span class="hljs-string">"data "</span>,BigInteger.ONE);
Request &lt;?, PlatonSendTransaction&gt; request = currentValidWeb3j.platonSendTransaction(transaction);
String req = request.send().getTransactionHash();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonsendrawtransaction"></a><a href="#platonsendrawtransaction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonSendRawTransaction</h3>
<blockquote>
<p>发送交易</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String : data : 钱包签名后数据</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonSendTransaction&gt;
</code></pre>
<p>PlatonSendTransaction属性中的String即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String  data = <span class="hljs-string">""</span>;
Request &lt;?, PlatonSendTransaction&gt; request = currentValidWeb3j.platonSendRawTransaction(data);
String req = request.send().getTransactionHash();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platoncall"></a><a href="#platoncall" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonCall</h3>
<blockquote>
<p>执行一个消息调用交易，消息调用交易直接在节点旳VM中执行而 不需要通过区块链的挖矿来执行</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>Transaction : Transaction: 交易结构
<ul>
<li>String : from : 交易发送地址</li>
<li>String : to : 交易接收方地址</li>
<li>BigInteger ： gas ：  本次交易gas用量上限</li>
<li>BigInteger ： gasPrice ： gas价格</li>
<li>BigInteger ：value ： 转账金额</li>
<li>String ：data ： 上链数据</li>
<li>BigInteger ：nonce ： 交易唯一性标识
<ul>
<li>调用platonGetTransactionCount，获取from地址作为参数，获取到该地址的已发送交易总数</li>
<li>每次使用该地址nonce +1</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonCall&gt;
</code></pre>
<p>PlatonCall属性中的String即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-javas">Web3j platonWeb3j = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Web3j</span>.</span></span>build(<span class="hljs-keyword">new</span> <span class="hljs-constructor">HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>)</span>);
Transaction transaction = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Transaction(<span class="hljs-string">"from"</span>,<span class="hljs-string">"to"</span>,BigInteger.ZERO,BigInteger.ZERO,BigInteger.ZERO,<span class="hljs-string">"data "</span>,BigInteger.ONE)</span>;
Request &lt;?, PlatonSendTransaction&gt; request = currentValidWeb3j.platon<span class="hljs-constructor">Call(<span class="hljs-params">transaction</span>)</span>;
String req = request.send<span class="hljs-literal">()</span>.get<span class="hljs-constructor">Value()</span>;
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonestimategas"></a><a href="#platonestimategas" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonEstimateGas</h3>
<blockquote>
<p>估算合约方法gas用量</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>Transaction : Transaction: 交易结构
<ul>
<li>String : from : 交易发送地址</li>
<li>String : to : 交易接收方地址</li>
<li>BigInteger ： gas ：  本次交易gas用量上限</li>
<li>BigInteger ： gasPrice ： gas价格</li>
<li>BigInteger ：value ： 转账金额</li>
<li>String ：data ： 上链数据</li>
<li>BigInteger ：nonce ： 交易唯一性标识
<ul>
<li>调用platonGetTransactionCount，获取from地址作为参数，获取到该地址的已发送交易总数</li>
<li>每次使用该地址nonce +1</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonEstimateGas&gt;
</code></pre>
<p>PlatonEstimateGas属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Transaction transaction = <span class="hljs-keyword">new</span> Transaction(<span class="hljs-string">"from"</span>,<span class="hljs-string">"to"</span>,BigInteger.ZERO,BigInteger.ZERO,BigInteger.ZERO,<span class="hljs-string">"data "</span>,BigInteger.ONE);
Request &lt;?, PlatonEstimateGas&gt; request = currentValidWeb3j.platonEstimateGas(transaction);
BigInteger req = request.send().getAmountUsed();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongetblockbyhash"></a><a href="#platongetblockbyhash" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetBlockByHash</h3>
<blockquote>
<p>根据区块hash查询区块信息</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String ： blockHash  区块hash</li>
<li>boolean :
<ul>
<li>true ： 区块中带有完整的交易列表</li>
<li>false： 区块中只带交易hash列表</li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonBlock&gt;
</code></pre>
<p>PlatonBlock属性中的Block即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String blockHash  = <span class="hljs-string">""</span>;

Request &lt;?, PlatonBlock&gt; request = currentValidWeb3j.platonGetBlockByHash(blockHash,<span class="hljs-keyword">true</span>);
Block req = request.send().getBlock();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongetblockbynumber"></a><a href="#platongetblockbynumber" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetBlockByNumber</h3>
<blockquote>
<p>根据区块高度查询区块信息</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>DefaultBlockParameter:
<ul>
<li>DefaultBlockParameterName.LATEST  最新块高(默认)</li>
<li>DefaultBlockParameterName.EARLIEST 最低块高</li>
<li>DefaultBlockParameterName.PENDING 未打包交易</li>
<li>DefaultBlockParameter.valueOf(BigInteger blockNumber) 指定块高</li>
</ul></li>
<li>boolean :
<ul>
<li>true ： 区块中带有完整的交易列表</li>
<li>false： 区块中只带交易hash列表</li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonBlock&gt;
</code></pre>
<p>PlatonBlock属性中的Block即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonBlock&gt; request = currentValidWeb3j.platonGetBlockByNumber(DefaultBlockParameter.valueOf(BigInteger.ZERO) ,<span class="hljs-keyword">true</span>);
Block req = request.send().getBlock();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongettransactionbyblockhashandindex"></a><a href="#platongettransactionbyblockhashandindex" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetTransactionByBlockHashAndIndex</h3>
<blockquote>
<p>根据区块hash查询区块中指定序号的交易</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String : blockHash  区块hash</li>
<li>BigInteger ： transactionIndex  交易在区块中的序号</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonTransaction&gt;
</code></pre>
<p>PlatonTransaction属性中的Transaction即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String blockHash    = <span class="hljs-string">""</span>;
Request &lt;?, PlatonTransaction&gt; request = currentValidWeb3j.platonGetTransactionByHash(blockHash,BigInteger.ZERO);
Optional&lt;Transaction&gt; req = request.send().getTransaction();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongettransactionbyblocknumberandindex"></a><a href="#platongettransactionbyblocknumberandindex" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetTransactionByBlockNumberAndIndex</h3>
<blockquote>
<p>根据区块高度查询区块中指定序号的交易</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>DefaultBlockParameter:
<ul>
<li>DefaultBlockParameterName.LATEST  最新块高(默认)</li>
<li>DefaultBlockParameterName.EARLIEST 最低块高</li>
<li>DefaultBlockParameterName.PENDING 未打包交易</li>
<li>DefaultBlockParameter.valueOf(BigInteger blockNumber) 指定块高</li>
</ul></li>
<li>BigInteger ： transactionIndex  交易在区块中的序号</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonTransaction&gt;
</code></pre>
<p>PlatonTransaction属性中的Transaction即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String blockHash    = <span class="hljs-string">""</span>;
Request &lt;?, PlatonTransaction&gt; request = currentValidWeb3j.platonGetTransactionByHash(DefaultBlockParameter.valueOf(BigInteger.ZERO) ,BigInteger.ZERO);
Optional&lt;Transaction&gt; req = request.send().getTransaction();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongettransactionreceipt"></a><a href="#platongettransactionreceipt" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetTransactionReceipt</h3>
<blockquote>
<p>根据交易hash查询交易回执</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String : transactionHash  交易hash</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonGetTransactionReceipt&gt;
</code></pre>
<p>PlatonGetTransactionReceipt属性中的Transaction即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String blockHash    = <span class="hljs-string">""</span>;
Request &lt;?, PlatonGetTransactionReceipt&gt; request = currentValidWeb3j.platonGetTransactionReceipt(DefaultBlockParameter.valueOf(BigInteger.ZERO) ,BigInteger.ZERO);
Optional&lt;TransactionReceipt&gt; req = request.send().getTransactionReceipt();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonnewfilter"></a><a href="#platonnewfilter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonNewFilter</h3>
<blockquote>
<p>创建一个过滤器，以便在客户端接收到匹配的whisper消息时进行通知</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>PlatonFilter:  PlatonFilter :
<ul>
<li>SingleTopic :</li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonFilter&gt;
</code></pre>
<p>PlatonFilter属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
org.web3j.protocol.core.methods.request.PlatonFilter filter = <span class="hljs-keyword">new</span> org.web3j.protocol.core.methods.request.PlatonFilter();
filter.addSingleTopic(<span class="hljs-string">""</span>);
Request &lt;?, PlatonFilter&gt; request = currentValidWeb3j.platonNewFilter(filter);
BigInteger req = request.send().getFilterId();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonnewblockfilter"></a><a href="#platonnewblockfilter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonNewBlockFilter</h3>
<blockquote>
<p>在节点中创建一个过滤器，以便当新块生成时进行通知。要检查状态是否变化</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonFilter&gt;
</code></pre>
<p>PlatonFilter属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonFilter&gt; request = currentValidWeb3j.platonNewBlockFilter();
BigInteger req = request.send().getFilterId();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonnewpendingtransactionfilter"></a><a href="#platonnewpendingtransactionfilter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonNewPendingTransactionFilter</h3>
<blockquote>
<p>在节点中创建一个过滤器，以便当产生挂起交易时进行通知。 要检查状态是否发生变化</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonFilter&gt;
</code></pre>
<p>PlatonFilter属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonFilter&gt; request = currentValidWeb3j.platonNewPendingTransactionFilter();
BigInteger req = request.send().getFilterId();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonnewpendingtransactionfilter-1"></a><a href="#platonnewpendingtransactionfilter-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonNewPendingTransactionFilter</h3>
<blockquote>
<p>写在具有指定编号的过滤器。当不在需要监听时，总是需要执行该调用</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonFilter&gt;
</code></pre>
<p>PlatonFilter属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonFilter&gt; request = currentValidWeb3j.platonNewPendingTransactionFilter();
BigInteger req = request.send().getFilterId();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonuninstallfilter"></a><a href="#platonuninstallfilter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonUninstallFilter</h3>
<blockquote>
<pre><code class="hljs">写在具有指定编号的过滤器。当不在需要监听时，总是需要执行该调用
</code></pre>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>BigInteger  : filterId :  过滤器编号</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonUninstallFilter&gt;
</code></pre>
<p>PlatonUninstallFilter属性中的boolean即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonUninstallFilter&gt; request = currentValidWeb3j.platonNewPendingTransactionFilter(BigInteger.ZERO);
<span class="hljs-keyword">boolean</span> req = request.send().isUninstalled();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongetfilterchanges"></a><a href="#platongetfilterchanges" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetFilterChanges</h3>
<blockquote>
<p>轮询指定的过滤器，并返回自上次轮询之后新生成的日志数组</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>BigInteger  : filterId :  过滤器编号</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonLog&gt;
</code></pre>
<p>PlatonLog属性中的LogResult数组即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonLog&gt; request = currentValidWeb3j.platonGetFilterChanges(BigInteger.ZERO);
List&lt;PlatonLog.LogResult&gt; req = request.send().getLogs();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongetfilterlogs"></a><a href="#platongetfilterlogs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetFilterLogs</h3>
<blockquote>
<pre><code class="hljs">轮询指定的过滤器，并返回自上次轮询之后新生成的日志数组。
</code></pre>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>BigInteger  : filterId :  过滤器编号</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonLog&gt;
</code></pre>
<p>PlatonLog属性中的LogResult数组即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request &lt;?, PlatonLog&gt; request = currentValidWeb3j.platonGetFilterLogs(BigInteger.ZERO);
List&lt;PlatonLog.LogResult&gt; req = request.send().getLogs();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platongetlogs"></a><a href="#platongetlogs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonGetLogs</h3>
<blockquote>
<p>返回指定过滤器中的所有日志</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>PlatonFilter:  PlatonFilter :
<ul>
<li>SingleTopic :</li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonLog&gt;
</code></pre>
<p>PlatonLog属性中的BigInteger即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
org.web3j.protocol.core.methods.request.PlatonFilter filter = <span class="hljs-keyword">new</span> org.web3j.protocol.core.methods.request.PlatonFilter();
filter.addSingleTopic(<span class="hljs-string">""</span>);
Request &lt;?, PlatonLog&gt; request = currentValidWeb3j.platonGetLogs(filter);
List&lt;LogResult&gt; = request.send().getLogs();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonpendingtransactions"></a><a href="#platonpendingtransactions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonPendingTransactions</h3>
<blockquote>
<p>查询待处理交易</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonPendingTransactions&gt;
</code></pre>
<p>PlatonPendingTransactions属性中的transactions即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request&lt;?, PlatonPendingTransactions&gt; req = currentValidWeb3j.platonPendingTx();
EthPendingTransactions res = req.send();
List&lt;Transaction&gt; transactions = res.getTransactions();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="dbputstring"></a><a href="#dbputstring" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>dbPutString</h3>
<blockquote>
<p>在本地数据库中存入字符串。</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String :  databaseName :   数据库名称</li>
<li>String : keyName :  键名</li>
<li>String : stringToStore :   要存入的字符串</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, DbPutString&gt;
</code></pre>
<p>DbPutString属性中的boolean即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String databaseName;
String keyName;
String stringToStore;
Request &lt;?, DbPutString&gt; request = currentValidWeb3j.dbPutString(databaseName,keyName,stringToStore);
List&lt;DbPutString&gt; = request.send().valueStored();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="dbgetstring"></a><a href="#dbgetstring" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>dbGetString</h3>
<blockquote>
<p>从本地数据库读取字符串</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String :  databaseName :   数据库名称</li>
<li>String : keyName :  键名</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, DbGetString&gt;
</code></pre>
<p>DbGetString属性中的String即为对应存储数据</p>
<p><strong>示例</strong></p>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String databaseName;
String keyName;
Request &lt;?, DbGetString&gt; request = currentValidWeb3j.dbGetString(databaseName,keyName);
String req  = request.send().getStoredValue();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="dbputhex"></a><a href="#dbputhex" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>dbPutHex</h3>
<blockquote>
<pre><code class="hljs">将二进制数据写入本地数据库
</code></pre>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String :  databaseName :   数据库名称</li>
<li>String : keyName :  键名</li>
<li>String : dataToStore :   要存入的二进制数据</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, DbPutHex&gt;
</code></pre>
<p>DbPutHex属性中的boolean即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String databaseName;
String keyName;
String dataToStore;
Request &lt;?, DbPutHex&gt; request = currentValidWeb3j.dbPutHex(databaseName,keyName,dataToStore);
<span class="hljs-keyword">boolean</span> req  = request.send().valueStored();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="dbgethex"></a><a href="#dbgethex" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>dbGetHex</h3>
<blockquote>
<pre><code class="hljs">从本地数据库中读取二进制数据
</code></pre>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li>String :  databaseName :   数据库名称</li>
<li>String : keyName :  键名</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, DbGetHex&gt;
</code></pre>
<p>DbGetHex属性中的String即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
String databaseName;
String keyName;
Request &lt;?, DbGetHex&gt; request = currentValidWeb3j.dbGetHex(databaseName,keyName);
String req  = request.send().getStoredValue();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="platonevidences"></a><a href="#platonevidences" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platonEvidences</h3>
<blockquote>
<p>返回双签举报数据</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>出参</strong></p></li>
</ul>
<table>
<thead>
<tr><th>参数</th><th>类型</th><th>描述</th></tr>
</thead>
<tbody>
<tr><td>jsonrpc</td><td>string</td><td>rpc版本号</td></tr>
<tr><td>id</td><td>int</td><td>id序号</td></tr>
<tr><td>result</td><td>string</td><td>证据字符串</td></tr>
</tbody>
</table>
<p>result为证据字符串，包含3种证据类型，分别是：duplicatePrepare、duplicateVote、duplicateViewchange
每种类型包含多个证据，所以是数组结构，解析时需注意。</p>
<ul>
<li><strong>duplicatePrepare</strong></li>
</ul>
<pre><code class="hljs css language-text">{
  "prepareA": {
    "epoch": 0,            //共识轮epoch值
    "viewNumber": 0,       //共识轮view值
    "blockHash": "0x06abdbaf7a0a5cb1deddf69de5b23d6bc3506fdadbdcfc32333a1220da1361ba",    //区块hash
    "blockNumber": 16013,       //区块number
    "blockIndex": 0,        //区块在一轮view中的索引值
    "blockData": "0xe1a507a57c1e9d8cade361fefa725d7a271869aea7fd923165c872e7c0c2b3f2",     //区块rlp编码值
    "validateNode": {
      "index": 0,     //验证人在一轮epoch中的索引值
      "address": "0xc30671be006dcbfd6d36bdf0dfdf95c62c23fad4",    //验证人地址
      "nodeId": "19f1c9aa5140bd1304a3260de640a521c33015da86b88cd2ecc83339b558a4d4afa4bd0555d3fa16ae43043aeb4fbd32c92b34de1af437811de51d966dc64365",    //验证人nodeID
      "blsPubKey": "f93a2381b4cbb719a83d80a4feb93663c7aa026c99f64704d6cc464ae1239d3486d0cf6e0b257ac02d5dd3f5b4389907e9d1d5b434d784bfd7b89e0822148c7f5b8e1d90057a5bbf4a0abf88bbb12902b32c94ca390a2e16eea8132bf8c2ed8f"    //验证人bls公钥
    },
    "signature": "0x1afdf43596e07d0f5b59ae8f45d30d21a9c5ac793071bfb6382ae151081a901fd3215e0b9645040c9071d0be08eb200900000000000000000000000000000000"     //消息签名
  },
  "prepareB": {
    "epoch": 0,
    "viewNumber": 0,
    "blockHash": "0x74e3744545e95f4defc82d731504a39994b8013575491f83f7520cf796347b8f",
    "blockNumber": 16013,
    "blockIndex": 0,
    "blockData": "0xb11be0a3634e29281403d690c1a0bc38e96ea34b3aea0b0da2883800f610c3b7",
    "validateNode": {
      "index": 0,
      "address": "0xc30671be006dcbfd6d36bdf0dfdf95c62c23fad4",
      "nodeId": "19f1c9aa5140bd1304a3260de640a521c33015da86b88cd2ecc83339b558a4d4afa4bd0555d3fa16ae43043aeb4fbd32c92b34de1af437811de51d966dc64365",
      "blsPubKey": "f93a2381b4cbb719a83d80a4feb93663c7aa026c99f64704d6cc464ae1239d3486d0cf6e0b257ac02d5dd3f5b4389907e9d1d5b434d784bfd7b89e0822148c7f5b8e1d90057a5bbf4a0abf88bbb12902b32c94ca390a2e16eea8132bf8c2ed8f"
    },
    "signature": "0x16795379ca8e28953e74b23d1c384dda760579ad70c5e490225403664a8d4490cabb1dc64a2e0967b5f0c1e9dbd6578c00000000000000000000000000000000"
  }
}
</code></pre>
<ul>
<li><strong>duplicateVote</strong></li>
</ul>
<pre><code class="hljs css language-text">{
  "voteA": {
    "epoch": 0,   //共识轮epoch值
    "viewNumber": 0,    //共识轮view值
    "blockHash": "0x58b5976a471f86c4bd198984827bd594dce6ac861ef15bbbb1555e7b2edc2fc9",   //区块hash
    "blockNumber": 16013,   //区块number
    "blockIndex": 0,    //区块在一轮view中的索引值
    "validateNode": {
      "index": 0,    //验证人在一轮epoch中的索引值
      "address": "0xc30671be006dcbfd6d36bdf0dfdf95c62c23fad4",  //验证人地址
      "nodeId": "19f1c9aa5140bd1304a3260de640a521c33015da86b88cd2ecc83339b558a4d4afa4bd0555d3fa16ae43043aeb4fbd32c92b34de1af437811de51d966dc64365",   //验证人nodeID
      "blsPubKey": "f93a2381b4cbb719a83d80a4feb93663c7aa026c99f64704d6cc464ae1239d3486d0cf6e0b257ac02d5dd3f5b4389907e9d1d5b434d784bfd7b89e0822148c7f5b8e1d90057a5bbf4a0abf88bbb12902b32c94ca390a2e16eea8132bf8c2ed8f"    //验证人bls公钥
    },
    "signature": "0x071350aed09f226e218715357ffb7523ba41271dd1d82d4dded451ee6509cd71f6888263b0b14bdfb33f88c04f76790d00000000000000000000000000000000"    //消息签名
  },
  "voteB": {
    "epoch": 0,
    "viewNumber": 0,
    "blockHash": "0x422515ca50b9aa01c46dffee53f3bef0ef29884bfd014c3b6170c05d5cf67696",
    "blockNumber": 16013,
    "blockIndex": 0,
    "validateNode": {
      "index": 0,
      "address": "0xc30671be006dcbfd6d36bdf0dfdf95c62c23fad4",
      "nodeId": "19f1c9aa5140bd1304a3260de640a521c33015da86b88cd2ecc83339b558a4d4afa4bd0555d3fa16ae43043aeb4fbd32c92b34de1af437811de51d966dc64365",
      "blsPubKey": "f93a2381b4cbb719a83d80a4feb93663c7aa026c99f64704d6cc464ae1239d3486d0cf6e0b257ac02d5dd3f5b4389907e9d1d5b434d784bfd7b89e0822148c7f5b8e1d90057a5bbf4a0abf88bbb12902b32c94ca390a2e16eea8132bf8c2ed8f"
    },
    "signature": "0x9bf6c01643058c0c828c35dc3277666edd087cb439c5f6a78ba065d619f812fb42c5ee881400a7a42dd8366bc0c5c88100000000000000000000000000000000"
  }
}
</code></pre>
<ul>
<li><strong>duplicateViewchange</strong></li>
</ul>
<pre><code class="hljs css language-text">{
  "viewA": {
    "epoch": 0,
    "viewNumber": 0,
    "blockHash": "0xb84a40bb954e579716e7a6b9021618f6b25cdb0e0dd3d8c2c0419fe835640f36",  //区块hash
    "blockNumber": 16013,
    "validateNode": {
      "index": 0,
      "address": "0xc30671be006dcbfd6d36bdf0dfdf95c62c23fad4",
      "nodeId": "19f1c9aa5140bd1304a3260de640a521c33015da86b88cd2ecc83339b558a4d4afa4bd0555d3fa16ae43043aeb4fbd32c92b34de1af437811de51d966dc64365",
      "blsPubKey": "f93a2381b4cbb719a83d80a4feb93663c7aa026c99f64704d6cc464ae1239d3486d0cf6e0b257ac02d5dd3f5b4389907e9d1d5b434d784bfd7b89e0822148c7f5b8e1d90057a5bbf4a0abf88bbb12902b32c94ca390a2e16eea8132bf8c2ed8f"
    },
    "signature": "0x9c8ba2654c6b8334b1b94d3b421c5901242973afcb9d87c4ab6d82c2aee8e212a08f2ae000c9203f05f414ca578cda9000000000000000000000000000000000",
    "blockEpoch": 0,
    "blockView": 0
  },
  "viewB": {
    "epoch": 0,
    "viewNumber": 0,
    "blockHash": "0x2a60ed6f04ccb9e468fbbfdda98b535653c42a16f1d7ccdfbd5d73ae1a2f4bf1",
    "blockNumber": 16013,
    "validateNode": {
      "index": 0,
      "address": "0xc30671be006dcbfd6d36bdf0dfdf95c62c23fad4",
      "nodeId": "19f1c9aa5140bd1304a3260de640a521c33015da86b88cd2ecc83339b558a4d4afa4bd0555d3fa16ae43043aeb4fbd32c92b34de1af437811de51d966dc64365",
      "blsPubKey": "f93a2381b4cbb719a83d80a4feb93663c7aa026c99f64704d6cc464ae1239d3486d0cf6e0b257ac02d5dd3f5b4389907e9d1d5b434d784bfd7b89e0822148c7f5b8e1d90057a5bbf4a0abf88bbb12902b32c94ca390a2e16eea8132bf8c2ed8f"
    },
    "signature": "0xed69663fb943ce0e0dd90df1b65e96514051e82df48b3867516cc7e505234b9ca707fe43651870d9141354a7a993e09000000000000000000000000000000000",
    "blockEpoch": 0,
    "blockView": 0
  }
}
</code></pre>
<ul>
<li><strong>返回值</strong></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, PlatonEvidences&gt;
</code></pre>
<p>PlatonEvidences属性中的Evidences对象即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request&lt;?, PlatonEvidences&gt; req = currentValidWeb3j.platonEvidences();
Evidences evidences = req.send().getEvidences();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getprogramversion"></a><a href="#getprogramversion" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getProgramVersion</h3>
<blockquote>
<p>获取代码版本</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, AdminProgramVersion&gt;
</code></pre>
<p>AdminProgramVersion属性中的ProgramVersion对象即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request&lt;?, AdminProgramVersion&gt; req = currentValidWeb3j.getProgramVersion();
ProgramVersion programVersion = req.send().getAdminProgramVersion();
</code></pre>
<ul>
<li><strong>ProgramVersion 对象解析</strong>
<ul>
<li>BigInteger ： version ： 代码版本</li>
<li>String ： sign ： 代码版本签名</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="getschnorrnizkprove"></a><a href="#getschnorrnizkprove" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getSchnorrNIZKProve</h3>
<blockquote>
<p>获取bls的证明</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, AdminSchnorrNIZKProve&gt;
</code></pre>
<p>AdminSchnorrNIZKProve属性中的String即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request&lt;?, AdminProgramVersion&gt; req = currentValidWeb3j.getSchnorrNIZKProve();
String res = req.send().getAdminSchnorrNIZKProve();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="geteconomicconfig"></a><a href="#geteconomicconfig" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getEconomicConfig</h3>
<blockquote>
<p>获取PlatON参数配置</p>
</blockquote>
<ul>
<li><p><strong>参数</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">Request&lt;?, DebugEconomicConfig&gt;
</code></pre>
<p>DebugEconomicConfig属性中的String即为对应存储数据</p>
<ul>
<li><strong>示例</strong></li>
</ul>
<pre><code class="hljs css language-java">Web3j platonWeb3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://127.0.0.1:6789"</span>));
Request&lt;?, DebugEconomicConfig&gt; req = currentValidWeb3j.getEconomicConfig();
String debugEconomicConfig = req.send().getEconomicConfigStr();
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="系统合约调用"></a><a href="#系统合约调用" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>系统合约调用</h2>
<p>系统接口主要包含经济模型和治理相关的合约接口：</p>
<ul>
<li>质押相关接口</li>
<li>委托相关接口</li>
<li>奖励相关接口</li>
<li>节点相关接口</li>
<li>治理相关接口</li>
<li>举报相关接口</li>
<li>锁仓相关接口</li>
</ul>
<p>如上接口的介绍和使用，请参考如下接口说明。</p>
<h3><a class="anchor" aria-hidden="true" id="质押相关接口"></a><a href="#质押相关接口" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>质押相关接口</h3>
<blockquote>
<p>质押相关的接口：主要包括节点质押、修改质押信息、解除质押、查询质押信息等接口</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="加载质押合约"></a><a href="#加载质押合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>加载质押合约</h4>
<pre><code class="hljs css language-java"><span class="hljs-comment">//Java 8</span>
Web3j web3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://localhost:6789"</span>));
String chainId = <span class="hljs-string">"100"</span>;
Credentials credentials = WalletUtils.loadCredentials(<span class="hljs-string">"password"</span>, <span class="hljs-string">"/path/to/walletfile"</span>);
StakingContract stakingContract = StakingContract.load(web3j, credentials, chainId);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="接口说明"></a><a href="#接口说明" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>接口说明</h4>
<h5><a class="anchor" aria-hidden="true" id="staking"></a><a href="#staking" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>staking</strong></h5>
<blockquote>
<p>节点质押：适用于矿工，节点质押后才有机会参与共识，获得收益。质押前需要自己的节点接入网络，质押时rpc链接地址必须是当前需要质押的节点。如果质押成功，节点会出现在候选人列表中。</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：nodeId   节点id，16进制格式，即节点公钥，可以通过管理台查询（platon attach <a href="http://127.0.0.1:6789">http://127.0.0.1:6789</a> --exec &quot;<a href="http://admin.nodeInfo.id">admin.nodeInfo.id</a>&quot;）。</li>
<li>BigInteger：stakingAmount  质押的金额，单位VON，默认质押金额必须大于等于1000000LAT，该大小限制可以通过治理参数动态调整，可通过治理接口获得当前值（proposalContract.getGovernParamValue(&quot;staking&quot;, &quot;stakeThreshold&quot;)）。</li>
<li>StakingAmountType：stakingAmountType  表示使用账户自由金额还是账户的锁仓金额做质押，StakingAmountType.FREE_AMOUNT_TYPE：自由金额，StakingAmountType.RESTRICTING_AMOUNT_TYPE：锁仓金额</li>
<li>String：benifitAddress   收益账户，用于接收出块奖励和质押奖励的收益账户。</li>
<li>String：nodeName   节点的名称</li>
<li>String：externalId   外部Id(有长度限制，给第三方拉取节点描述的Id)，目前为keybase账户公钥，节点图标是通过该公钥获取。</li>
<li>String：webSite   节点的第三方主页(有长度限制，表示该节点的主页)</li>
<li>String：details   节点的描述(有长度限制，表示该节点的描述)</li>
<li>ProgramVersion：processVersion  程序的真实版本，通过治理rpc获取</li>
<li>String：blsPubKey   bls的公钥</li>
<li>String：blsProof    bls的证明，通过治理rpc获取</li>
<li>BigInteger：rewardPer   委托所得到的奖励分成比例，1=0.01%   10000=100%</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">String nodeId = <span class="hljs-string">"77fffc999d9f9403b65009f1eb27bae65774e2d8ea36f7b20a89f82642a5067557430e6edfe5320bb81c3666a19cf4a5172d6533117d7ebcd0f2c82055499050"</span>;
BigDecimal stakingAmount = Convert.toVon(<span class="hljs-string">"1000000"</span>, Unit.LAT);
StakingAmountType stakingAmountType = StakingAmountType.FREE_AMOUNT_TYPE;
String benifitAddress = <span class="hljs-string">"lax1qtp5fqtmudzge9aqt9rnzgdxv729pdq5vug5vt"</span>;
String externalId = <span class="hljs-string">""</span>;
String nodeName = <span class="hljs-string">"integration-node1"</span>;
String webSite = <span class="hljs-string">"https://www.platon.network/#/"</span>;
String details = <span class="hljs-string">"integration-node1-details"</span>;
String blsPubKey = <span class="hljs-string">"5ccd6b8c32f2713faa6c9a46e5fb61ad7b7400e53fabcbc56bdc0c16fbfffe09ad6256982c7059e7383a9187ad93a002a7cda7a75d569f591730481a8b91b5fad52ac26ac495522a069686df1061fc184c31771008c1fedfafd50ae794778811"</span>;
BigInteger rewardPer = BigInteger.valueOf(<span class="hljs-number">1000L</span>);

PlatonSendTransaction platonSendTransaction = stakingContract.stakingReturnTransaction(<span class="hljs-keyword">new</span> StakingParam.Builder()
        .setNodeId(nodeId)
        .setAmount(stakingAmount.toBigInteger())
        .setStakingAmountType(stakingAmountType)
        .setBenifitAddress(benifitAddress)
        .setExternalId(externalId)
        .setNodeName(nodeName)
        .setWebSite(webSite)
        .setDetails(details)
        .setBlsPubKey(blsPubKey)
        .setProcessVersion(web3j.getProgramVersion().send().getAdminProgramVersion())
        .setBlsProof(web3j.getSchnorrNIZKProve().send().getAdminSchnorrNIZKProve())
        .setRewardPer(rewardPer)
        .build()).send();
TransactionResponse baseResponse = stakingContract.getTransactionResponse(platonSendTransaction).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="unstaking"></a><a href="#unstaking" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>unStaking</strong></h5>
<blockquote>
<p>节点撤销质押(一次性发起全部撤销，多次到账)，成功后节点会从候选人列表移除。只能由该节点的质押钱包地址发起交易。</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：nodeId   节点id，16进制格式，即节点公钥，可以通过管理台查询（platon attach <a href="http://127.0.0.1:6789">http://127.0.0.1:6789</a> --exec &quot;<a href="http://admin.nodeInfo.id">admin.nodeInfo.id</a>&quot;）。</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">String nodeId = <span class="hljs-string">"77fffc999d9f9403b65009f1eb27bae65774e2d8ea36f7b20a89f82642a5067557430e6edfe5320bb81c3666a19cf4a5172d6533117d7ebcd0f2c82055499050"</span>;

PlatonSendTransaction platonSendTransaction = stakingContract.unStakingReturnTransaction(nodeId).send();
TransactionResponse baseResponse = stakingContract.getTransactionResponse(platonSendTransaction).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="updatestaking"></a><a href="#updatestaking" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>updateStaking</strong></h5>
<blockquote>
<p>修改质押信息，只能由该节点的质押钱包地址发起交易。</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：nodeId   节点id，16进制格式，即节点公钥，可以通过管理台查询（platon attach <a href="http://127.0.0.1:6789">http://127.0.0.1:6789</a> --exec &quot;<a href="http://admin.nodeInfo.id">admin.nodeInfo.id</a>&quot;）。</li>
<li>String：benifitAddress   收益账户，用于接收出块奖励和质押奖励的收益账户。</li>
<li>String：nodeName   节点的名称</li>
<li>String：externalId   外部Id(有长度限制，给第三方拉取节点描述的Id)，目前为keybase账户公钥，节点图标是通过该公钥获取。</li>
<li>String：webSite   节点的第三方主页(有长度限制，表示该节点的主页)</li>
<li>String：details   节点的描述(有长度限制，表示该节点的描述)</li>
<li>BigInteger：rewardPer   委托所得到的奖励分成比例，1=0.01%   10000=100%</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">String nodeId = <span class="hljs-string">"77fffc999d9f9403b65009f1eb27bae65774e2d8ea36f7b20a89f82642a5067557430e6edfe5320bb81c3666a19cf4a5172d6533117d7ebcd0f2c82055499050"</span>;
String benifitAddress = <span class="hljs-string">"lax1qtp5fqtmudzge9aqt9rnzgdxv729pdq5vug5vt"</span>;
String externalId = <span class="hljs-string">""</span>;
String nodeName = <span class="hljs-string">"integration-node1-u"</span>;
String webSite = <span class="hljs-string">"https://www.platon.network/#/"</span>;
String details = <span class="hljs-string">"integration-node1-details-u"</span>;
BigInteger rewardPer = BigInteger.valueOf(<span class="hljs-number">1000L</span>);

PlatonSendTransaction platonSendTransaction = stakingContract.updateStakingInfoReturnTransaction(<span class="hljs-keyword">new</span> UpdateStakingParam.Builder()
        .setBenifitAddress(benifitAddress)
        .setExternalId(externalId)
        .setNodeId(nodeId)
        .setNodeName(nodeName)
        .setWebSite(webSite)
        .setDetails(details)
        .setRewardPer(rewardPer)
        .build()).send();
TransactionResponse baseResponse = stakingContract.getTransactionResponse(platonSendTransaction).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="addstaking"></a><a href="#addstaking" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>addStaking</strong></h5>
<blockquote>
<p>增持质押，增加已质押节点质押金，只能由该节点的质押钱包地址发起交易。</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：nodeId   节点id，16进制格式，即节点公钥，可以通过管理台查询（platon attach <a href="http://127.0.0.1:6789">http://127.0.0.1:6789</a> --exec &quot;<a href="http://admin.nodeInfo.id">admin.nodeInfo.id</a>&quot;）。</li>
<li>StakingAmountType：stakingAmountType  表示使用账户自由金额还是账户的锁仓金额做质押，StakingAmountType.FREE_AMOUNT_TYPE：自由金额，StakingAmountType.RESTRICTING_AMOUNT_TYPE：锁仓金额</li>
<li>BigInteger：addStakingAmount   增持的金额，单位VON</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">String nodeId = <span class="hljs-string">"77fffc999d9f9403b65009f1eb27bae65774e2d8ea36f7b20a89f82642a5067557430e6edfe5320bb81c3666a19cf4a5172d6533117d7ebcd0f2c82055499050"</span>;
StakingAmountType stakingAmountType = StakingAmountType.FREE_AMOUNT_TYPE;
BigDecimal addStakingAmount = Convert.toVon(<span class="hljs-string">"4000000"</span>, Unit.LAT);

PlatonSendTransaction platonSendTransaction = stakingContract.addStakingReturnTransaction(nodeId, stakingAmountType, addStakingAmount.toBigInteger()).send();
TransactionResponse baseResponse = stakingContract.getTransactionResponse(platonSendTransaction).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getstakinginfo"></a><a href="#getstakinginfo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getStakingInfo</strong></h5>
<blockquote>
<p>查询当前节点的质押信息</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：nodeId   节点id，16进制格式，即节点公钥，可以通过管理台查询（platon attach <a href="http://127.0.0.1:6789">http://127.0.0.1:6789</a> --exec &quot;<a href="http://admin.nodeInfo.id">admin.nodeInfo.id</a>&quot;）。</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;Node&gt; baseRespons
</code></pre>
<ul>
<li>CallResponse<Node>描述
<ul>
<li>int： code   结果标识，0为成功</li>
<li>Node：data   Node对象数据</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><p><strong>Node</strong>：保存当前节点质押信息的对象</p>
<ul>
<li><p>String：benifitAddress   收益账户，用于接收出块奖励和质押奖励的收益账户。</p></li>
<li><p>String：details  节点的描述(有长度限制，表示该节点的描述)</p></li>
<li><p>String：nodeId   节点id，16进制格式，即节点公钥，可以通过管理台查询（platon attach <a href="http://127.0.0.1:6789">http://127.0.0.1:6789</a> --exec &quot;<a href="http://admin.nodeInfo.id">admin.nodeInfo.id</a>&quot;）。</p></li>
<li><p>String：nodeName  节点的名称</p></li>
<li><p>BigInteger：programVersion  程序的真实版本，通过治理rpc获取</p></li>
<li><p>BigInteger：released   发起质押账户的自由金额的锁定期质押的VON</p></li>
<li><p>BigInteger：releasedHes   发起质押账户的自由金额的犹豫期质押的VON</p></li>
<li><p>BigInteger：restrictingPlan   发起质押账户的锁仓金额的锁定期质押的VON</p></li>
<li><p>BigInteger：restrictingPlanHes   发起质押账户的锁仓金额的犹豫期质押的VON</p></li>
<li><p>BigInteger：shares   当前候选人总共质押加被委托的VON数目</p></li>
<li><p>String：stakingAddress   发起质押时使用的账户(撤销质押时，VON会被退回该账户或者该账户的锁仓信息中)</p></li>
<li><p>BigInteger：stakingBlockNum    发起质押时的区块高度</p></li>
<li><p>BigInteger：stakingEpoch   当前变更质押金额时的结算周期</p></li>
<li><p>BigInteger：stakingTxIndex   发起质押时的交易索引</p></li>
<li><p>BigInteger：status   候选人的状态，0: 节点可用，1: 节点不可用 ，2:节点出块率低但没有达到移除条件的，4:节点的VON不足最低质押门槛，8:节点被举报双签，16:节点出块率低且达到移除条件, 32: 节点主动发起撤销</p></li>
<li><p>BigInteger：validatorTerm   验证人的任期</p></li>
<li><p>String：website   节点的第三方主页(有长度限制，表示该节点的主页)</p></li>
<li><p>BigInteger：delegateEpoch  节点最后一次被委托的结算周期</p></li>
<li><p>BigInteger：delegateTotal  节点被委托的生效总数量</p></li>
<li><p>BigInteger：delegateTotalHes  节点被委托的未生效总数量</p></li>
<li><p>BigInteger：delegateRewardTotal  候选人当前发放的总委托奖励</p></li>
<li><p>BigInteger：nextRewardPer 下一个结算周期奖励分成比例，1=0.01%   10000=100%</p></li>
<li><p>BigInteger：rewardPer 当前结算周期奖励分成比例，1=0.01%   10000=100%</p></li>
</ul></li>
<li><p><strong>Java SDK合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java">String nodeId = <span class="hljs-string">"77fffc999d9f9403b65009f1eb27bae65774e2d8ea36f7b20a89f82642a5067557430e6edfe5320bb81c3666a19cf4a5172d6533117d7ebcd0f2c82055499050"</span>;
CallResponse&lt;Node&gt; baseResponse = stakingContract.getStakingInfo(nodeId).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getpackagereward"></a><a href="#getpackagereward" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getPackageReward</strong></h5>
<blockquote>
<p>查询当前结算周期的区块奖励</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;BigInteger&gt; baseResponse
</code></pre>
<ul>
<li>CallResponse<BigInteger>描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>BigInteger：reward   当前结算周期的区块奖励</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><strong>Java SDK合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;BigInteger&gt; response = stakingContract.getPackageReward().send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getstakingreward"></a><a href="#getstakingreward" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getStakingReward</strong></h5>
<blockquote>
<p>查询当前结算周期的质押奖励</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;BigInteger&gt; baseResponse
</code></pre>
<ul>
<li>CallResponse&lt;List<Node>&gt;描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>BigInteger：reward   当前结算周期的质押奖励</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><strong>Java SDK合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;BigInteger&gt; response = stakingContract.getStakingReward().send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getavgpacktime"></a><a href="#getavgpacktime" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getAvgPackTime</strong></h5>
<blockquote>
<p>查询打包区块的平均时间</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;BigInteger&gt; baseResponse
</code></pre>
<ul>
<li>CallResponse<BigInteger>描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>BigInteger：data   打包区块的平均时间（单位为毫秒）</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><strong>Java SDK合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;BigInteger&gt; response = stakingContract.getAvgPackTime().send();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="委托相关接口"></a><a href="#委托相关接口" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>委托相关接口</h3>
<blockquote>
<p>PlatON经济模型中委托人相关的合约接口</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="加载委托合约"></a><a href="#加载委托合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>加载委托合约</h4>
<pre><code class="hljs css language-java"><span class="hljs-comment">//Java 8</span>
Web3j web3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://localhost:6789"</span>));
String chainId = <span class="hljs-string">"100"</span>;
Credentials credentials = WalletUtils.loadCredentials(<span class="hljs-string">"password"</span>, <span class="hljs-string">"/path/to/walletfile"</span>);
DelegateContract delegateContract = DelegateContract.load(web3j, credentials, chainId);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="接口说明-1"></a><a href="#接口说明-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>接口说明</h4>
<h5><a class="anchor" aria-hidden="true" id="delegate"></a><a href="#delegate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>delegate</strong></h5>
<blockquote>
<p>发起委托，委托已质押节点，委托给某个节点增加节点权重来获取收入</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：nodeId   节点id，16进制格式，即节点公钥，可以通过管理台查询（platon attach <a href="http://127.0.0.1:6789">http://127.0.0.1:6789</a> --exec &quot;<a href="http://admin.nodeInfo.id">admin.nodeInfo.id</a>&quot;）。</li>
<li>StakingAmountType：stakingAmountType   表示使用账户自由金额还是账户的锁仓金额做质押，StakingAmountType.FREE_AMOUNT_TYPE：自由金额，StakingAmountType.RESTRICTING_AMOUNT_TYPE：锁仓金额</li>
<li>BigInteger：amount   委托的金额，单位VON，默认委托金额必须大于等于10LAT，该大小限制可以通过治理参数动态调整，可通过治理接口获得当前值（proposalContract.getGovernParamValue(&quot;staking&quot;, &quot;operatingThreshold&quot;)）。</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">String nodeId = <span class="hljs-string">"77fffc999d9f9403b65009f1eb27bae65774e2d8ea36f7b20a89f82642a5067557430e6edfe5320bb81c3666a19cf4a5172d6533117d7ebcd0f2c82055499050"</span>;
StakingAmountType stakingAmountType = StakingAmountType.FREE_AMOUNT_TYPE;
BigDecimal amount = Convert.toVon(<span class="hljs-string">"500000"</span>, Unit.LAT);

PlatonSendTransaction platonSendTransaction = delegateContract.delegateReturnTransaction(nodeId, stakingAmountType, amount.toBigInteger()).send();
TransactionResponse baseResponse = delegateContract.getTransactionResponse(platonSendTransaction).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getrelatedlistbydeladdr"></a><a href="#getrelatedlistbydeladdr" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getRelatedListByDelAddr</strong></h5>
<blockquote>
<p>查询当前账户地址所委托的节点的NodeID和质押Id</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：address   委托人的账户地址</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;List&lt;DelegationIdInfo&gt;&gt; baseRespons
</code></pre>
<ul>
<li>CallResponse&lt;List<DelegationIdInfo>&gt;描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>List<DelegationIdInfo>：data   DelegationIdInfo对象列表</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><p><strong>DelegationIdInfo</strong>：保存当前账户地址所委托的节点的NodeID和质押区块高度的对象</p>
<ul>
<li>String：address   委托人的账户地址</li>
<li>String：nodeId   验证人的节点Id</li>
<li>BigInteger：stakingBlockNum   发起质押时的区块高度</li>
</ul></li>
<li><p><strong>Java SDK合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;List&lt;DelegationIdInfo&gt;&gt; baseResponse = delegateContract.getRelatedListByDelAddr(delegateCredentials.getAddress()).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getdelegateinfo"></a><a href="#getdelegateinfo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getDelegateInfo</strong></h5>
<blockquote>
<p>查询当前单个委托信息</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：address   委托人的账户地址</li>
<li>String：nodeId   节点id，16进制格式，0x开头</li>
<li>BigInteger：stakingBlockNum   发起质押时的区块高度</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;Delegation&gt;
</code></pre>
<ul>
<li>CallResponse<Delegation>描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>Delegation：data   Delegation对象数据</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><p><strong>Delegation</strong>：保存当前委托账户委托信息的对象</p>
<ul>
<li>String：delegateAddress  委托人的账户地址</li>
<li>String：nodeId   验证人的节点Id</li>
<li>BigInteger：stakingBlockNum    发起质押时的区块高度</li>
<li>BigInteger：delegateEpoch   最近一次对该候选人发起的委托时的结算周期</li>
<li>BigInteger：delegateReleased   发起委托账户的自由金额的锁定期委托的VON</li>
<li>BigInteger：delegateReleasedHes   发起委托账户的自由金额的犹豫期委托的VON</li>
<li>BigInteger：delegateLocked   发起委托账户的锁仓金额的锁定期委托的VON</li>
<li>BigInteger：delegateLockedHes   发起委托账户的锁仓金额的犹豫期质押的VON</li>
<li>BigInteger：cumulativeIncome  待领取的委托收益</li>
</ul></li>
<li><p><strong>Java SDK合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java">String nodeId = <span class="hljs-string">"77fffc999d9f9403b65009f1eb27bae65774e2d8ea36f7b20a89f82642a5067557430e6edfe5320bb81c3666a19cf4a5172d6533117d7ebcd0f2c82055499050"</span>;
String address = <span class="hljs-string">"lax1qtp5fqtmudzge9aqt9rnzgdxv729pdq5vug5vt"</span>;
BigInteger stakingBlockNum = <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"10888"</span>);

CallResponse&lt;Delegation&gt; baseResponse = delegateContract.getDelegateInfo(nodeId, address, stakingBlockNum).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="undelegate"></a><a href="#undelegate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>unDelegate</strong></h5>
<blockquote>
<p>减持/撤销委托(全部减持就是撤销)</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：nodeId   节点id，16进制格式，0x开头</li>
<li>BigInteger：stakingBlockNum   委托节点的质押块高，代表着某个node的某次质押的唯一标示</li>
<li>BigInteger：stakingAmount     减持的委托金额(按照最小单位算，1LAT = 10**18 VON)</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><p><strong>解交易回执</strong></p>
<ul>
<li>BigInteger：reward   获得解除委托时所提取的委托收益</li>
</ul></li>
<li><p><strong>合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java">String nodeId = <span class="hljs-string">"77fffc999d9f9403b65009f1eb27bae65774e2d8ea36f7b20a89f82642a5067557430e6edfe5320bb81c3666a19cf4a5172d6533117d7ebcd0f2c82055499050"</span>;
BigDecimal stakingAmount = Convert.toVon(<span class="hljs-string">"500000"</span>, Unit.LAT);
BigInteger stakingBlockNum = <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"12134"</span>);

PlatonSendTransaction platonSendTransaction = delegateContract.unDelegateReturnTransaction(nodeId, stakingBlockNum, stakingAmount.toBigInteger()).send();
TransactionResponse baseResponse = delegateContract.getTransactionResponse(platonSendTransaction).send();

<span class="hljs-keyword">if</span>(baseResponse.isStatusOk()){
    BigInteger reward = delegateContract.decodeUnDelegateLog(baseResponse.getTransactionReceipt());
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="奖励相关接口"></a><a href="#奖励相关接口" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>奖励相关接口</h3>
<blockquote>
<p>PlatON经济模型中奖励相关的合约接口</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="加载奖励合约"></a><a href="#加载奖励合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>加载奖励合约</h4>
<pre><code class="hljs css language-java"><span class="hljs-comment">//Java 8</span>
Web3j web3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://localhost:6789"</span>));
String chainId = <span class="hljs-string">"100"</span>;
Credentials credentials = WalletUtils.loadCredentials(<span class="hljs-string">"password"</span>, <span class="hljs-string">"/path/to/walletfile"</span>);
RewardContract rewardContract = RewardContract.load(web3j, deleteCredentials, chainId);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="接口说明-2"></a><a href="#接口说明-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>接口说明</h4>
<h5><a class="anchor" aria-hidden="true" id="withdrawdelegatereward"></a><a href="#withdrawdelegatereward" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>withdrawDelegateReward</strong></h5>
<blockquote>
<p>提取账户当前所有的可提取的委托奖励</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><p><strong>解交易回执</strong></p>
<ul>
<li>String：nodeId    节点ID</li>
<li>BigInteger：stakingNum  节点的质押块高</li>
<li>BigInteger：reward  领取到的收益</li>
</ul></li>
<li><p><strong>合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java">PlatonSendTransaction platonSendTransaction = rewardContract.withdrawDelegateRewardReturnTransaction().send();
TransactionResponse baseResponse = rewardContract.getTransactionResponse(platonSendTransaction).send();
<span class="hljs-keyword">if</span>(baseResponse.isStatusOk()){
    List&lt;Reward&gt; rewardList = rewardContract.decodeWithdrawDelegateRewardLog(baseResponse.getTransactionReceipt());
}
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getdelegatereward"></a><a href="#getdelegatereward" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getDelegateReward</strong></h5>
<blockquote>
<p>查询当前账号可提取奖励明细</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：address   委托人的账户地址</li>
<li>List<String>： nodeList  节点列表，如果为空查全部</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;List&lt;Reward&gt;&gt; baseRespons
</code></pre>
<ul>
<li>CallResponse&lt;List<Reward>&gt;描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>List<Reward>：data   Reward对象列表</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><p><strong>Reward</strong>：奖励明细</p>
<ul>
<li>String：nodeId    节点ID</li>
<li>BigInteger：stakingNum  节点的质押块高</li>
<li>BigInteger：reward  领取到的收益</li>
</ul></li>
<li><p><strong>Java SDK合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java">List&lt;String&gt; nodeList = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
nodeList.add(nodeId);
CallResponse&lt;List&lt;Reward&gt;&gt; baseResponse = rewardContract.getDelegateReward(delegateAddress, nodeList).send();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="节点相关合约"></a><a href="#节点相关合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>节点相关合约</h3>
<blockquote>
<p>PlatON经济模型中委托人相关的合约接口</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="加载节点合约"></a><a href="#加载节点合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>加载节点合约</h4>
<pre><code class="hljs css language-java"><span class="hljs-comment">//Java 8</span>
Web3j web3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://localhost:6789"</span>));
String chainId = <span class="hljs-string">"100"</span>;
Credentials credentials = WalletUtils.loadCredentials(<span class="hljs-string">"password"</span>, <span class="hljs-string">"/path/to/walletfile"</span>);
NodeContract nodeContract = NodeContract.load(web3j, credentials, chainId);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="接口说明-3"></a><a href="#接口说明-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>接口说明</h4>
<h5><a class="anchor" aria-hidden="true" id="getverifierlist"></a><a href="#getverifierlist" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getVerifierList</strong></h5>
<blockquote>
<p>查询当前结算周期的验证人队列</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;List&lt;Node&gt;&gt; baseResponse
</code></pre>
<ul>
<li>CallResponse&lt;List<Node>&gt;描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>List<Node>：data   nodeList对象数据</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><p><strong>Node</strong>：保存单个当前结算周期验证节点信息的对象</p>
<ul>
<li><p>String：nodeId   被质押的节点Id(也叫候选人的节点Id)</p></li>
<li><p>String：stakingAddress   发起质押时使用的账户(撤销质押时，VON会被退回该账户或者该账户的锁仓信息中)</p></li>
<li><p>String：benifitAddress   用于接受出块奖励和质押奖励的收益账户</p></li>
<li><p>BigInteger：rewardPer 当前结算周期奖励分成比例</p></li>
<li><p>BigInteger：nextRewardPer 下一个结算周期奖励分成比例</p></li>
<li><p>BigInteger：stakingTxIndex   发起质押时的交易索引</p></li>
<li><p>BigInteger：programVersion  被质押节点的PlatON进程的真实版本号(获取版本号的接口由治理提供)</p></li>
<li><p>BigInteger：stakingBlockNum    发起质押时的区块高度</p></li>
<li><p>BigInteger：shares   当前候选人总共质押加被委托的VON数目</p></li>
<li><p>String：externalId   外部Id(有长度限制，给第三方拉取节点描述的Id)，目前为keybase账户公钥，节点图标是通过该公钥获取。</p></li>
<li><p>String：nodeName   被质押节点的名称(有长度限制，表示该节点的名称)</p></li>
<li><p>String：website   节点的第三方主页(有长度限制，表示该节点的主页)</p></li>
<li><p>String：details   节点的描述(有长度限制，表示该节点的描述)</p></li>
<li><p>BigInteger：validatorTerm   验证人的任期</p></li>
<li><p>BigInteger：delegateTotal  节点被委托的生效总数量</p></li>
<li><p>BigInteger：delegateRewardTotal  候选人当前发放的总委托奖励</p></li>
</ul></li>
<li><p><strong>Java SDK合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;List&lt;Node&gt;&gt; baseResponse = nodeContract.getVerifierList().send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getvalidatorlist"></a><a href="#getvalidatorlist" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getValidatorList</strong></h5>
<blockquote>
<p>查询当前共识周期的验证人列表</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;List&lt;Node&gt;&gt; baseResponse
</code></pre>
<ul>
<li>CallResponse&lt;List<Node>&gt;描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>List<Node>：data   nodeList对象数据</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><p><strong>Node</strong>：保存单个当前共识周期验证节点信息的对象</p>
<ul>
<li><p>String：nodeId   被质押的节点Id(也叫候选人的节点Id)</p></li>
<li><p>String：stakingAddress   发起质押时使用的账户(撤销质押时，VON会被退回该账户或者该账户的锁仓信息中)</p></li>
<li><p>String：benifitAddress   用于接受出块奖励和质押奖励的收益账户</p></li>
<li><p>BigInteger：rewardPer 当前结算周期奖励分成比例</p></li>
<li><p>BigInteger：nextRewardPer 下一个结算周期奖励分成比例</p></li>
<li><p>BigInteger：stakingTxIndex   发起质押时的交易索引</p></li>
<li><p>BigInteger：programVersion  被质押节点的PlatON进程的真实版本号(获取版本号的接口由治理提供)</p></li>
<li><p>BigInteger：stakingBlockNum    发起质押时的区块高度</p></li>
<li><p>BigInteger：shares   当前候选人总共质押加被委托的VON数目</p></li>
<li><p>String：externalId   外部Id(有长度限制，给第三方拉取节点描述的Id)，目前为keybase账户公钥，节点图标是通过该公钥获取。</p></li>
<li><p>String：nodeName   被质押节点的名称(有长度限制，表示该节点的名称)</p></li>
<li><p>String：website   节点的第三方主页(有长度限制，表示该节点的主页)</p></li>
<li><p>String：details   节点的描述(有长度限制，表示该节点的描述)</p></li>
<li><p>BigInteger：validatorTerm   验证人的任期</p></li>
<li><p>BigInteger：delegateTotal  节点被委托的生效总数量</p></li>
<li><p>BigInteger：delegateRewardTotal  候选人当前发放的总委托奖励</p></li>
<li><p>BigInteger：nextRewardPer 下一个结算周期奖励分成比例</p></li>
<li><p>BigInteger：rewardPer 当前结算周期奖励分成比例</p></li>
</ul></li>
<li><p><strong>Java SDK合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;List&lt;Node&gt;&gt; baseResponse = nodeContract.getValidatorList().send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getcandidatelist"></a><a href="#getcandidatelist" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getCandidateList</strong></h5>
<blockquote>
<p>查询所有实时的候选人列表</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;List&lt;Node&gt;&gt; baseResponse
</code></pre>
<ul>
<li>CallResponse&lt;List<Node>&gt;描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>List<Node>：data   nodeList对象数据</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><p><strong>Node</strong>：保存单个候选节点信息对象</p>
<ul>
<li><p>String：nodeId   被质押的节点Id(也叫候选人的节点Id)</p></li>
<li><p>String：stakingAddress   发起质押时使用的账户(撤销质押时，VON会被退回该账户或者该账户的锁仓信息中)</p></li>
<li><p>String：benifitAddress   用于接受出块奖励和质押奖励的收益账户</p></li>
<li><p>BigInteger：rewardPer 当前结算周期奖励分成比例</p></li>
<li><p>BigInteger：nextRewardPer 下一个结算周期奖励分成比例</p></li>
<li><p>BigInteger：stakingTxIndex   发起质押时的交易索引</p></li>
<li><p>BigInteger：programVersion  被质押节点的PlatON进程的真实版本号(获取版本号的接口由治理提供)</p></li>
<li><p>BigInteger：status   候选人的状态，0: 节点可用，1: 节点不可用 ，2:节点出块率低但没有达到移除条件的，4:节点的VON不足最低质押门槛，8:节点被举报双签，16:节点出块率低且达到移除条件, 32: 节点主动发起撤销</p></li>
<li><p>BigInteger：stakingEpoch   当前变更质押金额时的结算周期</p></li>
<li><p>BigInteger：stakingBlockNum    发起质押时的区块高度</p></li>
<li><p>BigInteger：shares   当前候选人总共质押加被委托的VON数目</p></li>
<li><p>BigInteger：released   发起质押账户的自由金额的锁定期质押的VON</p></li>
<li><p>BigInteger：releasedHes   发起质押账户的自由金额的犹豫期质押的VON</p></li>
<li><p>BigInteger：restrictingPlan   发起质押账户的锁仓金额的锁定期质押的VON</p></li>
<li><p>BigInteger：restrictingPlanHes   发起质押账户的锁仓金额的犹豫期质押的VON</p></li>
<li><p>String：externalId   外部Id(有长度限制，给第三方拉取节点描述的Id)，目前为keybase账户公钥，节点图标是通过该公钥获取。</p></li>
<li><p>String：nodeName   被质押节点的名称(有长度限制，表示该节点的名称)</p></li>
<li><p>String：website   节点的第三方主页(有长度限制，表示该节点的主页)</p></li>
<li><p>String：details   节点的描述(有长度限制，表示该节点的描述)</p></li>
<li><p>BigInteger：delegateEpoch  节点最后一次被委托的结算周期</p></li>
<li><p>BigInteger：delegateTotal  节点被委托的生效总数量</p></li>
<li><p>BigInteger：delegateTotalHes  节点被委托的未生效总数量</p></li>
<li><p>BigInteger：delegateRewardTotal  候选人当前发放的总委托奖励</p></li>
</ul></li>
<li><p><strong>Java SDK合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;List&lt;Node&gt;&gt; baseResponse = nodeContract.getCandidateList().send();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="治理相关合约"></a><a href="#治理相关合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>治理相关合约</h3>
<blockquote>
<p>PlatON治理相关的合约接口</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="加载治理合约"></a><a href="#加载治理合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>加载治理合约</h4>
<pre><code class="hljs css language-java"><span class="hljs-comment">//Java 8</span>
Web3j web3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://localhost:6789"</span>));
String chainId = <span class="hljs-string">"100"</span>;
Credentials credentials = WalletUtils.loadCredentials(<span class="hljs-string">"password"</span>, <span class="hljs-string">"/path/to/walletfile"</span>);
ProposalContract proposalContract = ProposalContract.load(web3j, credentials, chainId);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="接口说明-4"></a><a href="#接口说明-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>接口说明</h4>
<h5><a class="anchor" aria-hidden="true" id="submitproposal"></a><a href="#submitproposal" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>submitProposal</strong></h5>
<blockquote>
<p>提交提案</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>Proposal：提案对象</li>
</ul></li>
<li><p><strong>文本提案 Proposal.createSubmitTextProposalParam()</strong></p>
<ul>
<li>String：verifier 提交提案的验证人</li>
<li>String：pIDID  PIPID</li>
</ul></li>
<li><p><strong>升级提案 Proposal.createSubmitVersionProposalParam()</strong></p>
<ul>
<li>String：verifier 提交提案的验证人</li>
<li>String：pIDID  PIPID</li>
<li>BigInteger：newVersion  升级版本</li>
<li>BigInteger：endVotingRounds   投票共识轮数量。说明：假设提交提案的交易，被打包进块时的共识轮序号时round1，则提案投票截止块高，就是round1 + endVotingRounds这个共识轮的第230个块高（假设一个共识轮出块250，ppos揭榜提前20个块高，250，20都是可配置的 ），其中0 &lt; endVotingRounds &lt;= 4840（约为2周，实际论述根据配置可计算），且为整数）</li>
</ul></li>
<li><p><strong>参数提案 Proposal.createSubmitParamProposalParam()</strong></p>
<ul>
<li>String：verifier 提交提案的验证人</li>
<li>String：pIDID  PIPID</li>
<li>String：module  参数模块</li>
<li>String：name  参数名称</li>
<li>String：newValue 参数新值</li>
</ul></li>
<li><p><strong>取消提案 Proposal.createSubmitCancelProposalParam()</strong></p>
<ul>
<li>String：verifier 提交提案的验证人</li>
<li>String：pIDID  PIPID</li>
<li>BigInteger：endVotingRounds  投票共识轮数量。参考提交升级提案的说明，同时，此接口中此参数的值不能大于对应升级提案中的</li>
<li>String：tobeCanceledProposalID  待取消的提案ID</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">Proposal proposal = Proposal.createSubmitTextProposalParam(proposalNodeId,<span class="hljs-string">"1"</span>);

PlatonSendTransaction platonSendTransaction = proposalContract.submitProposalReturnTransaction(proposal).send();
TransactionResponse baseResponse = proposalContract.getTransactionResponse(platonSendTransaction).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="vote"></a><a href="#vote" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>vote</strong></h5>
<blockquote>
<p>给提案投票</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>ProgramVersion:ProgramVersion 程序的真实版本，治理rpc接口admin_getProgramVersion获取</li>
<li>VoteOption：voteOption   投票类型，YEAS 赞成票，NAYS 反对票，ABSTENTIONS 弃权票</li>
<li>String：proposalID   提案ID</li>
<li>String：verifier   声明的节点，只能是验证人/候选人</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong>：</li>
</ul>
<pre><code class="hljs css language-java">ProgramVersion programVersion = web3j.getProgramVersion().send().getAdminProgramVersion();
VoteOption voteOption =  VoteOption.YEAS;
String proposalID = <span class="hljs-string">""</span>;
String verifier = <span class="hljs-string">"77fffc999d9f9403b65009f1eb27bae65774e2d8ea36f7b20a89f82642a5067557430e6edfe5320bb81c3666a19cf4a5172d6533117d7ebcd0f2c82055499050"</span>;

PlatonSendTransaction platonSendTransaction = proposalContract.voteReturnTransaction(programVersion, voteOption, proposalID, verifier).send();
TransactionResponse baseResponse = proposalContract.getTransactionResponse(platonSendTransaction).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getproposal"></a><a href="#getproposal" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getProposal</strong></h5>
<blockquote>
<p>查询提案</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：proposalID   提案id</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;Proposal&gt;
</code></pre>
<ul>
<li>CallResponse<Proposal>描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>Proposal：data   Proposal对象数据</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><p><strong>Proposal</strong>：保存单个提案信息的对象</p>
<ul>
<li>String:    proposalId   提案ID</li>
<li>String:    proposer   提案节点ID</li>
<li>int:    proposalType   提案类型， 0x01：文本提案； 0x02：升级提案；0x03参数提案  0x04取消提案</li>
<li>String:    piPid   提案PIPID</li>
<li>BigInteger:   submitBlock   提交提案的块高</li>
<li>BigInteger:   endVotingBlock   提案投票结束的块高</li>
<li>BigInteger:   newVersion   升级版本</li>
<li>BigInteger:   toBeCanceled   提案要取消的升级提案ID</li>
<li>BigInteger:   activeBlock   提案生效块高，系统根据EndVotingBlock算出</li>
<li>String:   verifier     提交提案的验证人</li>
</ul></li>
<li><p><strong>合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java"><span class="hljs-comment">//提案id</span>
String proposalID = <span class="hljs-string">""</span>;
CallResponse&lt;Proposal&gt; baseResponse = proposalContract.getProposal(proposalID).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="gettallyresult"></a><a href="#gettallyresult" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getTallyResult</strong></h5>
<blockquote>
<p>查询提案结果</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：proposalID   提案ID</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;TallyResult&gt;
</code></pre>
<ul>
<li>CallResponse<TallyResult>描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>TallyResult：data   TallyResult对象数据</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><p><strong>TallyResult</strong>：保存单个提案结果的对象</p>
<ul>
<li>String:   proposalID   提案ID</li>
<li>BigInteger:   yeas   赞成票票数</li>
<li>BigInteger:   nays   反对票票数</li>
<li>BigInteger:   abstentions   弃权票票数</li>
<li>BigInteger:   accuVerifiers   在整个投票期内有投票资格的验证人总数</li>
<li>int:   status   提案状态</li>
</ul></li>
<li><p><strong>status</strong></p>
<ul>
<li>1  投票中</li>
<li>2  投票通过</li>
<li>3  投票失败</li>
<li>4 （升级提案）预生效</li>
<li>5 （升级提案）生效</li>
<li>6  被取消</li>
</ul></li>
<li><p><strong>合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java"><span class="hljs-comment">//提案id</span>
String proposalID =<span class="hljs-string">""</span>;
CallResponse&lt;TallyResult&gt; baseResponse = proposalContract.getTallyResult(proposalID).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getproposallist"></a><a href="#getproposallist" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getProposalList</strong></h5>
<blockquote>
<p>查询提案列表</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;List&lt;Proposal&gt;&gt;
</code></pre>
<ul>
<li>CallResponse&lt;List<Proposal>&gt;描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>List<Proposal>：data   ProposalList对象数据</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><p><strong>Proposal</strong>：保存单个提案的对象</p>
<ul>
<li>String:    proposalId   提案ID</li>
<li>String:    proposer   提案节点ID</li>
<li>int:    proposalType   提案类型， 0x01：文本提案； 0x02：升级提案；0x03参数提案</li>
<li>String:    piPid   提案PIPID</li>
<li>BigInteger:   submitBlock   提交提案的块高</li>
<li>BigInteger:   endVotingBlock   提案投票结束的块高</li>
<li>BigInteger:   newVersion   升级版本</li>
<li>String:   toBeCanceled   提案要取消的升级提案ID</li>
<li>BigInteger:   activeBlock   提案生效块高，系统根据EndVotingBlock算出</li>
<li>String:   verifier     提交提案的验证人</li>
</ul></li>
<li><p><strong>合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;List&lt;Proposal&gt;&gt; baseResponse = proposalContract.getProposalList().send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="declareversion"></a><a href="#declareversion" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>declareVersion</strong></h5>
<blockquote>
<p>版本声明</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>ProgramVersion:ProgramVersion 程序的真实版本，治理rpc接口admin_getProgramVersion获取</li>
<li>String：verifier   声明的节点，只能是验证人/候选人</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">ProgramVersion programVersion = web3j.getProgramVersion().send().getAdminProgramVersion();
String verifier = <span class="hljs-string">""</span>;

PlatonSendTransaction platonSendTransaction = proposalContract.declareVersionReturnTransaction(programVersion,verifier).send();
TransactionResponse baseResponse = proposalContract.getTransactionResponse(platonSendTransaction).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getactiveversion"></a><a href="#getactiveversion" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getActiveVersion</strong></h5>
<blockquote>
<p>查询节点的链生效版本</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<p>无</p></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse
</code></pre>
<ul>
<li>CallResponse<BigInteger>： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>BigInteger：data   版本信息</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;BigInteger&gt; baseResponse = proposalContract.getActiveVersion().send();
ProposalUtils.versionInterToStr(baseResponse.getData());
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="双签举报相关接口"></a><a href="#双签举报相关接口" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>双签举报相关接口</h3>
<blockquote>
<p>PlatON举报惩罚相关的合约接口</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="加载举报合约"></a><a href="#加载举报合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>加载举报合约</h4>
<pre><code class="hljs"><span class="hljs-comment">//Java 8</span>
Web3j web3j = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Web3j</span>.</span></span>build(<span class="hljs-keyword">new</span> <span class="hljs-constructor">HttpService(<span class="hljs-string">"http://localhost:6789"</span>)</span>);
String chainId = <span class="hljs-string">"103"</span>;
Credentials credentials = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">WalletUtils</span>.</span></span>load<span class="hljs-constructor">Credentials(<span class="hljs-string">"password"</span>, <span class="hljs-string">"/path/to/walletfile"</span>)</span>;
SlashContract contract = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">SlashContract</span>.</span></span>load(web3j, credentials, chainId);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="接口说明-5"></a><a href="#接口说明-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>接口说明</h4>
<h5><a class="anchor" aria-hidden="true" id="reportdoublesign"></a><a href="#reportdoublesign" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>reportDoubleSign</strong></h5>
<blockquote>
<p>举报双签</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>DuplicateSignType：DuplicateSignType   枚举，代表双签类型：PREPARE_BLOCK，PREPARE_VOTE，VIEW_CHANGE</li>
<li>String：data   单个证据的json值，格式参照<a href="#evidences_interface">RPC接口Evidences</a></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">String data = <span class="hljs-string">""</span>;   <span class="hljs-comment">//举报证据</span>
PlatonSendTransaction platonSendTransaction = slashContract.reportDoubleSignReturnTransaction(DuplicateSignType.PREPARE_BLOCK, data).send();

TransactionResponse baseResponse = slashContract.getTransactionResponse(platonSendTransaction).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="checkduplicatesign"></a><a href="#checkduplicatesign" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>checkDuplicateSign</strong></h5>
<blockquote>
<p>查询节点是否已被举报过多签</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>DuplicateSignType：DuplicateSignType   枚举，代表双签类型：prepareBlock，EprepareVote，viewChange</li>
<li>String：address   举报的节点地址</li>
<li>BigInteger：blockNumber   多签的块高</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse
</code></pre>
<ul>
<li>CallResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：data   Y, 可能为零交易Hash，即: 0x000...000</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;String&gt; baseResponse = slashContract.checkDoubleSign(DuplicateSignType.PREPARE_BLOCK, <span class="hljs-string">"lax1qtp5fqtmudzge9aqt9rnzgdxv729pdq5vug5vt"</span>, BigInteger.valueOf(<span class="hljs-number">500L</span>)).send();
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="锁仓相关接口"></a><a href="#锁仓相关接口" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>锁仓相关接口</h3>
<blockquote>
<p>PlatON锁仓相关接口</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="加载锁仓合约"></a><a href="#加载锁仓合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>加载锁仓合约</h4>
<pre><code class="hljs css language-java"><span class="hljs-comment">//Java 8</span>
Web3j web3j = Web3j.build(<span class="hljs-keyword">new</span> HttpService(<span class="hljs-string">"http://localhost:6789"</span>));
String chainId = <span class="hljs-string">"100"</span>;
Credentials credentials = WalletUtils.loadCredentials(<span class="hljs-string">"password"</span>, <span class="hljs-string">"/path/to/walletfile"</span>);
RestrictingPlanContract contract = RestrictingPlanContract.load(web3j, credentials, chainId);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="接口说明-6"></a><a href="#接口说明-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>接口说明</h4>
<h5><a class="anchor" aria-hidden="true" id="createrestrictingplan"></a><a href="#createrestrictingplan" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>createRestrictingPlan</strong></h5>
<blockquote>
<p>创建锁仓计划</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：address   锁仓释放到账账户</li>
<li>List<RestrictingPlan>：plan   锁仓计划列表（数组）
<ul>
<li>epoch：锁仓的周期，表示结算周期的倍数</li>
<li>amount：表示目标区块上待释放的金额。</li>
</ul></li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">TransactionResponse
</code></pre>
<ul>
<li>TransactionResponse： 通用应答包
<ul>
<li>int：code   结果标识，0为成功</li>
<li>String：errMsg   错误信息，失败时存在</li>
<li>TransactionReceipt：transactionReceipt  交易的回执</li>
</ul></li>
</ul>
<ul>
<li><strong>合约使用</strong></li>
</ul>
<pre><code class="hljs css language-java">List&lt;RestrictingPlan&gt; restrictingPlans = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
restrictingPlans.add(<span class="hljs-keyword">new</span> RestrictingPlan(BigInteger.valueOf(<span class="hljs-number">100</span>), <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"100000000000000000000"</span>)));
restrictingPlans.add(<span class="hljs-keyword">new</span> RestrictingPlan(BigInteger.valueOf(<span class="hljs-number">200</span>), <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">"200000000000000000000"</span>)));

PlatonSendTransaction platonSendTransaction = restrictingPlanContract.createRestrictingPlanReturnTransaction(restrictingRecvCredentials.getAddress(), restrictingPlans).send();
TransactionResponse baseResponse = restrictingPlanContract.getTransactionResponse(platonSendTransaction).send();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="getrestrictinginfo"></a><a href="#getrestrictinginfo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>getRestrictingInfo</strong></h5>
<blockquote>
<p>获取锁仓计划</p>
</blockquote>
<ul>
<li><p><strong>入参</strong></p>
<ul>
<li>String：address   锁仓释放到账账户</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;RestrictingItem&gt; baseResponse
</code></pre>
<ul>
<li>CallResponse<RestrictingItem>描述
<ul>
<li>int：code   结果标识，0为成功</li>
<li>RestrictingItem：Data   RestrictingItem对象数据</li>
<li>String：errMsg   错误信息，失败时存在</li>
</ul></li>
</ul>
<ul>
<li><p><strong>RestrictingItem</strong>：保存锁仓信息对象</p>
<ul>
<li>BigInteger：balance    锁仓余额</li>
<li>BigInteger：pledge   质押/抵押金额</li>
<li>BigInteger：debt   欠释放金额</li>
<li>List<RestrictingInfo>：info   锁仓分录信息</li>
</ul></li>
<li><p><strong>RestrictingInfo</strong>：保存单个锁仓分录信息的对象</p>
<ul>
<li>BigInteger：blockNumber    释放区块高度</li>
<li>BigInteger：amount   释放金额</li>
</ul></li>
<li><p><strong>合约使用</strong></p></li>
</ul>
<pre><code class="hljs css language-java">CallResponse&lt;RestrictingItem&gt; baseResponse = restrictingPlanContract.getRestrictingInfo(restrictingRecvCredentials.getAddress()).send();
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="solidity合约调用"></a><a href="#solidity合约调用" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Solidity合约调用</h2>
<p>将Solidity智能合约部署到区块链上时，必须先将其编译成字节码的格式，然后将其作为交易的一部分发送。Java SDK 将帮你生成Solidity智能合约对应的Java包装类，可以方便的部署Solidity智能合约以及调用Solidity智能合约中的交易方法、事件和常量方法。</p>
<h3><a class="anchor" aria-hidden="true" id="编译solidity源代码"></a><a href="#编译solidity源代码" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>编译solidity源代码</h3>
<ul>
<li>通过<code>solc</code>编译器编译solidity源代码，请根据合约声明的编译器版本下载对应solc编译器版本(<a href="https://github.com/PlatONnetwork/solidity/releases">solc下载</a>)：</li>
</ul>
<pre><code class="hljs css language-shell"><span class="hljs-meta">$</span><span class="bash"> solc &lt;contract&gt;.sol --bin --abi --optimize -o &lt;output-dir&gt;/</span>
</code></pre>
<p><code>bin</code>，输出包含十六进制编码的solidity二进制文件以提供交易请求。
<code>abi</code>，输出一个solidity的应用程序二进制接口（<code>ABI</code>）文件，它详细描述了所有可公开访问的合约方法及其相关参数。<code>abi</code>文件也用于生成solidity智能合约对应的Java包装类。</p>
<ul>
<li>使用<code>platon-truffle</code>编译solidity源代码(<a href="https://platon-truffle.readthedocs.io/en/v0.13.1/getting-started/installation.html#">platon-truffle开发工具安装参考</a>|<a href="https://platon-truffle.readthedocs.io/en/v0.13.1/">platon-truffle开发工具使用手册</a>)：</li>
</ul>
<blockquote>
<p><strong>step1.</strong> 使用platon-truffle初始化项目</p>
</blockquote>
<pre><code class="hljs"><span class="hljs-attr">在安装有platon-truffle的服务器上面先初始化一个工程。</span>
<span class="hljs-attr">mkdir</span> <span class="hljs-string">HelloWorld</span>
<span class="hljs-attr">cd</span> <span class="hljs-string">HelloWorld</span>
<span class="hljs-attr">truffle</span> <span class="hljs-string">init</span>
<span class="hljs-attr">提示如下表示成功：</span>

  <span class="hljs-meta">✔</span> <span class="hljs-string">Preparing to download</span>
  <span class="hljs-meta">✔</span> <span class="hljs-string">Downloading</span>
  <span class="hljs-meta">✔</span> <span class="hljs-string">Cleaning up temporary files</span>
  <span class="hljs-meta">✔</span> <span class="hljs-string">Setting up box</span>

  <span class="hljs-attr">Unbox</span> <span class="hljs-string">successful. Sweet!</span>

  <span class="hljs-attr">Commands</span>:<span class="hljs-string"></span>

    <span class="hljs-attr">Compile</span>:        <span class="hljs-string">truffle compile</span>
    <span class="hljs-attr">Migrate</span>:        <span class="hljs-string">truffle migrate</span>
    <span class="hljs-attr">Test</span> <span class="hljs-string">contracts: truffle test</span>
</code></pre>
<blockquote>
<p><strong>step2.</strong> 将HelloWorld.sol放入HelloWorld/contracts目录下</p>
</blockquote>
<pre><code class="hljs">guest<span class="hljs-variable">@guest</span><span class="hljs-symbol">:~/HelloWorld/contracts</span><span class="hljs-variable">$ </span>ls
HelloWorld.sol  Migrations.sol
</code></pre>
<blockquote>
<p><strong>step3.</strong> 修改truffle-config.js文件，将编译器版本修改成“^0.5.13”</p>
</blockquote>
<pre><code class="hljs">compilers: {
    solc: {
       <span class="hljs-keyword">version</span>: "^0.5.13",    // <span class="hljs-keyword">Fetch</span> exact <span class="hljs-keyword">version</span> <span class="hljs-keyword">from</span> solc-bin (<span class="hljs-keyword">default</span>: truffl<span class="hljs-string">e's version)
      // docker: true,        // Use "0.5.1" you'</span>ve installed locally <span class="hljs-keyword">with</span> docker (<span class="hljs-keyword">default</span>: <span class="hljs-keyword">false</span>)
      // settings: {          // See the solidity docs <span class="hljs-keyword">for</span> advice about optimization <span class="hljs-keyword">and</span> evmVersion
      //  optimizer: {
      //    enabled: <span class="hljs-keyword">false</span>,
      //    runs: <span class="hljs-number">200</span>
      //  },
      //  evmVersion: "byzantium"
       }
    }
}
</code></pre>
<blockquote>
<p><strong>step4.</strong> 执行truffle compile编译合约</p>
</blockquote>
<pre><code class="hljs">guest@gues<span class="hljs-variable">t:</span>~/HelloWorld$ truffle compile

Compiling your contracts...

 Compiling ./contracts/HelloWorld.sol
 Compiling ./contracts/Migrations.sol

 compilation warnings encountered:

Warnin<span class="hljs-variable">g:</span> This <span class="hljs-keyword">is</span> <span class="hljs-keyword">a</span> <span class="hljs-keyword">pre</span>-release <span class="hljs-keyword">compiler</span> <span class="hljs-keyword">version</span>, please <span class="hljs-keyword">do</span> not use it in production.

 Artifacts written <span class="hljs-keyword">to</span> /home/guest/hudenian/HelloWorld/build/contracts
 Compiled successfully usin<span class="hljs-variable">g:</span>
    solc: <span class="hljs-number">0.5</span>.<span class="hljs-number">13</span>-develop.<span class="hljs-number">2020.1</span>.<span class="hljs-number">2</span>+commit.<span class="hljs-number">9</span>ff23752.<span class="hljs-keyword">mod</span>.Emscripten.clang
</code></pre>
<blockquote>
<p><strong>step5.</strong> 提取 <code>abi</code> 和 <code>bin</code>文件</p>
</blockquote>
<pre><code class="hljs">将 ./build/contracts/<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">HelloWorld</span>.</span></span>json中 abi属性放到<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">HelloWorld</span>.</span></span>abi文件中
将 ./build/contracts/<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">HelloWorld</span>.</span></span>json中 bytecode属性放到<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">HelloWorld</span>.</span></span>bin文件中（需要去掉<span class="hljs-number">0</span>x开头）

</code></pre>
<h3><a class="anchor" aria-hidden="true" id="solidity智能合约java包装类"></a><a href="#solidity智能合约java包装类" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Solidity智能合约Java包装类</h3>
<p>Java SDK支持从<code>abi</code>文件中自动生成Solidity智能合约对应的Java包装类。</p>
<ul>
<li>通过命令行工具生成Java包装类（<a href="https://download.platon.network/sdk/0.13.1.5-20200915/platon-web3j-0.13.1.5.zip">platon-web3j下载</a>）：</li>
</ul>
<pre><code class="hljs css language-shell"><span class="hljs-meta">$</span><span class="bash"> platon-web3j solidity generate [--javaTypes|--solidityTypes] /path/to/&lt;smart-contract&gt;.bin /path/to/&lt;smart-contract&gt;.abi -o /path/to/src/main/java -p com.your.organisation.name</span>
</code></pre>
<ul>
<li>直接调用Java SDK中的工具类生成Java包装类：</li>
</ul>
<pre><code class="hljs css language-java"><span class="hljs-comment">// 通过maven或gradle导入console模块</span>
compile <span class="hljs-string">"com.platon.sdk:console:{version}"</span>

String args[] = {<span class="hljs-string">"generate"</span>, <span class="hljs-string">"/path/to/&lt;smart-contract&gt;.bin"</span>, <span class="hljs-string">"/path/to/&lt;smart-contract&gt;.abi"</span>, <span class="hljs-string">"-o"</span>, <span class="hljs-string">"/path/to/src/main/java"</span>, <span class="hljs-string">"-p"</span> , <span class="hljs-string">"com.your.organisation.name"</span>};
org.web3j.codegen.SolidityFunctionWrapperGenerator.run(args);
</code></pre>
<p>其中<code>bin</code>和<code>abi</code>文件是编译solidity源代码以后生成的。</p>
<p>Solidity智能合约对应的Java包装类支持的主要功能：</p>
<ul>
<li>构建与部署</li>
<li>确定合约有效性</li>
<li>调用交易和事件</li>
<li>调用常量方法</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="构建与部署智能合约"></a><a href="#构建与部署智能合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>构建与部署智能合约</h4>
<p>智能合约的构建和部署使用包装类中的deploy方法：</p>
<pre><code class="hljs css language-java">YourSmartContract contract = YourSmartContract.deploy(
        &lt;web3j&gt;, &lt;transactionManager&gt;, contractGasProvider, chainId
        [&lt;initialValue&gt;,] &lt;param1&gt;, ..., &lt;paramN&gt;).send();

or

YourSmartContract contract = YourSmartContract.deploy(
        &lt;web3j&gt;, &lt;Credentials&gt;, contractGasProvider, chainId
        [&lt;initialValue&gt;,] &lt;param1&gt;, ..., &lt;paramN&gt;).send();
</code></pre>
<p>这个方法将在区块链上部署智能合约。部署成功以后，它将会返回一个智能合约的包装类实例，包含智能合约的地址。</p>
<p>如果你的智能合约在构造上接受LAT转账，则需要初始化参数值<initialValue>。</p>
<p>通过智能合约的地址也可以创建智能合约对应的Java包装类的实例：</p>
<pre><code class="hljs css language-java">YourSmartContract contract = YourSmartContract.load(
        <span class="hljs-string">"&lt;bech32Address&gt;"</span>, web3j, transactionManager, contractGasProvider, chainId);

or

YourSmartContract contract = YourSmartContract.load(
        <span class="hljs-string">"&lt;bech32Address&gt;"</span>, web3j, credentials, contractGasProvider, chainId);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="智能合约有效性"></a><a href="#智能合约有效性" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>智能合约有效性</h4>
<p>使用此方法，可以验证智能合约的有效性。只有在合约地址中部署的字节码与智能合约封装包中的字节码匹配时才会返回<code>true</code>。</p>
<pre><code class="hljs css language-java">contract.isValid();  <span class="hljs-comment">// returns false if the contract bytecode does not match what's deployed</span>
                     <span class="hljs-comment">// at the provided address</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="交易管理器"></a><a href="#交易管理器" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>交易管理器</h4>
<p>Java SDK提供了一个交易管理器<code>TransactionManager</code>来控制你连接到PlatON客户端的方式。默认采用<code>RawTransactionManager</code>。
<code>RawTransactionManager</code>需要指定链ID。防止一个链的交易被重新广播到另一个链上：</p>
<pre><code class="hljs css language-java">TransactionManager transactionManager = <span class="hljs-keyword">new</span> RawTransactionManager(web3j, credentials, <span class="hljs-number">100L</span>);
</code></pre>
<p>除了<code>RawTransactionManager</code>之外，Java SDK还提供了一个客户端交易管理器<code>ClientTransactionManager</code>，它将你的交易签名工作交给你正在连接的PlatON客户端。
此外，还有一个<code>ReadonlyTransactionManager</code>，用于只从智能合约中查询数据，而不与它进行交易。</p>
<h4><a class="anchor" aria-hidden="true" id="gas提供者"></a><a href="#gas提供者" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>gas提供者</h4>
<p>合约的手续费是通过 <code>GasProvider</code> 设置，因为合约gas消耗为动态的，和合约的逻辑相关。建议首次部署调用时使用比较大的值，如 999999。后面根据实际情况调整。</p>
<pre><code class="hljs css language-java">BigInteger GAS_LIMIT = BigInteger.valueOf(<span class="hljs-number">999999</span>);
BigInteger GAS_PRICE = BigInteger.valueOf(<span class="hljs-number">1000000000L</span>);

GasProvider gasProvider  = <span class="hljs-keyword">new</span> ContractGasProvider(GAS_PRICE, GAS_LIMIT);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="调用交易和事件"></a><a href="#调用交易和事件" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>调用交易和事件</h4>
<p>对于所有交易的方法，只返回与交易关联的交易收据。</p>
<pre><code class="hljs css language-java">TransactionReceipt transactionReceipt = contract.someMethod(&lt;param1&gt;, ...).send();
</code></pre>
<p>通过交易收据，可以提取索引和非索引的事件参数。</p>
<pre><code class="hljs css language-java">List&lt;SomeEventResponse&gt; events = contract.getSomeEvents(transactionReceipt);
</code></pre>
<p>或者，你可以使用可观察的过滤器Observable filter，监听与智能合约相关联的事件：</p>
<pre><code class="hljs css language-java">contract.someEventObservable(startBlock, endBlock).subscribe(event -&gt; ...);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="调用常量方法"></a><a href="#调用常量方法" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>调用常量方法</h4>
<p>常量方法只做查询，而不改变智能合约的状态。</p>
<pre><code class="hljs css language-java">Type result = contract.someMethod(&lt;param1&gt;, ...).send();
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="wasm合约调用"></a><a href="#wasm合约调用" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wasm合约调用</h2>
<p>将Wasm智能合约部署到区块链上时，必须先将其编译成字节码的格式，然后将其作为交易的一部分发送。Java SDK 将帮你生成Wasm智能合约对应的Java包装类，可以方便的部署Wasm智能合约以及调用Wasm智能合约中的交易方法、事件和常量方法。</p>
<h3><a class="anchor" aria-hidden="true" id="编译wasm合约源代码"></a><a href="#编译wasm合约源代码" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>编译Wasm合约源代码</h3>
<ul>
<li>通过<code>CDT</code>编译器编译Wasm合约源代码(<a href="https://github.com/PlatONnetwork/PlatON-CDT/releases">CDT下载</a>)</li>
</ul>
<p>CDT安装成功以后，可通过如下命令编译Wasm合约源代码：</p>
<pre><code class="hljs css language-shell"><span class="hljs-meta">$</span><span class="bash"> platon-cpp &lt;contract&gt;.cpp</span>
</code></pre>
<p>编译成功以后，会生成<code>&lt;contract&gt;.wasm</code>和<code>&lt;contract&gt;.abi.json</code>文件</p>
<p><code>wasm</code>，输出Wasm合约的二进制文件以提供交易请求。
<code>abi.json</code>，详细描述了所有可公开访问的合约方法及其相关参数。<code>abi</code>文件也用于生成Wasm智能合约对应的Java包装类。</p>
<ul>
<li>使用<code>platon-truffle</code>编译Wasm合约源代码(<a href="https://platon-truffle.readthedocs.io/en/v0.13.1/getting-started/installation.html#">platon-truffle开发工具安装参考</a>|<a href="https://platon-truffle.readthedocs.io/en/v0.13.1/">platon-truffle开发工具使用手册</a>)</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="wasm智能合约java包装类"></a><a href="#wasm智能合约java包装类" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wasm智能合约Java包装类</h3>
<p>Java SDK支持从<code>abi.json</code>文件中自动生成Wasm智能合约对应的Java包装类。</p>
<ul>
<li>通过命令行工具生成Java包装类：</li>
</ul>
<pre><code class="hljs css language-shell"><span class="hljs-meta">$</span><span class="bash"> platon-web3j wasm generate /path/to/&lt;smart-contract&gt;.wasm /path/to/&lt;smart-contract&gt;.abi.json -o /path/to/src/main/java -p com.your.organisation.name</span>
</code></pre>
<ul>
<li>直接调用Java SDK中的工具类生成Java包装类：</li>
</ul>
<pre><code class="hljs css language-java">String args[] = {<span class="hljs-string">"generate"</span>, <span class="hljs-string">"/path/to/&lt;smart-contract&gt;.wasm"</span>, <span class="hljs-string">"/path/to/&lt;smart-contract&gt;.abi.json"</span>, <span class="hljs-string">"-o"</span>, <span class="hljs-string">"/path/to/src/main/java"</span>, <span class="hljs-string">"-p"</span> , <span class="hljs-string">"com.your.organisation.name"</span>};
org.web3j.codegen.WasmFunctionWrapperGenerator.run(args);
</code></pre>
<p>其中<code>wasm</code>和<code>abi.json</code>文件是编译wasm源代码以后生成的。</p>
<p>Wasm智能合约对应的Java包装类支持的主要功能：</p>
<ul>
<li>构建与部署</li>
<li>确定合约有效性</li>
<li>调用交易和事件</li>
<li>调用常量方法</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="构建与部署智能合约-1"></a><a href="#构建与部署智能合约-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>构建与部署智能合约</h4>
<p>智能合约的构建和部署使用包装类中的deploy方法：</p>
<pre><code class="hljs css language-java">YourSmartContract contract = YourSmartContract.deploy(
        &lt;web3j&gt;, &lt;transactionManager&gt;, contractGasProvider, chainId,
        [&lt;initialValue&gt;,] &lt;param1&gt;, ..., &lt;paramN&gt;).send();

or

YourSmartContract contract = YourSmartContract.deploy(
        &lt;web3j&gt;, &lt;Credentials&gt;, contractGasProvider, chainId,
        [&lt;initialValue&gt;,] &lt;param1&gt;, ..., &lt;paramN&gt;).send();
</code></pre>
<p>这个方法将在区块链上部署智能合约。部署成功以后，它将会返回一个智能合约的包装类实例，包含智能合约的地址。</p>
<p>如果你的智能合约在构造上接受LAT转账，则需要初始化参数值<initialValue>。</p>
<p>通过智能合约的地址也可以创建智能合约对应的Java包装类的实例：</p>
<pre><code class="hljs css language-java">YourSmartContract contract = YourSmartContract.load(
        <span class="hljs-string">"&lt;bech32Address&gt;"</span>, web3j, transactionManager, contractGasProvider,chainId);

or

YourSmartContract contract = YourSmartContract.load(
        <span class="hljs-string">"&lt;bech32Address&gt;"</span>, web3j, credentials, contractGasProvider,chainId);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="智能合约有效性-1"></a><a href="#智能合约有效性-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>智能合约有效性</h4>
<p>使用此方法，可以验证智能合约的有效性。只有在合约地址中部署的字节码与智能合约封装包中的字节码匹配时才会返回<code>true</code>。</p>
<pre><code class="hljs css language-java">contract.isValid();  <span class="hljs-comment">// returns false if the contract bytecode does not match what's deployed</span>
                     <span class="hljs-comment">// at the provided address</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="交易管理器-1"></a><a href="#交易管理器-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>交易管理器</h4>
<p>Java SDK提供了一个交易管理器<code>TransactionManager</code>来控制你连接到PlatON客户端的方式。默认采用<code>RawTransactionManager</code>。
<code>RawTransactionManager</code>需要指定链ID。防止一个链的交易被重新广播到另一个链上：</p>
<pre><code class="hljs css language-java">TransactionManager transactionManager = <span class="hljs-keyword">new</span> RawTransactionManager(web3j, credentials, <span class="hljs-number">100L</span>);
</code></pre>
<p>除了<code>RawTransactionManager</code>之外，Java SDK还提供了一个客户端交易管理器<code>ClientTransactionManager</code>，它将你的交易签名工作交给你正在连接的PlatON客户端。
此外，还有一个<code>ReadonlyTransactionManager</code>，用于只从智能合约中查询数据，而不与它进行交易。</p>
<h4><a class="anchor" aria-hidden="true" id="gas提供者-1"></a><a href="#gas提供者-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>gas提供者</h4>
<p>合约的手续费是通过 <code>GasProvider</code> 设置，因为合约gas消耗为动态的，和合约的逻辑相关。建议首次部署调用时使用比较大的值，如 999999。后面根据实际情况调整。</p>
<pre><code class="hljs css language-java">BigInteger GAS_LIMIT = BigInteger.valueOf(<span class="hljs-number">999999</span>);
BigInteger GAS_PRICE = BigInteger.valueOf(<span class="hljs-number">1000000000L</span>);

GasProvider gasProvider  = <span class="hljs-keyword">new</span> ContractGasProvider(GAS_PRICE, GAS_LIMIT);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="调用交易和事件-1"></a><a href="#调用交易和事件-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>调用交易和事件</h4>
<p>对于所有交易的方法，只返回与交易关联的交易收据。</p>
<pre><code class="hljs css language-java">TransactionReceipt transactionReceipt = contract.someMethod(&lt;param1&gt;, ...).send();
</code></pre>
<p>通过交易收据，可以提取索引和非索引的事件参数。</p>
<pre><code class="hljs css language-java">List&lt;SomeEventResponse&gt; events = contract.getSomeEvents(transactionReceipt);
</code></pre>
<p>或者，你可以使用可观察的过滤器Observable filter，监听与智能合约相关联的事件：</p>
<pre><code class="hljs css language-java">contract.someEventObservable(startBlock, endBlock).subscribe(event -&gt; ...);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="调用常量方法-1"></a><a href="#调用常量方法-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>调用常量方法</h4>
<p>常量方法只做查询，而不改变智能合约的状态。</p>
<pre><code class="hljs css language-java">Type result = contract.someMethod(&lt;param1&gt;, ...).send();
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/zh-CN/Python_SDK"><span class="arrow-prev">← </span><span>Previous</span></a><a class="docs-next button" href="/docs/zh-CN/JS_SDK"><span>JS SDK</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#开发库导入">开发库导入</a><ul class="toc-headings"><li><a href="#maven">maven</a></li><li><a href="#gradle">gradle</a></li></ul></li><li><a href="#基础api使用">基础api使用</a><ul class="toc-headings"><li><a href="#bech32地址">Bech32地址</a></li><li><a href="#网络参数">网络参数</a></li><li><a href="#钱包相关">钱包相关</a></li><li><a href="#凭证相关">凭证相关</a></li></ul></li><li><a href="#基础rpc接口">基础RPC接口</a><ul class="toc-headings"><li><a href="#web3clientversion">web3ClientVersion</a></li><li><a href="#web3sha3">web3Sha3</a></li><li><a href="#netversion">netVersion</a></li><li><a href="#netlistening">netListening</a></li><li><a href="#netpeercount">netPeerCount</a></li><li><a href="#platonprotocolversion">platonProtocolVersion</a></li><li><a href="#platonsyncing">platonSyncing</a></li><li><a href="#platongasprice">platonGasPrice</a></li><li><a href="#platonaccounts">platonAccounts</a></li><li><a href="#platonblocknumber">platonBlockNumber</a></li><li><a href="#platongetbalance">platonGetBalance</a></li><li><a href="#platongetstorageat">platonGetStorageAt</a></li><li><a href="#platongetblocktransactioncountbyhash">platonGetBlockTransactionCountByHash</a></li><li><a href="#platongettransactioncount">platonGetTransactionCount</a></li><li><a href="#platongetblocktransactioncountbynumber">platonGetBlockTransactionCountByNumber</a></li><li><a href="#platongetcode">platonGetCode</a></li><li><a href="#platonsign">platonSign</a></li><li><a href="#platonsendtransaction">platonSendTransaction</a></li><li><a href="#platonsendrawtransaction">platonSendRawTransaction</a></li><li><a href="#platoncall">platonCall</a></li><li><a href="#platonestimategas">platonEstimateGas</a></li><li><a href="#platongetblockbyhash">platonGetBlockByHash</a></li><li><a href="#platongetblockbynumber">platonGetBlockByNumber</a></li><li><a href="#platongettransactionbyblockhashandindex">platonGetTransactionByBlockHashAndIndex</a></li><li><a href="#platongettransactionbyblocknumberandindex">platonGetTransactionByBlockNumberAndIndex</a></li><li><a href="#platongettransactionreceipt">platonGetTransactionReceipt</a></li><li><a href="#platonnewfilter">platonNewFilter</a></li><li><a href="#platonnewblockfilter">platonNewBlockFilter</a></li><li><a href="#platonnewpendingtransactionfilter">platonNewPendingTransactionFilter</a></li><li><a href="#platonnewpendingtransactionfilter-1">platonNewPendingTransactionFilter</a></li><li><a href="#platonuninstallfilter">platonUninstallFilter</a></li><li><a href="#platongetfilterchanges">platonGetFilterChanges</a></li><li><a href="#platongetfilterlogs">platonGetFilterLogs</a></li><li><a href="#platongetlogs">platonGetLogs</a></li><li><a href="#platonpendingtransactions">platonPendingTransactions</a></li><li><a href="#dbputstring">dbPutString</a></li><li><a href="#dbgetstring">dbGetString</a></li><li><a href="#dbputhex">dbPutHex</a></li><li><a href="#dbgethex">dbGetHex</a></li><li><a href="#platonevidences">platonEvidences</a></li><li><a href="#getprogramversion">getProgramVersion</a></li><li><a href="#getschnorrnizkprove">getSchnorrNIZKProve</a></li><li><a href="#geteconomicconfig">getEconomicConfig</a></li></ul></li><li><a href="#系统合约调用">系统合约调用</a><ul class="toc-headings"><li><a href="#质押相关接口">质押相关接口</a></li><li><a href="#委托相关接口">委托相关接口</a></li><li><a href="#奖励相关接口">奖励相关接口</a></li><li><a href="#节点相关合约">节点相关合约</a></li><li><a href="#治理相关合约">治理相关合约</a></li><li><a href="#双签举报相关接口">双签举报相关接口</a></li><li><a href="#锁仓相关接口">锁仓相关接口</a></li></ul></li><li><a href="#solidity合约调用">Solidity合约调用</a><ul class="toc-headings"><li><a href="#编译solidity源代码">编译solidity源代码</a></li><li><a href="#solidity智能合约java包装类">Solidity智能合约Java包装类</a></li></ul></li><li><a href="#wasm合约调用">Wasm合约调用</a><ul class="toc-headings"><li><a href="#编译wasm合约源代码">编译Wasm合约源代码</a></li><li><a href="#wasm智能合约java包装类">Wasm智能合约Java包装类</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.platon.network/" class="nav-home"><img src="/docs/img/PlatON-logo2.svg" alt="PlatON" width="66" height="58"/></a><div><a href="https://www.platon.network/">PlatON network</a><a href="https://latticex.foundation/home">Lattice.Foundation</a><a href="https://forum.latticex.foundation/">Forum</a></div><div class="gitstar"><a class="github-button" href="https://github.com/PlatONnetwork/PlatON-Go" data-color-scheme="no-preference: light; light: light; dark: light;" data-icon="octicon-star" data-size="small" data-show-count="true" aria-label="Star PlatONnetwork/PlatON-Go on GitHub">Star</a></div></section><section class="copyright">COPYRIGHT  © 2021 PLATON NETWORK.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c2ce4863993980eb049b661be250c773',
                indexName: 'platon',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":10}
              });
            </script></body></html>